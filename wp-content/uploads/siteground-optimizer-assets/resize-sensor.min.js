(function(b,a){typeof define=="function"&&define.amd?define(a):typeof exports=="object"?module.exports=a():b.ResizeSensor=a()})(this,function(){var b,a;if(typeof window=="undefined")return null;b=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(a){return window.setTimeout(a,20)};function c(a,d){var b=Object.prototype.toString.call(a),e='[object Array]'===b||'[object NodeList]'===b||'[object HTMLCollection]'===b||'[object Object]'===b||'undefined'!=typeof jQuery&&a instanceof jQuery||'undefined'!=typeof Elements&&a instanceof Elements,c=0,f=a.length;if(e)for(;c<f;c++)d(a[c]);else d(a)}return a=function(d,e){function f(){var b=[],a,c;this.add=function(a){b.push(a)},this.call=function(){for(a=0,c=b.length;a<c;a++)b[a].call()},this.remove=function(e){var d=[];for(a=0,c=b.length;a<c;a++)b[a]!==e&&d.push(b[a]);b=d},this.length=function(){return b.length}}function g(a,b){return a.currentStyle?a.currentStyle[b]:window.getComputedStyle?window.getComputedStyle(a,null).getPropertyValue(b):a.style[b]}function h(a,t){var h,m,c,l,j,d,k,i,e,o,p,q,s,r,n;if(a.resizedAttached){a.resizedAttached.add(t);return}a.resizedAttached=new f,a.resizedAttached.add(t),a.resizeSensor=document.createElement('div'),a.resizeSensor.className='resize-sensor',h='position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;',m='position: absolute; left: 0; top: 0; transition: 0s;',a.resizeSensor.style.cssText=h,a.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+h+'">'+'<div style="'+m+'"></div>'+'</div>'+'<div class="resize-sensor-shrink" style="'+h+'">'+'<div style="'+m+' width: 200%; height: 200%"></div>'+'</div>',a.appendChild(a.resizeSensor),g(a,'position')=='static'&&(a.style.position='relative'),c=a.resizeSensor.childNodes[0],l=c.childNodes[0],j=a.resizeSensor.childNodes[1],o=a.offsetWidth,p=a.offsetHeight,q=function(){l.style.width='100000px',l.style.height='100000px',c.scrollLeft=1e5,c.scrollTop=1e5,j.scrollLeft=1e5,j.scrollTop=1e5},q(),s=function(){if(k=0,!d)return;o=i,p=e,a.resizedAttached&&a.resizedAttached.call()},r=function(){i=a.offsetWidth,e=a.offsetHeight,d=i!=o||e!=p,d&&!k&&(k=b(s)),q()},n=function(a,b,c){a.attachEvent?a.attachEvent('on'+b,c):a.addEventListener(b,c)},n(c,'scroll',r),n(j,'scroll',r)}c(d,function(a){h(a,e)}),this.detach=function(b){a.detach(d,b)}},a.detach=function(b,a){c(b,function(b){if(b.resizedAttached&&typeof a=="function")if(b.resizedAttached.remove(a),b.resizedAttached.length())return;b.resizeSensor&&(b.contains(b.resizeSensor)&&b.removeChild(b.resizeSensor),delete b.resizeSensor,delete b.resizedAttached)})},a})