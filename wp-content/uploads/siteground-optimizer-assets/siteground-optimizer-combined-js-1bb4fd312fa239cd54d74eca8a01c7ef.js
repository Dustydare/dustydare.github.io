(()=>{"use strict";var e={4285:(e,t,r)=>{function n(){return"undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}function i(){return"npm"}r.d(t,{S:()=>i,n:()=>n})},7392:(e,t,r)=>{r.d(t,{KV:()=>i,l$:()=>o});var n=r(4285);function i(){return!(0,n.n)()&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function o(e,t){return e.require(t)}e=r.hmd(e)},7790:(e,t,r)=>{r.d(t,{ph:()=>l,yW:()=>u});var n=r(7392),i=r(63);e=r.hmd(e);const o=(0,i.Rf)(),s={nowSeconds:()=>Date.now()/1e3},a=(0,n.KV)()?function(){try{return(0,n.l$)(e,"perf_hooks").performance}catch(e){return}}():function(){const{performance:e}=o;if(e&&e.now)return{now:()=>e.now(),timeOrigin:Date.now()-e.now()}}(),c=void 0===a?s:{nowSeconds:()=>(a.timeOrigin+a.now())/1e3},u=s.nowSeconds.bind(s),l=c.nowSeconds.bind(c);let d;(()=>{const{performance:e}=o;if(!e||!e.now)return void(d="none");const t=36e5,r=e.now(),n=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+r-n):t,s=i<t,a=e.timing&&e.timing.navigationStart,c="number"==typeof a?Math.abs(a+r-n):t;s||c<t?i<=c?(d="timeOrigin",e.timeOrigin):d="navigationStart":d="dateNow"})()},63:(e,t,r)=>{function n(e){return e&&e.Math==Math?e:void 0}r.d(t,{Rf:()=>o,YO:()=>s,n2:()=>i});const i="object"==typeof globalThis&&n(globalThis)||"object"==typeof window&&n(window)||"object"==typeof self&&n(self)||"object"==typeof r.g&&n(r.g)||function(){return this}()||{};function o(){return i}function s(e,t,r){const n=r||i,o=n.__SENTRY__=n.__SENTRY__||{};return o[e]||(o[e]=t())}},7111:(e,t,r)=>{var n=r(6733),i=r(9821),o=TypeError;e.exports=function(e){if(n(e))return e;throw new o(i(e)+" is not a function")}},7988:(e,t,r)=>{var n=r(2359),i=r(9821),o=TypeError;e.exports=function(e){if(n(e))return e;throw new o(i(e)+" is not a constructor")}},8505:(e,t,r)=>{var n=r(6733),i=String,o=TypeError;e.exports=function(e){if("object"==typeof e||n(e))return e;throw new o("Can't set "+i(e)+" as a prototype")}},9736:(e,t,r)=>{var n=r(95),i=r(2391),o=r(1787).f,s=n("unscopables"),a=Array.prototype;void 0===a[s]&&o(a,s,{configurable:!0,value:i(null)}),e.exports=function(e){a[s][e]=!0}},6637:(e,t,r)=>{var n=r(966).charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},7728:(e,t,r)=>{var n=r(1321),i=TypeError;e.exports=function(e,t){if(n(t,e))return e;throw new i("Incorrect invocation")}},1176:(e,t,r)=>{var n=r(5052),i=String,o=TypeError;e.exports=function(e){if(n(e))return e;throw new o(i(e)+" is not an object")}},2460:(e,t,r)=>{var n=r(4229);e.exports=n((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},6570:(e,t,r)=>{var n=r(9996).forEach,i=r(6038)("forEach");e.exports=i?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},9540:(e,t,r)=>{var n=r(905),i=r(3231),o=r(9646),s=function(e){return function(t,r,s){var a,c=n(t),u=o(c),l=i(s,u);if(e&&r!=r){for(;u>l;)if((a=c[l++])!=a)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===r)return e||l||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},9996:(e,t,r)=>{var n=r(7636),i=r(5968),o=r(9337),s=r(2991),a=r(9646),c=r(7501),u=i([].push),l=function(e){var t=1===e,r=2===e,i=3===e,l=4===e,d=6===e,h=7===e,p=5===e||d;return function(f,g,m,v){for(var y,E,_=s(f),S=o(_),I=n(g,m),A=a(S),O=0,C=v||c,T=t?C(f,A):r||h?C(f,0):void 0;A>O;O++)if((p||O in S)&&(E=I(y=S[O],O,_),e))if(t)T[O]=E;else if(E)switch(e){case 3:return!0;case 5:return y;case 6:return O;case 2:u(T,y)}else switch(e){case 4:return!1;case 7:u(T,y)}return d?-1:i||l?l:T}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},6038:(e,t,r)=>{var n=r(4229);e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){return 1},1)}))}},3143:(e,t,r)=>{var n=r(7111),i=r(2991),o=r(9337),s=r(9646),a=TypeError,c=function(e){return function(t,r,c,u){n(r);var l=i(t),d=o(l),h=s(l),p=e?h-1:0,f=e?-1:1;if(c<2)for(;;){if(p in d){u=d[p],p+=f;break}if(p+=f,e?p<0:h<=p)throw new a("Reduce of empty array with no initial value")}for(;e?p>=0:h>p;p+=f)p in d&&(u=r(u,d[p],p,l));return u}};e.exports={left:c(!1),right:c(!0)}},9794:(e,t,r)=>{var n=r(3231),i=r(9646),o=r(2324),s=Array,a=Math.max;e.exports=function(e,t,r){for(var c=i(e),u=n(t,c),l=n(void 0===r?c:r,c),d=s(a(l-u,0)),h=0;u<l;u++,h++)o(d,h,e[u]);return d.length=h,d}},8760:(e,t,r)=>{var n=r(3718),i=r(2359),o=r(5052),s=r(95)("species"),a=Array;e.exports=function(e){var t;return n(e)&&(t=e.constructor,(i(t)&&(t===a||n(t.prototype))||o(t)&&null===(t=t[s]))&&(t=void 0)),void 0===t?a:t}},7501:(e,t,r)=>{var n=r(8760);e.exports=function(e,t){return new(n(e))(0===t?0:t)}},4575:(e,t,r)=>{var n=r(95)("iterator"),i=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){i=!0}};s[n]=function(){return this},Array.from(s,(function(){throw 2}))}catch(e){}e.exports=function(e,t){try{if(!t&&!i)return!1}catch(e){return!1}var r=!1;try{var o={};o[n]=function(){return{next:function(){return{done:r=!0}}}},e(o)}catch(e){}return r}},7079:(e,t,r)=>{var n=r(5968),i=n({}.toString),o=n("".slice);e.exports=function(e){return o(i(e),8,-1)}},1589:(e,t,r)=>{var n=r(1601),i=r(6733),o=r(7079),s=r(95)("toStringTag"),a=Object,c="Arguments"===o(function(){return arguments}());e.exports=n?o:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=a(e),s))?r:c?o(t):"Object"===(n=o(t))&&i(t.callee)?"Arguments":n}},3370:(e,t,r)=>{var n=r(5968),i=r(8312),o=r(5926).getWeakData,s=r(7728),a=r(1176),c=r(9650),u=r(5052),l=r(9003),d=r(9996),h=r(8270),p=r(6407),f=p.set,g=p.getterFor,m=d.find,v=d.findIndex,y=n([].splice),E=0,_=function(e){return e.frozen||(e.frozen=new S)},S=function(){this.entries=[]},I=function(e,t){return m(e.entries,(function(e){return e[0]===t}))};S.prototype={get:function(e){var t=I(this,e);if(t)return t[1]},has:function(e){return!!I(this,e)},set:function(e,t){var r=I(this,e);r?r[1]=t:this.entries.push([e,t])},delete:function(e){var t=v(this.entries,(function(t){return t[0]===e}));return~t&&y(this.entries,t,1),!!~t}},e.exports={getConstructor:function(e,t,r,n){var d=e((function(e,i){s(e,p),f(e,{type:t,id:E++,frozen:void 0}),c(i)||l(i,e[n],{that:e,AS_ENTRIES:r})})),p=d.prototype,m=g(t),v=function(e,t,r){var n=m(e),i=o(a(t),!0);return!0===i?_(n).set(t,r):i[n.id]=r,e};return i(p,{delete:function(e){var t=m(this);if(!u(e))return!1;var r=o(e);return!0===r?_(t).delete(e):r&&h(r,t.id)&&delete r[t.id]},has:function(e){var t=m(this);if(!u(e))return!1;var r=o(e);return!0===r?_(t).has(e):r&&h(r,t.id)}}),i(p,r?{get:function(e){var t=m(this);if(u(e)){var r=o(e);return!0===r?_(t).get(e):r?r[t.id]:void 0}},set:function(e,t){return v(this,e,t)}}:{add:function(e){return v(this,e,!0)}}),d}}},9789:(e,t,r)=>{var n=r(3103),i=r(9859),o=r(5968),s=r(6541),a=r(4768),c=r(5926),u=r(9003),l=r(7728),d=r(6733),h=r(9650),p=r(5052),f=r(4229),g=r(4575),m=r(4555),v=r(835);e.exports=function(e,t,r){var y=-1!==e.indexOf("Map"),E=-1!==e.indexOf("Weak"),_=y?"set":"add",S=i[e],I=S&&S.prototype,A=S,O={},C=function(e){var t=o(I[e]);a(I,e,"add"===e?function(e){return t(this,0===e?0:e),this}:"delete"===e?function(e){return!(E&&!p(e))&&t(this,0===e?0:e)}:"get"===e?function(e){return E&&!p(e)?void 0:t(this,0===e?0:e)}:"has"===e?function(e){return!(E&&!p(e))&&t(this,0===e?0:e)}:function(e,r){return t(this,0===e?0:e,r),this})};if(s(e,!d(S)||!(E||I.forEach&&!f((function(){(new S).entries().next()})))))A=r.getConstructor(t,e,y,_),c.enable();else if(s(e,!0)){var T=new A,b=T[_](E?{}:-0,1)!==T,w=f((function(){T.has(1)})),R=g((function(e){new S(e)})),P=!E&&f((function(){for(var e=new S,t=5;t--;)e[_](t,t);return!e.has(-0)}));R||((A=t((function(e,t){l(e,I);var r=v(new S,e,A);return h(t)||u(t,r[_],{that:r,AS_ENTRIES:y}),r}))).prototype=I,I.constructor=A),(w||P)&&(C("delete"),C("has"),y&&C("get")),(P||b)&&C(_),E&&I.clear&&delete I.clear}return O[e]=A,n({global:!0,constructor:!0,forced:A!==S},O),m(A,e),E||r.setStrong(A,e,y),A}},7081:(e,t,r)=>{var n=r(8270),i=r(4826),o=r(7933),s=r(1787);e.exports=function(e,t,r){for(var a=i(t),c=s.f,u=o.f,l=0;l<a.length;l++){var d=a[l];n(e,d)||r&&n(r,d)||c(e,d,u(t,d))}}},8127:(e,t,r)=>{var n=r(95)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n]=!1,"/./"[e](t)}catch(e){}}return!1}},7528:(e,t,r)=>{var n=r(4229);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},3684:e=>{e.exports=function(e,t){return{value:e,done:t}}},5762:(e,t,r)=>{var n=r(7400),i=r(1787),o=r(5358);e.exports=n?function(e,t,r){return i.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},5358:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},2324:(e,t,r)=>{var n=r(9310),i=r(1787),o=r(5358);e.exports=function(e,t,r){var s=n(t);s in e?i.f(e,s,o(0,r)):e[s]=r}},6616:(e,t,r)=>{var n=r(6039),i=r(1787);e.exports=function(e,t,r){return r.get&&n(r.get,t,{getter:!0}),r.set&&n(r.set,t,{setter:!0}),i.f(e,t,r)}},4768:(e,t,r)=>{var n=r(6733),i=r(1787),o=r(6039),s=r(8400);e.exports=function(e,t,r,a){a||(a={});var c=a.enumerable,u=void 0!==a.name?a.name:t;if(n(r)&&o(r,u,a),a.global)c?e[t]=r:s(t,r);else{try{a.unsafe?e[t]&&(c=!0):delete e[t]}catch(e){}c?e[t]=r:i.f(e,t,{value:r,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}},8312:(e,t,r)=>{var n=r(4768);e.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},8400:(e,t,r)=>{var n=r(9859),i=Object.defineProperty;e.exports=function(e,t){try{i(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},7400:(e,t,r)=>{var n=r(4229);e.exports=!n((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},3777:e=>{var t="object"==typeof document&&document.all,r=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:r}},2635:(e,t,r)=>{var n=r(9859),i=r(5052),o=n.document,s=i(o)&&i(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},5694:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8865:(e,t,r)=>{var n=r(2635)("span").classList,i=n&&n.constructor&&n.constructor.prototype;e.exports=i===Object.prototype?void 0:i},8801:(e,t,r)=>{var n=r(9859),i=r(7079);e.exports="process"===i(n.process)},598:e=>{e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},6358:(e,t,r)=>{var n,i,o=r(9859),s=r(598),a=o.process,c=o.Deno,u=a&&a.versions||c&&c.version,l=u&&u.v8;l&&(i=(n=l.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!i&&s&&(!(n=s.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=s.match(/Chrome\/(\d+)/))&&(i=+n[1]),e.exports=i},3837:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},3103:(e,t,r)=>{var n=r(9859),i=r(7933).f,o=r(5762),s=r(4768),a=r(8400),c=r(7081),u=r(6541);e.exports=function(e,t){var r,l,d,h,p,f=e.target,g=e.global,m=e.stat;if(r=g?n:m?n[f]||a(f,{}):(n[f]||{}).prototype)for(l in t){if(h=t[l],d=e.dontCallGetSet?(p=i(r,l))&&p.value:r[l],!u(g?l:f+(m?".":"#")+l,e.forced)&&void 0!==d){if(typeof h==typeof d)continue;c(h,d)}(e.sham||d&&d.sham)&&o(h,"sham",!0),s(r,l,h,e)}}},4229:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},4954:(e,t,r)=>{r(7950);var n=r(4745),i=r(4768),o=r(3466),s=r(4229),a=r(95),c=r(5762),u=a("species"),l=RegExp.prototype;e.exports=function(e,t,r,d){var h=a(e),p=!s((function(){var t={};return t[h]=function(){return 7},7!==""[e](t)})),f=p&&!s((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[u]=function(){return r},r.flags="",r[h]=/./[h]),r.exec=function(){return t=!0,null},r[h](""),!t}));if(!p||!f||r){var g=n(/./[h]),m=t(h,""[e],(function(e,t,r,i,s){var a=n(e),c=t.exec;return c===o||c===l.exec?p&&!s?{done:!0,value:g(t,r,i)}:{done:!0,value:a(r,t,i)}:{done:!1}}));i(String.prototype,e,m[0]),i(l,h,m[1])}d&&c(l[h],"sham",!0)}},8476:(e,t,r)=>{var n=r(4229);e.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},3171:(e,t,r)=>{var n=r(7188),i=Function.prototype,o=i.apply,s=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?s.bind(o):function(){return s.apply(o,arguments)})},7636:(e,t,r)=>{var n=r(4745),i=r(7111),o=r(7188),s=n(n.bind);e.exports=function(e,t){return i(e),void 0===t?e:o?s(e,t):function(){return e.apply(t,arguments)}}},7188:(e,t,r)=>{var n=r(4229);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},266:(e,t,r)=>{var n=r(7188),i=Function.prototype.call;e.exports=n?i.bind(i):function(){return i.apply(i,arguments)}},1805:(e,t,r)=>{var n=r(7400),i=r(8270),o=Function.prototype,s=n&&Object.getOwnPropertyDescriptor,a=i(o,"name"),c=a&&"something"===function(){}.name,u=a&&(!n||n&&s(o,"name").configurable);e.exports={EXISTS:a,PROPER:c,CONFIGURABLE:u}},3411:(e,t,r)=>{var n=r(5968),i=r(7111);e.exports=function(e,t,r){try{return n(i(Object.getOwnPropertyDescriptor(e,t)[r]))}catch(e){}}},4745:(e,t,r)=>{var n=r(7079),i=r(5968);e.exports=function(e){if("Function"===n(e))return i(e)}},5968:(e,t,r)=>{var n=r(7188),i=Function.prototype,o=i.call,s=n&&i.bind.bind(o,o);e.exports=n?s:function(e){return function(){return o.apply(e,arguments)}}},1333:(e,t,r)=>{var n=r(9859),i=r(6733);e.exports=function(e,t){return arguments.length<2?(r=n[e],i(r)?r:void 0):n[e]&&n[e][t];var r}},8830:(e,t,r)=>{var n=r(1589),i=r(5300),o=r(9650),s=r(5495),a=r(95)("iterator");e.exports=function(e){if(!o(e))return i(e,a)||i(e,"@@iterator")||s[n(e)]}},8403:(e,t,r)=>{var n=r(266),i=r(7111),o=r(1176),s=r(9821),a=r(8830),c=TypeError;e.exports=function(e,t){var r=arguments.length<2?a(e):t;if(i(r))return o(n(r,e));throw new c(s(e)+" is not iterable")}},5300:(e,t,r)=>{var n=r(7111),i=r(9650);e.exports=function(e,t){var r=e[t];return i(r)?void 0:n(r)}},17:(e,t,r)=>{var n=r(5968),i=r(2991),o=Math.floor,s=n("".charAt),a=n("".replace),c=n("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,n,d,h){var p=r+e.length,f=n.length,g=l;return void 0!==d&&(d=i(d),g=u),a(h,g,(function(i,a){var u;switch(s(a,0)){case"$":return"$";case"&":return e;case"`":return c(t,0,r);case"'":return c(t,p);case"<":u=d[c(a,1,-1)];break;default:var l=+a;if(0===l)return i;if(l>f){var h=o(l/10);return 0===h?i:h<=f?void 0===n[h-1]?s(a,1):n[h-1]+s(a,1):i}u=n[l-1]}return void 0===u?"":u}))}},9859:function(e,t,r){var n=function(e){return e&&e.Math===Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||this||Function("return this")()},8270:(e,t,r)=>{var n=r(5968),i=r(2991),o=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},5977:e=>{e.exports={}},8385:(e,t,r)=>{var n=r(1333);e.exports=n("document","documentElement")},4394:(e,t,r)=>{var n=r(7400),i=r(4229),o=r(2635);e.exports=!n&&!i((function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},9337:(e,t,r)=>{var n=r(5968),i=r(4229),o=r(7079),s=Object,a=n("".split);e.exports=i((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"===o(e)?a(e,""):s(e)}:s},835:(e,t,r)=>{var n=r(6733),i=r(5052),o=r(6540);e.exports=function(e,t,r){var s,a;return o&&n(s=t.constructor)&&s!==r&&i(a=s.prototype)&&a!==r.prototype&&o(e,a),e}},8511:(e,t,r)=>{var n=r(5968),i=r(6733),o=r(5353),s=n(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return s(e)}),e.exports=o.inspectSource},5926:(e,t,r)=>{var n=r(3103),i=r(5968),o=r(5977),s=r(5052),a=r(8270),c=r(1787).f,u=r(8151),l=r(166),d=r(5343),h=r(1441),p=r(8476),f=!1,g=h("meta"),m=0,v=function(e){c(e,g,{value:{objectID:"O"+m++,weakData:{}}})},y=e.exports={enable:function(){y.enable=function(){},f=!0;var e=u.f,t=i([].splice),r={};r[g]=1,e(r).length&&(u.f=function(r){for(var n=e(r),i=0,o=n.length;i<o;i++)if(n[i]===g){t(n,i,1);break}return n},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},fastKey:function(e,t){if(!s(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,g)){if(!d(e))return"F";if(!t)return"E";v(e)}return e[g].objectID},getWeakData:function(e,t){if(!a(e,g)){if(!d(e))return!0;if(!t)return!1;v(e)}return e[g].weakData},onFreeze:function(e){return p&&f&&d(e)&&!a(e,g)&&v(e),e}};o[g]=!0},6407:(e,t,r)=>{var n,i,o,s=r(1180),a=r(9859),c=r(5052),u=r(5762),l=r(8270),d=r(5353),h=r(4399),p=r(5977),f="Object already initialized",g=a.TypeError,m=a.WeakMap;if(s||d.state){var v=d.state||(d.state=new m);v.get=v.get,v.has=v.has,v.set=v.set,n=function(e,t){if(v.has(e))throw new g(f);return t.facade=e,v.set(e,t),t},i=function(e){return v.get(e)||{}},o=function(e){return v.has(e)}}else{var y=h("state");p[y]=!0,n=function(e,t){if(l(e,y))throw new g(f);return t.facade=e,u(e,y,t),t},i=function(e){return l(e,y)?e[y]:{}},o=function(e){return l(e,y)}}e.exports={set:n,get:i,has:o,enforce:function(e){return o(e)?i(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!c(t)||(r=i(t)).type!==e)throw new g("Incompatible receiver, "+e+" required");return r}}}},1943:(e,t,r)=>{var n=r(95),i=r(5495),o=n("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||s[o]===e)}},3718:(e,t,r)=>{var n=r(7079);e.exports=Array.isArray||function(e){return"Array"===n(e)}},6733:(e,t,r)=>{var n=r(3777),i=n.all;e.exports=n.IS_HTMLDDA?function(e){return"function"==typeof e||e===i}:function(e){return"function"==typeof e}},2359:(e,t,r)=>{var n=r(5968),i=r(4229),o=r(6733),s=r(1589),a=r(1333),c=r(8511),u=function(){},l=[],d=a("Reflect","construct"),h=/^\s*(?:class|function)\b/,p=n(h.exec),f=!h.test(u),g=function(e){if(!o(e))return!1;try{return d(u,l,e),!0}catch(e){return!1}},m=function(e){if(!o(e))return!1;switch(s(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!p(h,c(e))}catch(e){return!0}};m.sham=!0,e.exports=!d||i((function(){var e;return g(g.call)||!g(Object)||!g((function(){e=!0}))||e}))?m:g},6541:(e,t,r)=>{var n=r(4229),i=r(6733),o=/#|\.prototype\./,s=function(e,t){var r=c[a(e)];return r===l||r!==u&&(i(t)?n(t):!!t)},a=s.normalize=function(e){return String(e).replace(o,".").toLowerCase()},c=s.data={},u=s.NATIVE="N",l=s.POLYFILL="P";e.exports=s},9650:e=>{e.exports=function(e){return null==e}},5052:(e,t,r)=>{var n=r(6733),i=r(3777),o=i.all;e.exports=i.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:n(e)||e===o}:function(e){return"object"==typeof e?null!==e:n(e)}},4231:e=>{e.exports=!1},8311:(e,t,r)=>{var n=r(5052),i=r(7079),o=r(95)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[o])?!!t:"RegExp"===i(e))}},9395:(e,t,r)=>{var n=r(1333),i=r(6733),o=r(1321),s=r(6969),a=Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return i(t)&&o(t.prototype,a(e))}},9003:(e,t,r)=>{var n=r(7636),i=r(266),o=r(1176),s=r(9821),a=r(1943),c=r(9646),u=r(1321),l=r(8403),d=r(8830),h=r(7281),p=TypeError,f=function(e,t){this.stopped=e,this.result=t},g=f.prototype;e.exports=function(e,t,r){var m,v,y,E,_,S,I,A=r&&r.that,O=!(!r||!r.AS_ENTRIES),C=!(!r||!r.IS_RECORD),T=!(!r||!r.IS_ITERATOR),b=!(!r||!r.INTERRUPTED),w=n(t,A),R=function(e){return m&&h(m,"normal",e),new f(!0,e)},P=function(e){return O?(o(e),b?w(e[0],e[1],R):w(e[0],e[1])):b?w(e,R):w(e)};if(C)m=e.iterator;else if(T)m=e;else{if(!(v=d(e)))throw new p(s(e)+" is not iterable");if(a(v)){for(y=0,E=c(e);E>y;y++)if((_=P(e[y]))&&u(g,_))return _;return new f(!1)}m=l(e,v)}for(S=C?e.next:m.next;!(I=i(S,m)).done;){try{_=P(I.value)}catch(e){h(m,"throw",e)}if("object"==typeof _&&_&&u(g,_))return _}return new f(!1)}},7281:(e,t,r)=>{var n=r(266),i=r(1176),o=r(5300);e.exports=function(e,t,r){var s,a;i(e);try{if(!(s=o(e,"return"))){if("throw"===t)throw r;return r}s=n(s,e)}catch(e){a=!0,s=e}if("throw"===t)throw r;if(a)throw s;return i(s),r}},2247:(e,t,r)=>{var n=r(693).IteratorPrototype,i=r(2391),o=r(5358),s=r(4555),a=r(5495),c=function(){return this};e.exports=function(e,t,r,u){var l=t+" Iterator";return e.prototype=i(n,{next:o(+!u,r)}),s(e,l,!1,!0),a[l]=c,e}},2707:(e,t,r)=>{var n=r(3103),i=r(266),o=r(4231),s=r(1805),a=r(6733),c=r(2247),u=r(7567),l=r(6540),d=r(4555),h=r(5762),p=r(4768),f=r(95),g=r(5495),m=r(693),v=s.PROPER,y=s.CONFIGURABLE,E=m.IteratorPrototype,_=m.BUGGY_SAFARI_ITERATORS,S=f("iterator"),I="keys",A="values",O="entries",C=function(){return this};e.exports=function(e,t,r,s,f,m,T){c(r,t,s);var b,w,R,P=function(e){if(e===f&&k)return k;if(!_&&e&&e in L)return L[e];switch(e){case I:case A:case O:return function(){return new r(this,e)}}return function(){return new r(this)}},N=t+" Iterator",D=!1,L=e.prototype,x=L[S]||L["@@iterator"]||f&&L[f],k=!_&&x||P(f),M="Array"===t&&L.entries||x;if(M&&(b=u(M.call(new e)))!==Object.prototype&&b.next&&(o||u(b)===E||(l?l(b,E):a(b[S])||p(b,S,C)),d(b,N,!0,!0),o&&(g[N]=C)),v&&f===A&&x&&x.name!==A&&(!o&&y?h(L,"name",A):(D=!0,k=function(){return i(x,this)})),f)if(w={values:P(A),keys:m?k:P(I),entries:P(O)},T)for(R in w)(_||D||!(R in L))&&p(L,R,w[R]);else n({target:t,proto:!0,forced:_||D},w);return o&&!T||L[S]===k||p(L,S,k,{name:f}),g[t]=k,w}},693:(e,t,r)=>{var n,i,o,s=r(4229),a=r(6733),c=r(5052),u=r(2391),l=r(7567),d=r(4768),h=r(95),p=r(4231),f=h("iterator"),g=!1;[].keys&&("next"in(o=[].keys())?(i=l(l(o)))!==Object.prototype&&(n=i):g=!0),!c(n)||s((function(){var e={};return n[f].call(e)!==e}))?n={}:p&&(n=u(n)),a(n[f])||d(n,f,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:g}},5495:e=>{e.exports={}},9646:(e,t,r)=>{var n=r(4237);e.exports=function(e){return n(e.length)}},6039:(e,t,r)=>{var n=r(5968),i=r(4229),o=r(6733),s=r(8270),a=r(7400),c=r(1805).CONFIGURABLE,u=r(8511),l=r(6407),d=l.enforce,h=l.get,p=String,f=Object.defineProperty,g=n("".slice),m=n("".replace),v=n([].join),y=a&&!i((function(){return 8!==f((function(){}),"length",{value:8}).length})),E=String(String).split("String"),_=e.exports=function(e,t,r){"Symbol("===g(p(t),0,7)&&(t="["+m(p(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!s(e,"name")||c&&e.name!==t)&&(a?f(e,"name",{value:t,configurable:!0}):e.name=t),y&&r&&s(r,"arity")&&e.length!==r.arity&&f(e,"length",{value:r.arity});try{r&&s(r,"constructor")&&r.constructor?a&&f(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var n=d(e);return s(n,"source")||(n.source=v(E,"string"==typeof t?t:"")),e};Function.prototype.toString=_((function(){return o(this)&&h(this).source||u(this)}),"toString")},917:e=>{var t=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var n=+e;return(n>0?r:t)(n)}},7272:(e,t,r)=>{var n=r(8311),i=TypeError;e.exports=function(e){if(n(e))throw new i("The method doesn't accept regular expressions");return e}},5496:(e,t,r)=>{var n=r(9859),i=r(4229),o=r(5968),s=r(3326),a=r(1017).trim,c=r(1647),u=o("".charAt),l=n.parseFloat,d=n.Symbol,h=d&&d.iterator,p=1/l(c+"-0")!=-1/0||h&&!i((function(){l(Object(h))}));e.exports=p?function(e){var t=a(s(e)),r=l(t);return 0===r&&"-"===u(t,0)?-0:r}:l},47:(e,t,r)=>{var n=r(7400),i=r(5968),o=r(266),s=r(4229),a=r(5632),c=r(894),u=r(9195),l=r(2991),d=r(9337),h=Object.assign,p=Object.defineProperty,f=i([].concat);e.exports=!h||s((function(){if(n&&1!==h({b:1},h(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol("assign detection"),i="abcdefghijklmnopqrst";return e[r]=7,i.split("").forEach((function(e){t[e]=e})),7!==h({},e)[r]||a(h({},t)).join("")!==i}))?function(e,t){for(var r=l(e),i=arguments.length,s=1,h=c.f,p=u.f;i>s;)for(var g,m=d(arguments[s++]),v=h?f(a(m),h(m)):a(m),y=v.length,E=0;y>E;)g=v[E++],n&&!o(p,m,g)||(r[g]=m[g]);return r}:h},2391:(e,t,r)=>{var n,i=r(1176),o=r(219),s=r(3837),a=r(5977),c=r(8385),u=r(2635),l=r(4399),d="prototype",h="script",p=l("IE_PROTO"),f=function(){},g=function(e){return"<"+h+">"+e+"</"+h+">"},m=function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t},v=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}var e,t,r;v="undefined"!=typeof document?document.domain&&n?m(n):(t=u("iframe"),r="java"+h+":",t.style.display="none",c.appendChild(t),t.src=String(r),(e=t.contentWindow.document).open(),e.write(g("document.F=Object")),e.close(),e.F):m(n);for(var i=s.length;i--;)delete v[d][s[i]];return v()};a[p]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(f[d]=i(e),r=new f,f[d]=null,r[p]=e):r=v(),void 0===t?r:o.f(r,t)}},219:(e,t,r)=>{var n=r(7400),i=r(7137),o=r(1787),s=r(1176),a=r(905),c=r(5632);t.f=n&&!i?Object.defineProperties:function(e,t){s(e);for(var r,n=a(t),i=c(t),u=i.length,l=0;u>l;)o.f(e,r=i[l++],n[r]);return e}},1787:(e,t,r)=>{var n=r(7400),i=r(4394),o=r(7137),s=r(1176),a=r(9310),c=TypeError,u=Object.defineProperty,l=Object.getOwnPropertyDescriptor,d="enumerable",h="configurable",p="writable";t.f=n?o?function(e,t,r){if(s(e),t=a(t),s(r),"function"==typeof e&&"prototype"===t&&"value"in r&&p in r&&!r[p]){var n=l(e,t);n&&n[p]&&(e[t]=r.value,r={configurable:h in r?r[h]:n[h],enumerable:d in r?r[d]:n[d],writable:!1})}return u(e,t,r)}:u:function(e,t,r){if(s(e),t=a(t),s(r),i)try{return u(e,t,r)}catch(e){}if("get"in r||"set"in r)throw new c("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},7933:(e,t,r)=>{var n=r(7400),i=r(266),o=r(9195),s=r(5358),a=r(905),c=r(9310),u=r(8270),l=r(4394),d=Object.getOwnPropertyDescriptor;t.f=n?d:function(e,t){if(e=a(e),t=c(t),l)try{return d(e,t)}catch(e){}if(u(e,t))return s(!i(o.f,e,t),e[t])}},166:(e,t,r)=>{var n=r(7079),i=r(905),o=r(8151).f,s=r(9794),a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"Window"===n(e)?function(e){try{return o(e)}catch(e){return s(a)}}(e):o(i(e))}},8151:(e,t,r)=>{var n=r(140),i=r(3837).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},894:(e,t)=>{t.f=Object.getOwnPropertySymbols},7567:(e,t,r)=>{var n=r(8270),i=r(6733),o=r(2991),s=r(4399),a=r(7528),c=s("IE_PROTO"),u=Object,l=u.prototype;e.exports=a?u.getPrototypeOf:function(e){var t=o(e);if(n(t,c))return t[c];var r=t.constructor;return i(r)&&t instanceof r?r.prototype:t instanceof u?l:null}},5343:(e,t,r)=>{var n=r(4229),i=r(5052),o=r(7079),s=r(2460),a=Object.isExtensible,c=n((function(){a(1)}));e.exports=c||s?function(e){return!!i(e)&&(!s||"ArrayBuffer"!==o(e))&&(!a||a(e))}:a},1321:(e,t,r)=>{var n=r(5968);e.exports=n({}.isPrototypeOf)},140:(e,t,r)=>{var n=r(5968),i=r(8270),o=r(905),s=r(9540).indexOf,a=r(5977),c=n([].push);e.exports=function(e,t){var r,n=o(e),u=0,l=[];for(r in n)!i(a,r)&&i(n,r)&&c(l,r);for(;t.length>u;)i(n,r=t[u++])&&(~s(l,r)||c(l,r));return l}},5632:(e,t,r)=>{var n=r(140),i=r(3837);e.exports=Object.keys||function(e){return n(e,i)}},9195:(e,t)=>{var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);t.f=i?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},6540:(e,t,r)=>{var n=r(3411),i=r(1176),o=r(8505);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=n(Object.prototype,"__proto__","set"))(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return i(r),o(n),t?e(r,n):r.__proto__=n,r}}():void 0)},7664:(e,t,r)=>{var n=r(7400),i=r(4229),o=r(5968),s=r(7567),a=r(5632),c=r(905),u=o(r(9195).f),l=o([].push),d=n&&i((function(){var e=Object.create(null);return e[2]=2,!u(e,2)})),h=function(e){return function(t){for(var r,i=c(t),o=a(i),h=d&&null===s(i),p=o.length,f=0,g=[];p>f;)r=o[f++],n&&!(h?r in i:u(i,r))||l(g,e?[r,i[r]]:i[r]);return g}};e.exports={entries:h(!0),values:h(!1)}},2914:(e,t,r)=>{var n=r(266),i=r(6733),o=r(5052),s=TypeError;e.exports=function(e,t){var r,a;if("string"===t&&i(r=e.toString)&&!o(a=n(r,e)))return a;if(i(r=e.valueOf)&&!o(a=n(r,e)))return a;if("string"!==t&&i(r=e.toString)&&!o(a=n(r,e)))return a;throw new s("Can't convert object to primitive value")}},4826:(e,t,r)=>{var n=r(1333),i=r(5968),o=r(8151),s=r(894),a=r(1176),c=i([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=o.f(a(e)),r=s.f;return r?c(t,r(e)):t}},6060:(e,t,r)=>{var n=r(1787).f;e.exports=function(e,t,r){r in e||n(e,r,{configurable:!0,get:function(){return t[r]},set:function(e){t[r]=e}})}},8115:(e,t,r)=>{var n=r(266),i=r(1176),o=r(6733),s=r(7079),a=r(3466),c=TypeError;e.exports=function(e,t){var r=e.exec;if(o(r)){var u=n(r,e,t);return null!==u&&i(u),u}if("RegExp"===s(e))return n(a,e,t);throw new c("RegExp#exec called on incompatible receiver")}},3466:(e,t,r)=>{var n,i,o=r(266),s=r(5968),a=r(3326),c=r(895),u=r(5650),l=r(3036),d=r(2391),h=r(6407).get,p=r(2926),f=r(461),g=l("native-string-replace",String.prototype.replace),m=RegExp.prototype.exec,v=m,y=s("".charAt),E=s("".indexOf),_=s("".replace),S=s("".slice),I=(i=/b*/g,o(m,n=/a/,"a"),o(m,i,"a"),0!==n.lastIndex||0!==i.lastIndex),A=u.BROKEN_CARET,O=void 0!==/()??/.exec("")[1];(I||O||A||p||f)&&(v=function(e){var t,r,n,i,s,u,l,p=this,f=h(p),C=a(e),T=f.raw;if(T)return T.lastIndex=p.lastIndex,t=o(v,T,C),p.lastIndex=T.lastIndex,t;var b=f.groups,w=A&&p.sticky,R=o(c,p),P=p.source,N=0,D=C;if(w&&(R=_(R,"y",""),-1===E(R,"g")&&(R+="g"),D=S(C,p.lastIndex),p.lastIndex>0&&(!p.multiline||p.multiline&&"\n"!==y(C,p.lastIndex-1))&&(P="(?: "+P+")",D=" "+D,N++),r=new RegExp("^(?:"+P+")",R)),O&&(r=new RegExp("^"+P+"$(?!\\s)",R)),I&&(n=p.lastIndex),i=o(m,w?r:p,D),w?i?(i.input=S(i.input,N),i[0]=S(i[0],N),i.index=p.lastIndex,p.lastIndex+=i[0].length):p.lastIndex=0:I&&i&&(p.lastIndex=p.global?i.index+i[0].length:n),O&&i&&i.length>1&&o(g,i[0],r,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(i[s]=void 0)})),i&&b)for(i.groups=u=d(null),s=0;s<b.length;s++)u[(l=b[s])[0]]=i[l[1]];return i}),e.exports=v},895:(e,t,r)=>{var n=r(1176);e.exports=function(){var e=n(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},3349:(e,t,r)=>{var n=r(266),i=r(8270),o=r(1321),s=r(895),a=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in a||i(e,"flags")||!o(a,e)?t:n(s,e)}},5650:(e,t,r)=>{var n=r(4229),i=r(9859).RegExp,o=n((function(){var e=i("a","y");return e.lastIndex=2,null!==e.exec("abcd")})),s=o||n((function(){return!i("a","y").sticky})),a=o||n((function(){var e=i("^r","gy");return e.lastIndex=2,null!==e.exec("str")}));e.exports={BROKEN_CARET:a,MISSED_STICKY:s,UNSUPPORTED_Y:o}},2926:(e,t,r)=>{var n=r(4229),i=r(9859).RegExp;e.exports=n((function(){var e=i(".","s");return!(e.dotAll&&e.test("\n")&&"s"===e.flags)}))},461:(e,t,r)=>{var n=r(4229),i=r(9859).RegExp;e.exports=n((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},8885:(e,t,r)=>{var n=r(9650),i=TypeError;e.exports=function(e){if(n(e))throw new i("Can't call method on "+e);return e}},2101:e=>{e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},1832:(e,t,r)=>{var n=r(1333),i=r(6616),o=r(95),s=r(7400),a=o("species");e.exports=function(e){var t=n(e);s&&t&&!t[a]&&i(t,a,{configurable:!0,get:function(){return this}})}},4555:(e,t,r)=>{var n=r(1787).f,i=r(8270),o=r(95)("toStringTag");e.exports=function(e,t,r){e&&!r&&(e=e.prototype),e&&!i(e,o)&&n(e,o,{configurable:!0,value:t})}},4399:(e,t,r)=>{var n=r(3036),i=r(1441),o=n("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},5353:(e,t,r)=>{var n=r(9859),i=r(8400),o="__core-js_shared__",s=n[o]||i(o,{});e.exports=s},3036:(e,t,r)=>{var n=r(4231),i=r(5353);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.33.0",mode:n?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},7942:(e,t,r)=>{var n=r(1176),i=r(7988),o=r(9650),s=r(95)("species");e.exports=function(e,t){var r,a=n(e).constructor;return void 0===a||o(r=n(a)[s])?t:i(r)}},966:(e,t,r)=>{var n=r(5968),i=r(3329),o=r(3326),s=r(8885),a=n("".charAt),c=n("".charCodeAt),u=n("".slice),l=function(e){return function(t,r){var n,l,d=o(s(t)),h=i(r),p=d.length;return h<0||h>=p?e?"":void 0:(n=c(d,h))<55296||n>56319||h+1===p||(l=c(d,h+1))<56320||l>57343?e?a(d,h):n:e?u(d,h,h+2):l-56320+(n-55296<<10)+65536}};e.exports={codeAt:l(!1),charAt:l(!0)}},3124:(e,t,r)=>{var n=r(3329),i=r(3326),o=r(8885),s=RangeError;e.exports=function(e){var t=i(o(this)),r="",a=n(e);if(a<0||a===1/0)throw new s("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(r+=t);return r}},9445:(e,t,r)=>{var n=r(1805).PROPER,i=r(4229),o=r(1647);e.exports=function(e){return i((function(){return!!o[e]()||"​᠎"!=="​᠎"[e]()||n&&o[e].name!==e}))}},1017:(e,t,r)=>{var n=r(5968),i=r(8885),o=r(3326),s=r(1647),a=n("".replace),c=RegExp("^["+s+"]+"),u=RegExp("(^|[^"+s+"])["+s+"]+$"),l=function(e){return function(t){var r=o(i(t));return 1&e&&(r=a(r,c,"")),2&e&&(r=a(r,u,"$1")),r}};e.exports={start:l(1),end:l(2),trim:l(3)}},4860:(e,t,r)=>{var n=r(6358),i=r(4229),o=r(9859).String;e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol("symbol detection");return!o(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},143:(e,t,r)=>{var n=r(5968);e.exports=n(1..valueOf)},3231:(e,t,r)=>{var n=r(3329),i=Math.max,o=Math.min;e.exports=function(e,t){var r=n(e);return r<0?i(r+t,0):o(r,t)}},905:(e,t,r)=>{var n=r(9337),i=r(8885);e.exports=function(e){return n(i(e))}},3329:(e,t,r)=>{var n=r(917);e.exports=function(e){var t=+e;return t!=t||0===t?0:n(t)}},4237:(e,t,r)=>{var n=r(3329),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},2991:(e,t,r)=>{var n=r(8885),i=Object;e.exports=function(e){return i(n(e))}},2066:(e,t,r)=>{var n=r(266),i=r(5052),o=r(9395),s=r(5300),a=r(2914),c=r(95),u=TypeError,l=c("toPrimitive");e.exports=function(e,t){if(!i(e)||o(e))return e;var r,c=s(e,l);if(c){if(void 0===t&&(t="default"),r=n(c,e,t),!i(r)||o(r))return r;throw new u("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},9310:(e,t,r)=>{var n=r(2066),i=r(9395);e.exports=function(e){var t=n(e,"string");return i(t)?t:t+""}},1601:(e,t,r)=>{var n={};n[r(95)("toStringTag")]="z",e.exports="[object z]"===String(n)},3326:(e,t,r)=>{var n=r(1589),i=String;e.exports=function(e){if("Symbol"===n(e))throw new TypeError("Cannot convert a Symbol value to a string");return i(e)}},9821:e=>{var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},1441:(e,t,r)=>{var n=r(5968),i=0,o=Math.random(),s=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++i+o,36)}},6969:(e,t,r)=>{var n=r(4860);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},7137:(e,t,r)=>{var n=r(7400),i=r(4229);e.exports=n&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},1180:(e,t,r)=>{var n=r(9859),i=r(6733),o=n.WeakMap;e.exports=i(o)&&/native code/.test(String(o))},95:(e,t,r)=>{var n=r(9859),i=r(3036),o=r(8270),s=r(1441),a=r(4860),c=r(6969),u=n.Symbol,l=i("wks"),d=c?u.for||u:u&&u.withoutSetter||s;e.exports=function(e){return o(l,e)||(l[e]=a&&o(u,e)?u[e]:d("Symbol."+e)),l[e]}},1647:e=>{e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},9529:(e,t,r)=>{var n=r(3103),i=r(9540).includes,o=r(4229),s=r(9736);n({target:"Array",proto:!0,forced:o((function(){return!Array(1).includes()}))},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),s("includes")},5735:(e,t,r)=>{var n=r(905),i=r(9736),o=r(5495),s=r(6407),a=r(1787).f,c=r(2707),u=r(3684),l=r(4231),d=r(7400),h="Array Iterator",p=s.set,f=s.getterFor(h);e.exports=c(Array,"Array",(function(e,t){p(this,{type:h,target:n(e),index:0,kind:t})}),(function(){var e=f(this),t=e.target,r=e.kind,n=e.index++;if(!t||n>=t.length)return e.target=void 0,u(void 0,!0);switch(r){case"keys":return u(n,!1);case"values":return u(t[n],!1)}return u([n,t[n]],!1)}),"values");var g=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!l&&d&&"values"!==g.name)try{a(g,"name",{value:"values"})}catch(e){}},3108:(e,t,r)=>{var n=r(3103),i=r(3143).left,o=r(6038),s=r(6358);n({target:"Array",proto:!0,forced:!r(8801)&&s>79&&s<83||!o("reduce")},{reduce:function(e){var t=arguments.length;return i(this,e,t,t>1?arguments[1]:void 0)}})},8836:(e,t,r)=>{var n=r(3103),i=r(5496);n({target:"Number",stat:!0,forced:Number.parseFloat!==i},{parseFloat:i})},1657:(e,t,r)=>{var n=r(3103),i=r(5968),o=r(3329),s=r(143),a=r(3124),c=r(4229),u=RangeError,l=String,d=Math.floor,h=i(a),p=i("".slice),f=i(1..toFixed),g=function(e,t,r){return 0===t?r:t%2==1?g(e,t-1,r*e):g(e*e,t/2,r)},m=function(e,t,r){for(var n=-1,i=r;++n<6;)i+=t*e[n],e[n]=i%1e7,i=d(i/1e7)},v=function(e,t){for(var r=6,n=0;--r>=0;)n+=e[r],e[r]=d(n/t),n=n%t*1e7},y=function(e){for(var t=6,r="";--t>=0;)if(""!==r||0===t||0!==e[t]){var n=l(e[t]);r=""===r?n:r+h("0",7-n.length)+n}return r};n({target:"Number",proto:!0,forced:c((function(){return"0.000"!==f(8e-5,3)||"1"!==f(.9,0)||"1.25"!==f(1.255,2)||"1000000000000000128"!==f(0xde0b6b3a7640080,0)}))||!c((function(){f({})}))},{toFixed:function(e){var t,r,n,i,a=s(this),c=o(e),d=[0,0,0,0,0,0],f="",E="0";if(c<0||c>20)throw new u("Incorrect fraction digits");if(a!=a)return"NaN";if(a<=-1e21||a>=1e21)return l(a);if(a<0&&(f="-",a=-a),a>1e-21)if(r=(t=function(e){for(var t=0,r=e;r>=4096;)t+=12,r/=4096;for(;r>=2;)t+=1,r/=2;return t}(a*g(2,69,1))-69)<0?a*g(2,-t,1):a/g(2,t,1),r*=4503599627370496,(t=52-t)>0){for(m(d,0,r),n=c;n>=7;)m(d,1e7,0),n-=7;for(m(d,g(10,n,1),0),n=t-1;n>=23;)v(d,1<<23),n-=23;v(d,1<<n),m(d,1,1),v(d,2),E=y(d)}else m(d,0,r),m(d,1<<-t,0),E=y(d)+h("0",c);return c>0?f+((i=E.length)<=c?"0."+h("0",c-i)+E:p(E,0,i-c)+"."+p(E,i-c)):f+E}})},3105:(e,t,r)=>{var n=r(3103),i=r(47);n({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},5883:(e,t,r)=>{var n=r(3103),i=r(7664).entries;n({target:"Object",stat:!0},{entries:function(e){return i(e)}})},1804:(e,t,r)=>{var n=r(3103),i=r(9003),o=r(2324);n({target:"Object",stat:!0},{fromEntries:function(e){var t={};return i(e,(function(e,r){o(t,e,r)}),{AS_ENTRIES:!0}),t}})},7890:(e,t,r)=>{var n=r(3103),i=r(7664).values;n({target:"Object",stat:!0},{values:function(e){return i(e)}})},7368:(e,t,r)=>{var n=r(7400),i=r(9859),o=r(5968),s=r(6541),a=r(835),c=r(5762),u=r(8151).f,l=r(1321),d=r(8311),h=r(3326),p=r(3349),f=r(5650),g=r(6060),m=r(4768),v=r(4229),y=r(8270),E=r(6407).enforce,_=r(1832),S=r(95),I=r(2926),A=r(461),O=S("match"),C=i.RegExp,T=C.prototype,b=i.SyntaxError,w=o(T.exec),R=o("".charAt),P=o("".replace),N=o("".indexOf),D=o("".slice),L=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,x=/a/g,k=/a/g,M=new C(x)!==x,U=f.MISSED_STICKY,j=f.UNSUPPORTED_Y;if(s("RegExp",n&&(!M||U||I||A||v((function(){return k[O]=!1,C(x)!==x||C(k)===k||"/a/i"!==String(C(x,"i"))}))))){for(var H=function(e,t){var r,n,i,o,s,u,f=l(T,this),g=d(e),m=void 0===t,v=[],_=e;if(!f&&g&&m&&e.constructor===H)return e;if((g||l(T,e))&&(e=e.source,m&&(t=p(_))),e=void 0===e?"":h(e),t=void 0===t?"":h(t),_=e,I&&"dotAll"in x&&(n=!!t&&N(t,"s")>-1)&&(t=P(t,/s/g,"")),r=t,U&&"sticky"in x&&(i=!!t&&N(t,"y")>-1)&&j&&(t=P(t,/y/g,"")),A&&(o=function(e){for(var t,r=e.length,n=0,i="",o=[],s={},a=!1,c=!1,u=0,l="";n<=r;n++){if("\\"===(t=R(e,n)))t+=R(e,++n);else if("]"===t)a=!1;else if(!a)switch(!0){case"["===t:a=!0;break;case"("===t:w(L,D(e,n+1))&&(n+=2,c=!0),i+=t,u++;continue;case">"===t&&c:if(""===l||y(s,l))throw new b("Invalid capture group name");s[l]=!0,o[o.length]=[l,u],c=!1,l="";continue}c?l+=t:i+=t}return[i,o]}(e),e=o[0],v=o[1]),s=a(C(e,t),f?this:T,H),(n||i||v.length)&&(u=E(s),n&&(u.dotAll=!0,u.raw=H(function(e){for(var t,r=e.length,n=0,i="",o=!1;n<=r;n++)"\\"!==(t=R(e,n))?o||"."!==t?("["===t?o=!0:"]"===t&&(o=!1),i+=t):i+="[\\s\\S]":i+=t+R(e,++n);return i}(e),r)),i&&(u.sticky=!0),v.length&&(u.groups=v)),e!==_)try{c(s,"source",""===_?"(?:)":_)}catch(e){}return s},B=u(C),G=0;B.length>G;)g(H,C,B[G++]);T.constructor=H,H.prototype=T,m(i,"RegExp",H,{constructor:!0})}_("RegExp")},7950:(e,t,r)=>{var n=r(3103),i=r(3466);n({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},8233:(e,t,r)=>{var n=r(1805).PROPER,i=r(4768),o=r(1176),s=r(3326),a=r(4229),c=r(3349),u="toString",l=RegExp.prototype[u],d=a((function(){return"/a/b"!==l.call({source:"a",flags:"b"})})),h=n&&l.name!==u;(d||h)&&i(RegExp.prototype,u,(function(){var e=o(this);return"/"+s(e.source)+"/"+s(c(e))}),{unsafe:!0})},6708:(e,t,r)=>{var n,i=r(3103),o=r(4745),s=r(7933).f,a=r(4237),c=r(3326),u=r(7272),l=r(8885),d=r(8127),h=r(4231),p=o("".endsWith),f=o("".slice),g=Math.min,m=d("endsWith");i({target:"String",proto:!0,forced:!(!h&&!m&&(n=s(String.prototype,"endsWith"),n&&!n.writable)||m)},{endsWith:function(e){var t=c(l(this));u(e);var r=arguments.length>1?arguments[1]:void 0,n=t.length,i=void 0===r?n:g(a(r),n),o=c(e);return p?p(t,o,i):f(t,i-o.length,i)===o}})},1235:(e,t,r)=>{var n=r(3103),i=r(5968),o=r(7272),s=r(8885),a=r(3326),c=r(8127),u=i("".indexOf);n({target:"String",proto:!0,forced:!c("includes")},{includes:function(e){return!!~u(a(s(this)),a(o(e)),arguments.length>1?arguments[1]:void 0)}})},4069:(e,t,r)=>{var n=r(266),i=r(4954),o=r(1176),s=r(9650),a=r(4237),c=r(3326),u=r(8885),l=r(5300),d=r(6637),h=r(8115);i("match",(function(e,t,r){return[function(t){var r=u(this),i=s(t)?void 0:l(t,e);return i?n(i,t,r):new RegExp(t)[e](c(r))},function(e){var n=o(this),i=c(e),s=r(t,n,i);if(s.done)return s.value;if(!n.global)return h(n,i);var u=n.unicode;n.lastIndex=0;for(var l,p=[],f=0;null!==(l=h(n,i));){var g=c(l[0]);p[f]=g,""===g&&(n.lastIndex=d(i,a(n.lastIndex),u)),f++}return 0===f?null:p}]}))},5940:(e,t,r)=>{var n=r(3171),i=r(266),o=r(5968),s=r(4954),a=r(4229),c=r(1176),u=r(6733),l=r(9650),d=r(3329),h=r(4237),p=r(3326),f=r(8885),g=r(6637),m=r(5300),v=r(17),y=r(8115),E=r(95)("replace"),_=Math.max,S=Math.min,I=o([].concat),A=o([].push),O=o("".indexOf),C=o("".slice),T="$0"==="a".replace(/./,"$0"),b=!!/./[E]&&""===/./[E]("a","$0");s("replace",(function(e,t,r){var o=b?"$":"$0";return[function(e,r){var n=f(this),o=l(e)?void 0:m(e,E);return o?i(o,e,n,r):i(t,p(n),e,r)},function(e,i){var s=c(this),a=p(e);if("string"==typeof i&&-1===O(i,o)&&-1===O(i,"$<")){var l=r(t,s,a,i);if(l.done)return l.value}var f=u(i);f||(i=p(i));var m,E=s.global;E&&(m=s.unicode,s.lastIndex=0);for(var T,b=[];null!==(T=y(s,a))&&(A(b,T),E);)""===p(T[0])&&(s.lastIndex=g(a,h(s.lastIndex),m));for(var w,R="",P=0,N=0;N<b.length;N++){for(var D,L=p((T=b[N])[0]),x=_(S(d(T.index),a.length),0),k=[],M=1;M<T.length;M++)A(k,void 0===(w=T[M])?w:String(w));var U=T.groups;if(f){var j=I([L],k,x,a);void 0!==U&&A(j,U),D=p(n(i,void 0,j))}else D=v(L,a,x,k,U,i);x>=P&&(R+=C(a,P,x)+D,P=x+L.length)}return R+C(a,P)}]}),!!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!T||b)},4908:(e,t,r)=>{var n=r(266),i=r(4954),o=r(1176),s=r(9650),a=r(8885),c=r(2101),u=r(3326),l=r(5300),d=r(8115);i("search",(function(e,t,r){return[function(t){var r=a(this),i=s(t)?void 0:l(t,e);return i?n(i,t,r):new RegExp(t)[e](u(r))},function(e){var n=o(this),i=u(e),s=r(t,n,i);if(s.done)return s.value;var a=n.lastIndex;c(a,0)||(n.lastIndex=0);var l=d(n,i);return c(n.lastIndex,a)||(n.lastIndex=a),null===l?-1:l.index}]}))},8319:(e,t,r)=>{var n=r(3171),i=r(266),o=r(5968),s=r(4954),a=r(1176),c=r(9650),u=r(8311),l=r(8885),d=r(7942),h=r(6637),p=r(4237),f=r(3326),g=r(5300),m=r(9794),v=r(8115),y=r(3466),E=r(5650),_=r(4229),S=E.UNSUPPORTED_Y,I=4294967295,A=Math.min,O=[].push,C=o(/./.exec),T=o(O),b=o("".slice);s("split",(function(e,t,r){var o;return o="c"==="abbc".split(/(b)*/)[1]||4!=="test".split(/(?:)/,-1).length||2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,r){var o=f(l(this)),s=void 0===r?I:r>>>0;if(0===s)return[];if(void 0===e)return[o];if(!u(e))return i(t,o,e,s);for(var a,c,d,h=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),g=0,v=new RegExp(e.source,p+"g");(a=i(y,v,o))&&!((c=v.lastIndex)>g&&(T(h,b(o,g,a.index)),a.length>1&&a.index<o.length&&n(O,h,m(a,1)),d=a[0].length,g=c,h.length>=s));)v.lastIndex===a.index&&v.lastIndex++;return g===o.length?!d&&C(v,"")||T(h,""):T(h,b(o,g)),h.length>s?m(h,0,s):h}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:i(t,this,e,r)}:t,[function(t,r){var n=l(this),s=c(t)?void 0:g(t,e);return s?i(s,t,n,r):i(o,f(n),t,r)},function(e,n){var i=a(this),s=f(e),c=r(o,i,s,n,o!==t);if(c.done)return c.value;var u=d(i,RegExp),l=i.unicode,g=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(S?"g":"y"),m=new u(S?"^(?:"+i.source+")":i,g),y=void 0===n?I:n>>>0;if(0===y)return[];if(0===s.length)return null===v(m,s)?[s]:[];for(var E=0,_=0,O=[];_<s.length;){m.lastIndex=S?0:_;var C,w=v(m,S?b(s,_):s);if(null===w||(C=A(p(m.lastIndex+(S?_:0)),s.length))===E)_=h(s,_,l);else{if(T(O,b(s,E,_)),O.length===y)return O;for(var R=1;R<=w.length-1;R++)if(T(O,w[R]),O.length===y)return O;_=E=C}}return T(O,b(s,E)),O}]}),!!_((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]})),S)},4112:(e,t,r)=>{var n,i=r(3103),o=r(4745),s=r(7933).f,a=r(4237),c=r(3326),u=r(7272),l=r(8885),d=r(8127),h=r(4231),p=o("".startsWith),f=o("".slice),g=Math.min,m=d("startsWith");i({target:"String",proto:!0,forced:!(!h&&!m&&(n=s(String.prototype,"startsWith"),n&&!n.writable)||m)},{startsWith:function(e){var t=c(l(this));u(e);var r=a(g(arguments.length>1?arguments[1]:void 0,t.length)),n=c(e);return p?p(t,n,r):f(t,r,r+n.length)===n}})},5794:(e,t,r)=>{var n=r(3103),i=r(1017).trim;n({target:"String",proto:!0,forced:r(9445)("trim")},{trim:function(){return i(this)}})},634:(e,t,r)=>{var n=r(3103),i=r(7400),o=r(9859),s=r(5968),a=r(8270),c=r(6733),u=r(1321),l=r(3326),d=r(6616),h=r(7081),p=o.Symbol,f=p&&p.prototype;if(i&&c(p)&&(!("description"in f)||void 0!==p().description)){var g={},m=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),t=u(f,this)?new p(e):void 0===e?p():p(e);return""===e&&(g[t]=!0),t};h(m,p),m.prototype=f,f.constructor=m;var v="Symbol(description detection)"===String(p("description detection")),y=s(f.valueOf),E=s(f.toString),_=/^Symbol\((.*)\)[^)]+$/,S=s("".replace),I=s("".slice);d(f,"description",{configurable:!0,get:function(){var e=y(this);if(a(g,e))return"";var t=E(e),r=v?I(t,7,-1):S(t,_,"$1");return""===r?void 0:r}}),n({global:!0,constructor:!0,forced:!0},{Symbol:m})}},6418:(e,t,r)=>{var n,i=r(8476),o=r(9859),s=r(5968),a=r(8312),c=r(5926),u=r(9789),l=r(3370),d=r(5052),h=r(6407).enforce,p=r(4229),f=r(1180),g=Object,m=Array.isArray,v=g.isExtensible,y=g.isFrozen,E=g.isSealed,_=g.freeze,S=g.seal,I={},A={},O=!o.ActiveXObject&&"ActiveXObject"in o,C=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},T=u("WeakMap",C,l),b=T.prototype,w=s(b.set);if(f)if(O){n=l.getConstructor(C,"WeakMap",!0),c.enable();var R=s(b.delete),P=s(b.has),N=s(b.get);a(b,{delete:function(e){if(d(e)&&!v(e)){var t=h(this);return t.frozen||(t.frozen=new n),R(this,e)||t.frozen.delete(e)}return R(this,e)},has:function(e){if(d(e)&&!v(e)){var t=h(this);return t.frozen||(t.frozen=new n),P(this,e)||t.frozen.has(e)}return P(this,e)},get:function(e){if(d(e)&&!v(e)){var t=h(this);return t.frozen||(t.frozen=new n),P(this,e)?N(this,e):t.frozen.get(e)}return N(this,e)},set:function(e,t){if(d(e)&&!v(e)){var r=h(this);r.frozen||(r.frozen=new n),P(this,e)?w(this,e,t):r.frozen.set(e,t)}else w(this,e,t);return this}})}else i&&p((function(){var e=_([]);return w(new T,e,1),!y(e)}))&&a(b,{set:function(e,t){var r;return m(e)&&(y(e)?r=I:E(e)&&(r=A)),w(this,e,t),r===I&&_(e),r===A&&S(e),this}})},2356:(e,t,r)=>{r(6418)},1939:(e,t,r)=>{var n=r(9859),i=r(5694),o=r(8865),s=r(6570),a=r(5762),c=function(e){if(e&&e.forEach!==s)try{a(e,"forEach",s)}catch(t){e.forEach=s}};for(var u in i)i[u]&&c(n[u]&&n[u].prototype);c(o)},6886:(e,t,r)=>{var n=r(9859),i=r(5694),o=r(8865),s=r(5735),a=r(5762),c=r(95),u=c("iterator"),l=c("toStringTag"),d=s.values,h=function(e,t){if(e){if(e[u]!==d)try{a(e,u,d)}catch(t){e[u]=d}if(e[l]||a(e,l,t),i[t])for(var r in s)if(e[r]!==s[r])try{a(e,r,s[r])}catch(t){e[r]=s[r]}}};for(var p in i)h(n[p]&&n[p].prototype,p);h(o,"DOMTokenList")}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={};r.r(e),r.d(e,{FunctionToString:()=>z,InboundFilters:()=>ee});var t={};r.r(t),r.d(t,{Breadcrumbs:()=>_t,Dedupe:()=>Dt,GlobalHandlers:()=>st,HttpContext:()=>Nt,LinkedErrors:()=>Pt,TryCatch:()=>pt}),r(5735),r(6886),r(634),r(1939),r(7950);var n=/android/i;function i(){var e,t=null===(e=navigator)||void 0===e?void 0:e.userAgent;return!!t&&Boolean((/Safari/.test(t)&&(/iPhone/.test(t)||/iPad/.test(t))&&!/Trident/.test(t)||/AppleWebKit/.test(t)&&!(/Android/.test(t)||/Linux/.test(t)||/Trident/.test(t))&&(/Mobile/.test(t)||/iPhone/.test(t)||/iPad/.test(t))&&!/Macintosh/.test(t)&&!/Windows/.test(t))&&!(/Chrome/.test(t)||/CriOS/.test(t)||/Edg/.test(t)))}function o(){var e,t=null===(e=navigator)||void 0===e?void 0:e.userAgent;return!!t&&Boolean((/Safari/.test(t)||/AppleWebKit/.test(t))&&(/Macintosh/.test(t)||/Windows/.test(t))&&!/iPhone/.test(t)&&!/iPad/.test(t)&&!/Chrome/.test(t)&&!/Edg/.test(t)&&!/Firefox/.test(t))}var s,a={get documentBody(){return window.document.body},get documentReferrer(){return window.document.referrer},get documentVisibilityState(){return document.visibilityState},getQueryParams:function(e,t){var r=new URL(e),n={};return t.forEach((e=>{var t=r.searchParams.get(e);t&&(n[e]=t)})),n},isAndroid:function(){return n.test(window.navigator.userAgent)},isDesktopSafari:o,isMobileSafari:i,isSafari:function(){return i()||o()},isSupported:function(){return void 0!==window.postMessage&&void 0!==window.fetch&&void 0!==document.createElement("a").classList},redirectTo:function(e){window.location.href=e},replaceWindowState:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.title;window.history.replaceState(null,t,e)},submitForm:function(e){e.submit()},get windowInnerHeight(){return window.innerHeight},get windowInnerWidth(){return window.innerWidth},get windowLocation(){return window.location},get windowNavigationBeacon(){return window.navigator.sendBeacon},get windowNavigationLanguage(){var e=window.navigator.language;return!e&&window.navigator.languages.length>0&&(e=window.navigator.languages[0]),e},get windowParentLocation(){return window.parent.location},get windowPerformance(){return window.performance}};!function(e){e.development="development",e.sandbox="sandbox",e.production="production",e.staging="staging",e.test="test"}(s||(s={}));var c=null!=="production"?"production":"development",u={get API_PROTOCOL(){return"https://"},get API_PUBLIC_HOST(){switch(c){case s.production:return"squareup.com";case s.sandbox:return"squareupsandbox.com";default:return"squareupstaging.com"}},get API_URL(){return"".concat(this.API_PROTOCOL).concat(this.PCI_CONNECT_API_HOST)},get ASSET_BASE_URL(){return function(e){switch(e){case s.production:return"https://web.squarecdn.com";case s.sandbox:return"https://sandbox.web.squarecdn.com";case s.development:return"https://localhost:1779";default:return"https://staging.web.squarecdn.com"}}(s[c])},get ASSET_URL(){return"local"===this.VERSION?this.ASSET_BASE_URL:"".concat(this.ASSET_BASE_URL,"/").concat(this.VERSION)},get BANK_NONCE_ENDPOINT(){return"".concat(this.API_URL,"/v2/bank-nonce")},get CARD_NONCE_ENDPOINT(){return"".concat(this.API_URL,"/v2/card-nonce")},get CONNECT_API_URL(){return"https://connect.".concat(this.API_PUBLIC_HOST)},get CREATE_OAUTH_PLAID_LINK_SESSION_ENDPOINT(){return"".concat(this.API_URL,"/digital-wallets/plaid/oauth-link-session")},get ENABLE_ERROR_LOGGING(){return c!==s.development},get GET_PRODUCT_INFORMATION_ENDPOINT(){return"".concat(this.API_URL,"/v2/tokenization/product-information")},get GIFT_CARD_IFRAME(){return"".concat(this.ASSET_URL,"/gift-card-element-iframe.html")},get GOOGLE_PAY_GENERATE_TOKEN_ENDPOINT(){return"".concat(this.API_URL,"/digital-wallets/google-pay/token")},get HYDRATION_ENDPOINT(){return"".concat(this.API_URL,"/payments/hydrate")},get IFRAME_SRC(){return"".concat(this.ASSET_URL,"/main-iframe.html")},get INSTANT_WALLET_NONCE_ENDPOINT(){return"".concat(this.API_URL,"/v2/instant-wallet-nonce")},get METRICS_ERROR_URL(){return"".concat(this.API_URL,"/payments/mtx/error")},get METRICS_URL(){return"".concat(this.API_URL,"/payments/mtx")},get METRICS_V2_URL(){return"".concat(this.API_URL,"/payments/mtx/v2")},get PCI_CONNECT_API_HOST(){return"pci-connect.".concat(this.API_PUBLIC_HOST)},get SENTRY_DSN(){switch(c){case s.test:case s.development:return"https://acacaeaccacacacabcaacdacdacadaca@sentry.io/000001";default:return"https://565ee38bb5ff45dabc25ab6d7b8bebe3@o160250.ingest.sentry.io/3478832"}},get SINGLE_CARD_IFRAME(){return"".concat(this.ASSET_URL,"/single-card-element-iframe.html")},get SINGLE_CARD_WRAPPER_STYLES(){return"".concat(this.ASSET_URL,"/card-wrapper.css")},STATIC_ASSET(e){return"".concat(this.ASSET_URL,"/static-assets/").concat(e)},get VERSION(){return"1.54.0"},env:c},l=u;r(8233),r(5883);const d=Object.prototype.toString;function h(e){switch(d.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return S(e,Error)}}function p(e,t){return d.call(e)===`[object ${t}]`}function f(e){return p(e,"ErrorEvent")}function g(e){return p(e,"DOMError")}function m(e){return p(e,"String")}function v(e){return null===e||"object"!=typeof e&&"function"!=typeof e}function y(e){return p(e,"Object")}function E(e){return"undefined"!=typeof Event&&S(e,Event)}function _(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function S(e,t){try{return e instanceof t}catch(e){return!1}}function I(e){return!("object"!=typeof e||null===e||!e.__isVue&&!e._isVue)}var A=r(63);const O=(0,A.Rf)(),C=80;function T(e,t={}){try{let r=e;const n=5,i=[];let o=0,s=0;const a=" > ",c=a.length;let u;const l=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||C;for(;r&&o++<n&&(u=b(r,l),!("html"===u||o>1&&s+i.length*c+u.length>=d));)i.push(u),s+=u.length,r=r.parentNode;return i.reverse().join(a)}catch(e){return"<unknown>"}}function b(e,t){const r=e,n=[];let i,o,s,a,c;if(!r||!r.tagName)return"";n.push(r.tagName.toLowerCase());const u=t&&t.length?t.filter((e=>r.getAttribute(e))).map((e=>[e,r.getAttribute(e)])):null;if(u&&u.length)u.forEach((e=>{n.push(`[${e[0]}="${e[1]}"]`)}));else if(r.id&&n.push(`#${r.id}`),i=r.className,i&&m(i))for(o=i.split(/\s+/),c=0;c<o.length;c++)n.push(`.${o[c]}`);const l=["aria-label","type","name","title","alt"];for(c=0;c<l.length;c++)s=l[c],a=r.getAttribute(s),a&&n.push(`[${s}="${a}"]`);return n.join("")}const w=["debug","info","warn","error","log","assert","trace"],R={};function P(e){if(!("console"in A.n2))return e();const t=A.n2.console,r={},n=Object.keys(R);n.forEach((e=>{const n=R[e];r[e]=t[e],t[e]=n}));try{return e()}finally{n.forEach((e=>{t[e]=r[e]}))}}const N=function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return"undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?w.forEach((r=>{t[r]=(...t)=>{e&&P((()=>{A.n2.console[r](`Sentry Logger [${r}]:`,...t)}))}})):w.forEach((e=>{t[e]=()=>{}})),t}();function D(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function L(e,t){if(!Array.isArray(e))return"";const r=[];for(let t=0;t<e.length;t++){const n=e[t];try{I(n)?r.push("[VueViewModel]"):r.push(String(n))}catch(e){r.push("[value cannot be serialized]")}}return r.join(t)}function x(e,t=[],r=!1){return t.some((t=>function(e,t,r=!1){return!!m(e)&&(p(t,"RegExp")?t.test(e):!!m(t)&&(r?e===t:e.includes(t)))}(e,t,r)))}function k(e,t,r){if(!(t in e))return;const n=e[t],i=r(n);"function"==typeof i&&U(i,n),e[t]=i}function M(e,t,r){try{Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0})}catch(r){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&N.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function U(e,t){try{const r=t.prototype||{};e.prototype=t.prototype=r,M(e,"__sentry_original__",t)}catch(e){}}function j(e){return e.__sentry_original__}function H(e){if(h(e))return{message:e.message,name:e.name,stack:e.stack,...G(e)};if(E(e)){const t={type:e.type,target:B(e.target),currentTarget:B(e.currentTarget),...G(e)};return"undefined"!=typeof CustomEvent&&S(e,CustomEvent)&&(t.detail=e.detail),t}return e}function B(e){try{return"undefined"!=typeof Element&&S(e,Element)?T(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}}function G(e){if("object"==typeof e&&null!==e){const t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}return{}}function F(e){return q(e,new Map)}function q(e,t){if(y(e)){const r=t.get(e);if(void 0!==r)return r;const n={};t.set(e,n);for(const r of Object.keys(e))void 0!==e[r]&&(n[r]=q(e[r],t));return n}if(Array.isArray(e)){const r=t.get(e);if(void 0!==r)return r;const n=[];return t.set(e,n),e.forEach((e=>{n.push(q(e,t))})),n}return e}let V;class z{static __initStatic(){this.id="FunctionToString"}constructor(){this.name=z.id}setupOnce(){V=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=j(this)||this;return V.apply(t,e)}}catch(e){}}}function Y(){const e=A.n2,t=e.crypto||e.msCrypto;let r=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(r=()=>t.getRandomValues(new Uint8Array(1))[0])}catch(e){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&r())>>e/4).toString(16)))}function $(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function K(e){const{message:t,event_id:r}=e;if(t)return t;const n=$(e);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}function W(e,t,r){const n=e.exception=e.exception||{},i=n.values=n.values||[],o=i[0]=i[0]||{};o.value||(o.value=t||""),o.type||(o.type=r||"Error")}function Q(e,t){const r=$(e);if(!r)return;const n=r.mechanism;if(r.mechanism={type:"generic",handled:!0,...n,...t},t&&"data"in t){const e={...n&&n.data,...t.data};r.mechanism.data=e}}function X(e){if(e&&e.__sentry_captured__)return!0;try{M(e,"__sentry_captured__",!0)}catch(e){}return!1}z.__initStatic();const Z=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],J=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/];class ee{static __initStatic(){this.id="InboundFilters"}constructor(e={}){this.name=ee.id,this._options=e}setupOnce(e,t){}processEvent(e,t,r){const n=r.getOptions(),i=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:Z],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:J],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(this._options,n);return function(e,t){return t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(e)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&N.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${K(e)}`),!0):function(e,t){return!(e.type||!t||!t.length)&&function(e){const t=[];let r;e.message&&t.push(e.message);try{r=e.exception.values[e.exception.values.length-1]}catch(e){}return r&&r.value&&(t.push(r.value),r.type&&t.push(`${r.type}: ${r.value}`)),"undefined"!=typeof __SENTRY_DEBUG__&&!__SENTRY_DEBUG__||0!==t.length||N.error(`Could not extract message for event ${K(e)}`),t}(e).some((e=>x(e,t)))}(e,t.ignoreErrors)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&N.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${K(e)}`),!0):function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;const r=e.transaction;return!!r&&x(r,t)}(e,t.ignoreTransactions)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&N.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${K(e)}`),!0):function(e,t){if(!t||!t.length)return!1;const r=te(e);return!!r&&x(r,t)}(e,t.denyUrls)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&N.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${K(e)}.\nUrl: ${te(e)}`),!0):!function(e,t){if(!t||!t.length)return!0;const r=te(e);return!r||x(r,t)}(e,t.allowUrls)&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&N.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${K(e)}.\nUrl: ${te(e)}`),!0)}(e,i)?null:e}}function te(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(e=[]){for(let t=e.length-1;t>=0;t--){const r=e[t];if(r&&"<anonymous>"!==r.filename&&"[native code]"!==r.filename)return r.filename||null}return null}(t):null}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&N.error(`Cannot extract url for event ${K(e)}`),null}}ee.__initStatic();var re=r(7790);const ne="production";var ie;function oe(e){return new ae((t=>{t(e)}))}function se(e){return new ae(((t,r)=>{r(e)}))}!function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"}(ie||(ie={}));class ae{constructor(e){ae.prototype.__init.call(this),ae.prototype.__init2.call(this),ae.prototype.__init3.call(this),ae.prototype.__init4.call(this),this._state=ie.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}then(e,t){return new ae(((r,n)=>{this._handlers.push([!1,t=>{if(e)try{r(e(t))}catch(e){n(e)}else r(t)},e=>{if(t)try{r(t(e))}catch(e){n(e)}else n(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new ae(((t,r)=>{let n,i;return this.then((t=>{i=!1,n=t,e&&e()}),(t=>{i=!0,n=t,e&&e()})).then((()=>{i?r(n):t(n)}))}))}__init(){this._resolve=e=>{this._setResult(ie.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(ie.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{this._state===ie.PENDING&&(_(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===ie.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===ie.RESOLVED&&e[1](this._value),this._state===ie.REJECTED&&e[2](this._value),e[0]=!0)}))}}}function ce(){return(0,A.YO)("globalEventProcessors",(()=>[]))}function ue(e){ce().push(e)}function le(e,t,r,n=0){return new ae(((i,o)=>{const s=e[n];if(null===t||"function"!=typeof s)i(t);else{const a=s({...t},r);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.id&&null===a&&N.log(`Event processor "${s.id}" dropped event`),_(a)?a.then((t=>le(e,t,r,n+1).then(i))).then(null,o):le(e,a,r,n+1).then(i).then(null,o)}}))}function de(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||(0,re.ph)(),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:Y()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}class he{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=pe()}static clone(e){const t=new he;return e&&(t._breadcrumbs=[...e._breadcrumbs],t._tags={...e._tags},t._extra={...e._extra},t._contexts={...e._contexts},t._user=e._user,t._level=e._level,t._span=e._span,t._session=e._session,t._transactionName=e._transactionName,t._fingerprint=e._fingerprint,t._eventProcessors=[...e._eventProcessors],t._requestSession=e._requestSession,t._attachments=[...e._attachments],t._sdkProcessingMetadata={...e._sdkProcessingMetadata},t._propagationContext={...e._propagationContext}),t}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&de(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this.getSpan();return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if("function"==typeof e){const t=e(this);return t instanceof he?t:this}return e instanceof he?(this._tags={...this._tags,...e._tags},this._extra={...this._extra,...e._extra},this._contexts={...this._contexts,...e._contexts},e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession),e._propagationContext&&(this._propagationContext=e._propagationContext)):y(e)&&(this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession),e.propagationContext&&(this._propagationContext=e.propagationContext)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=pe(),this}addBreadcrumb(e,t){const r="number"==typeof t?t:100;if(r<=0)return this;const n={timestamp:(0,re.yW)(),...e},i=this._breadcrumbs;return i.push(n),this._breadcrumbs=i.length>r?i.slice(-r):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(e,t={},r){if(this._extra&&Object.keys(this._extra).length&&(e.extra={...this._extra,...e.extra}),this._tags&&Object.keys(this._tags).length&&(e.tags={...this._tags,...e.tags}),this._user&&Object.keys(this._user).length&&(e.user={...this._user,...e.user}),this._contexts&&Object.keys(this._contexts).length&&(e.contexts={...this._contexts,...e.contexts}),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts={trace:this._span.getTraceContext(),...e.contexts};const t=this._span.transaction;if(t){e.sdkProcessingMetadata={dynamicSamplingContext:t.getDynamicSamplingContext(),...e.sdkProcessingMetadata};const r=t.name;r&&(e.tags={transaction:r,...e.tags})}}this._applyFingerprint(e);const n=this._getBreadcrumbs(),i=[...e.breadcrumbs||[],...n];return e.breadcrumbs=i.length>0?i:void 0,e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...this._sdkProcessingMetadata,propagationContext:this._propagationContext},le([...r||[],...ce(),...this._eventProcessors],e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}_getBreadcrumbs(){return this._breadcrumbs}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}_applyFingerprint(e){var t;e.fingerprint=e.fingerprint?(t=e.fingerprint,Array.isArray(t)?t:[t]):[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}}function pe(){return{traceId:Y(),spanId:Y().substring(16)}}const fe=4,ge=100;class me{constructor(e,t=new he,r=fe){this._version=r,this._stack=[{scope:t}],e&&this.bindClient(e)}isOlderThan(e){return this._version<e}bindClient(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=he.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1||!this.getStack().pop())}withScope(e){const t=this.pushScope();try{e(t)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){const r=this._lastEventId=t&&t.event_id?t.event_id:Y(),n=new Error("Sentry syntheticException");return this._withClient(((i,o)=>{i.captureException(e,{originalException:e,syntheticException:n,...t,event_id:r},o)})),r}captureMessage(e,t,r){const n=this._lastEventId=r&&r.event_id?r.event_id:Y(),i=new Error(e);return this._withClient(((o,s)=>{o.captureMessage(e,t,{originalException:e,syntheticException:i,...r,event_id:n},s)})),n}captureEvent(e,t){const r=t&&t.event_id?t.event_id:Y();return e.type||(this._lastEventId=r),this._withClient(((n,i)=>{n.captureEvent(e,{...t,event_id:r},i)})),r}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){const{scope:r,client:n}=this.getStackTop();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:o=ge}=n.getOptions&&n.getOptions()||{};if(o<=0)return;const s={timestamp:(0,re.yW)(),...e},a=i?P((()=>i(s,t))):s;null!==a&&(n.emit&&n.emit("beforeAddBreadcrumb",a,t),r.addBreadcrumb(a,o))}setUser(e){this.getScope().setUser(e)}setTags(e){this.getScope().setTags(e)}setExtras(e){this.getScope().setExtras(e)}setTag(e,t){this.getScope().setTag(e,t)}setExtra(e,t){this.getScope().setExtra(e,t)}setContext(e,t){this.getScope().setContext(e,t)}configureScope(e){const{scope:t,client:r}=this.getStackTop();r&&e(t)}run(e){const t=ye(this);try{e(this)}finally{ye(t)}}getIntegration(e){const t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&N.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,t){const r=this._callExtensionMethod("startTransaction",e,t);return"undefined"!=typeof __SENTRY_DEBUG__&&!__SENTRY_DEBUG__||r||(this.getClient()?console.warn("Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':\nSentry.addTracingExtensions();\nSentry.init({...});\n"):console.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),r}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const e=this.getStackTop().scope,t=e.getSession();t&&function(e,t){let r={};"ok"===e.status&&(r={status:"exited"}),de(e,r)}(t),this._sendSessionUpdate(),e.setSession()}startSession(e){const{scope:t,client:r}=this.getStackTop(),{release:n,environment:i=ne}=r&&r.getOptions()||{},{userAgent:o}=A.n2.navigator||{},s=function(e){const t=(0,re.ph)(),r={sid:Y(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return F({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(r)};return e&&de(r,e),r}({release:n,environment:i,user:t.getUser(),...o&&{userAgent:o},...e}),a=t.getSession&&t.getSession();return a&&"ok"===a.status&&de(a,{status:"exited"}),this.endSession(),t.setSession(s),s}shouldSendDefaultPii(){const e=this.getClient(),t=e&&e.getOptions();return Boolean(t&&t.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:t}=this.getStackTop(),r=e.getSession();r&&t&&t.captureSession&&t.captureSession(r)}_withClient(e){const{scope:t,client:r}=this.getStackTop();r&&e(r,t)}_callExtensionMethod(e,...t){const r=ve().__SENTRY__;if(r&&r.extensions&&"function"==typeof r.extensions[e])return r.extensions[e].apply(this,t);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&N.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function ve(){return A.n2.__SENTRY__=A.n2.__SENTRY__||{extensions:{},hub:void 0},A.n2}function ye(e){const t=ve(),r=_e(t);return Se(t,e),r}function Ee(){const e=ve();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return function(e=ve()){return t=e,!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)&&!_e(e).isOlderThan(fe)||Se(e,new me),_e(e);var t}(e)}function _e(e){return(0,A.YO)("hub",(()=>new me),e)}function Se(e,t){return!!e&&((e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0)}const Ie=A.n2;let Ae=0;function Oe(){return Ae>0}function Ce(e,t={},r){if("function"!=typeof e)return e;try{const t=e.__sentry_wrapped__;if(t)return t;if(j(e))return e}catch(t){return e}const n=function(){const n=Array.prototype.slice.call(arguments);try{r&&"function"==typeof r&&r.apply(this,arguments);const i=n.map((e=>Ce(e,t)));return e.apply(this,i)}catch(e){throw Ae++,setTimeout((()=>{Ae--})),i=r=>{var i;r.addEventProcessor((e=>(t.mechanism&&(W(e,void 0,void 0),Q(e,t.mechanism)),e.extra={...e.extra,arguments:n},e))),i=e,Ee().captureException(i,{captureContext:undefined})},Ee().withScope(i),e}var i};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}catch(e){}U(n,e),M(e,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get:()=>e.name})}catch(e){}return n}const Te=/\(error: (.*)\)/,be=/captureMessage|captureException/;const we="<anonymous>";function Re(e){try{return e&&"function"==typeof e&&e.name||we}catch(e){return we}}const Pe=(0,A.Rf)();function Ne(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}const De=(0,A.Rf)(),Le=(0,A.Rf)(),xe="__sentry_xhr_v2__",ke={},Me={};function Ue(e){if(!Me[e])switch(Me[e]=!0,e){case"console":"console"in A.n2&&w.forEach((function(e){e in A.n2.console&&k(A.n2.console,e,(function(t){return R[e]=t,function(...t){He("console",{args:t,level:e});const r=R[e];r&&r.apply(A.n2.console,t)}}))}));break;case"dom":!function(){if(!Le.document)return;const e=He.bind(null,"dom"),t=Ye(e,!0);Le.document.addEventListener("click",t,!1),Le.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{const r=Le[t]&&Le[t].prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(k(r,"addEventListener",(function(t){return function(r,n,i){if("click"===r||"keypress"==r)try{const n=this,o=n.__sentry_instrumentation_handlers__=n.__sentry_instrumentation_handlers__||{},s=o[r]=o[r]||{refCount:0};if(!s.handler){const n=Ye(e);s.handler=n,t.call(this,r,n,i)}s.refCount++}catch(e){}return t.call(this,r,n,i)}})),k(r,"removeEventListener",(function(e){return function(t,r,n){if("click"===t||"keypress"==t)try{const r=this,i=r.__sentry_instrumentation_handlers__||{},o=i[t];o&&(o.refCount--,o.refCount<=0&&(e.call(this,t,o.handler,n),o.handler=void 0,delete i[t]),0===Object.keys(i).length&&delete r.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,r,n)}})))}))}();break;case"xhr":!function(){if(!Le.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;k(e,"open",(function(e){return function(...t){const r=t[1],n=this[xe]={method:m(t[0])?t[0].toUpperCase():t[0],url:t[1],request_headers:{}};m(r)&&"POST"===n.method&&r.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const i=()=>{const e=this[xe];if(e&&4===this.readyState){try{e.status_code=this.status}catch(e){}He("xhr",{args:t,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:this})}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?k(this,"onreadystatechange",(function(e){return function(...t){return i(),e.apply(this,t)}})):this.addEventListener("readystatechange",i),k(this,"setRequestHeader",(function(e){return function(...t){const[r,n]=t,i=this[xe];return i&&(i.request_headers[r.toLowerCase()]=n),e.apply(this,t)}})),e.apply(this,t)}})),k(e,"send",(function(e){return function(...t){const r=this[xe];return r&&void 0!==t[0]&&(r.body=t[0]),He("xhr",{args:t,startTimestamp:Date.now(),xhr:this}),e.apply(this,t)}}))}();break;case"fetch":(function(){if(!function(){if(!("fetch"in Pe))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}())return!1;if(Ne(Pe.fetch))return!0;let e=!1;const t=Pe.document;if(t&&"function"==typeof t.createElement)try{const r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(e=Ne(r.contentWindow.fetch)),t.head.removeChild(r)}catch(e){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&N.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e})()&&k(A.n2,"fetch",(function(e){return function(...t){const{method:r,url:n}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){const[t,r]=e;return{url:Ge(t),method:Be(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:Ge(t),method:Be(t,"method")?String(t.method).toUpperCase():"GET"}}(t),i={args:t,fetchData:{method:r,url:n},startTimestamp:Date.now()};return He("fetch",{...i}),e.apply(A.n2,t).then((e=>(He("fetch",{...i,endTimestamp:Date.now(),response:e}),e)),(e=>{throw He("fetch",{...i,endTimestamp:Date.now(),error:e}),e}))}}));break;case"history":!function(){if(!function(){const e=De.chrome,t=e&&e.app&&e.app.runtime,r="history"in De&&!!De.history.pushState&&!!De.history.replaceState;return!t&&r}())return;const e=Le.onpopstate;function t(e){return function(...t){const r=t.length>2?t[2]:void 0;if(r){const e=Fe,t=String(r);Fe=t,He("history",{from:e,to:t})}return e.apply(this,t)}}Le.onpopstate=function(...t){const r=Le.location.href,n=Fe;if(Fe=r,He("history",{from:n,to:r}),e)try{return e.apply(this,t)}catch(e){}},k(Le.history,"pushState",t),k(Le.history,"replaceState",t)}();break;case"error":$e=Le.onerror,Le.onerror=function(e,t,r,n,i){return He("error",{column:n,error:i,line:r,msg:e,url:t}),!(!$e||$e.__SENTRY_LOADER__)&&$e.apply(this,arguments)},Le.onerror.__SENTRY_INSTRUMENTED__=!0;break;case"unhandledrejection":Ke=Le.onunhandledrejection,Le.onunhandledrejection=function(e){return He("unhandledrejection",e),!(Ke&&!Ke.__SENTRY_LOADER__)||Ke.apply(this,arguments)},Le.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0;break;default:return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&N.warn("unknown instrumentation type:",e))}}function je(e,t){ke[e]=ke[e]||[],ke[e].push(t),Ue(e)}function He(e,t){if(e&&ke[e])for(const r of ke[e]||[])try{r(t)}catch(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&N.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${Re(r)}\nError:`,t)}}function Be(e,t){return!!e&&"object"==typeof e&&!!e[t]}function Ge(e){return"string"==typeof e?e:e?Be(e,"url")?e.url:e.toString?e.toString():"":""}let Fe;const qe=1e3;let Ve,ze;function Ye(e,t=!1){return r=>{if(!r||r._sentryCaptured)return;if(function(e){if("keypress"!==e.type)return!1;try{const t=e.target;if(!t||!t.tagName)return!0;if("INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable)return!1}catch(e){}return!0}(r))return;M(r,"_sentryCaptured",!0);const n="keypress"===r.type?"input":r.type;void 0!==ze&&function(e,t){if(e.type!==t.type)return!1;try{if(e.target!==t.target)return!1}catch(e){}return!0}(ze,r)||(e({event:r,name:n,global:t}),ze=r),clearTimeout(Ve),Ve=Le.setTimeout((()=>{ze=void 0}),qe)}}let $e=null,Ke=null;function We(e,t=100,r=1/0){try{return Xe("",e,t,r)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function Qe(e,t=3,r=102400){const n=We(e,t);return i=n,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(i))>r?Qe(e,t-1,r):n;var i}function Xe(e,t,n=1/0,i=1/0,o=function(){const e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(r){if(e)return!!t.has(r)||(t.add(r),!1);for(let e=0;e<t.length;e++)if(t[e]===r)return!0;return t.push(r),!1},function(r){if(e)t.delete(r);else for(let e=0;e<t.length;e++)if(t[e]===r){t.splice(e,1);break}}]}()){const[s,a]=o;if(null==t||["number","boolean","string"].includes(typeof t)&&("number"!=typeof(c=t)||c==c))return t;var c;const u=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if(void 0!==r.g&&t===r.g)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if(I(t))return"[VueViewModel]";if(function(e){return y(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}(t))return"[SyntheticEvent]";if("number"==typeof t&&t!=t)return"[NaN]";if("function"==typeof t)return`[Function: ${Re(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;const n=function(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(e){return`**non-serializable** (${e})`}}(e,t);if(!u.startsWith("[object "))return u;if(t.__sentry_skip_normalization__)return t;const l="number"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:n;if(0===l)return u.replace("object ","");if(s(t))return"[Circular ~]";const d=t;if(d&&"function"==typeof d.toJSON)try{return Xe("",d.toJSON(),l-1,i,o)}catch(e){}const h=Array.isArray(t)?[]:{};let p=0;const f=H(t);for(const e in f){if(!Object.prototype.hasOwnProperty.call(f,e))continue;if(p>=i){h[e]="[MaxProperties ~]";break}const t=f[e];h[e]=Xe(e,t,l-1,i,o),p++}return a(t),h}function Ze(e,t){const r=et(e,t),n={type:t&&t.name,value:rt(t)};return r.length&&(n.stacktrace={frames:r}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function Je(e,t){return{exception:{values:[Ze(e,t)]}}}function et(e,t){const r=t.stacktrace||t.stack||"",n=function(e){if(e){if("number"==typeof e.framesToPop)return e.framesToPop;if(tt.test(e.message))return 1}return 0}(t);try{return e(r,n)}catch(e){}return[]}const tt=/Minified React error #\d+;/i;function rt(e){const t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function nt(e,t,r,n,i){let o;if(f(t)&&t.error)return Je(e,t.error);if(g(t)||p(t,"DOMException")){const i=t;if("stack"in t)o=Je(e,t);else{const t=i.name||(g(i)?"DOMError":"DOMException"),s=i.message?`${t}: ${i.message}`:t;o=it(e,s,r,n),W(o,s)}return"code"in i&&(o.tags={...o.tags,"DOMException.code":`${i.code}`}),o}return h(t)?Je(e,t):y(t)||E(t)?(o=function(e,t,r,n){const i=Ee().getClient(),o=i&&i.getOptions().normalizeDepth,s={exception:{values:[{type:E(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:ot(t,{isUnhandledRejection:n})}]},extra:{__serialized__:Qe(t,o)}};if(r){const t=et(e,r);t.length&&(s.exception.values[0].stacktrace={frames:t})}return s}(e,t,r,i),Q(o,{synthetic:!0}),o):(o=it(e,t,r,n),W(o,`${t}`,void 0),Q(o,{synthetic:!0}),o)}function it(e,t,r,n){const i={message:t};if(n&&r){const n=et(e,r);n.length&&(i.exception={values:[{value:t,stacktrace:{frames:n}}]})}return i}function ot(e,{isUnhandledRejection:t}){const r=function(e,t=40){const r=Object.keys(H(e));if(r.sort(),!r.length)return"[object has no keys]";if(r[0].length>=t)return D(r[0],t);for(let e=r.length;e>0;e--){const n=r.slice(0,e).join(", ");if(!(n.length>t))return e===r.length?n:D(n,t)}return""}(e),n=t?"promise rejection":"exception";return f(e)?`Event \`ErrorEvent\` captured as ${n} with message \`${e.message}\``:E(e)?`Event \`${function(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(e){}}(e)}\` (type=${e.type}) captured as ${n}`:`Object captured as ${n} with keys: ${r}`}class st{static __initStatic(){this.id="GlobalHandlers"}constructor(e){this.name=st.id,this._options={onerror:!0,onunhandledrejection:!0,...e},this._installFunc={onerror:at,onunhandledrejection:ct}}setupOnce(){Error.stackTraceLimit=50;const e=this._options;for(const r in e){const n=this._installFunc[r];n&&e[r]&&(t=r,("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&N.log(`Global Handler attached: ${t}`),n(),this._installFunc[r]=void 0)}var t}}function at(){je("error",(e=>{const[t,r,n]=dt();if(!t.getIntegration(st))return;const{msg:i,url:o,line:s,column:a,error:c}=e;if(Oe()||c&&c.__sentry_own_request__)return;const u=void 0===c&&m(i)?function(e,t,r,n){let i=f(e)?e.message:e,o="Error";const s=i.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);s&&(o=s[1],i=s[2]);return ut({exception:{values:[{type:o,value:i}]}},t,r,n)}(i,o,s,a):ut(nt(r,c||i,void 0,n,!1),o,s,a);u.level="error",lt(t,c,u,"onerror")}))}function ct(){je("unhandledrejection",(e=>{const[t,r,n]=dt();if(!t.getIntegration(st))return;let i=e;try{"reason"in e?i=e.reason:"detail"in e&&"reason"in e.detail&&(i=e.detail.reason)}catch(e){}if(Oe()||i&&i.__sentry_own_request__)return!0;const o=v(i)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(i)}`}]}}:nt(r,i,void 0,n,!0);o.level="error",lt(t,i,o,"onunhandledrejection")}))}function ut(e,t,r,n){const i=e.exception=e.exception||{},o=i.values=i.values||[],s=o[0]=o[0]||{},a=s.stacktrace=s.stacktrace||{},c=a.frames=a.frames||[],u=isNaN(parseInt(n,10))?void 0:n,l=isNaN(parseInt(r,10))?void 0:r,d=m(t)&&t.length>0?t:function(){try{return O.document.location.href}catch(e){return""}}();return 0===c.length&&c.push({colno:u,filename:d,function:"?",in_app:!0,lineno:l}),e}function lt(e,t,r,n){Q(r,{handled:!1,type:n}),e.captureEvent(r,{originalException:t})}function dt(){const e=Ee(),t=e.getClient(),r=t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[e,r.stackParser,r.attachStacktrace]}st.__initStatic();const ht=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class pt{static __initStatic(){this.id="TryCatch"}constructor(e){this.name=pt.id,this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e}}setupOnce(){this._options.setTimeout&&k(Ie,"setTimeout",ft),this._options.setInterval&&k(Ie,"setInterval",ft),this._options.requestAnimationFrame&&k(Ie,"requestAnimationFrame",gt),this._options.XMLHttpRequest&&"XMLHttpRequest"in Ie&&k(XMLHttpRequest.prototype,"send",mt);const e=this._options.eventTarget;e&&(Array.isArray(e)?e:ht).forEach(vt)}}function ft(e){return function(...t){const r=t[0];return t[0]=Ce(r,{mechanism:{data:{function:Re(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function gt(e){return function(t){return e.apply(this,[Ce(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Re(e)},handled:!1,type:"instrument"}})])}}function mt(e){return function(...t){const r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((e=>{e in r&&"function"==typeof r[e]&&k(r,e,(function(t){const r={mechanism:{data:{function:e,handler:Re(t)},handled:!1,type:"instrument"}},n=j(t);return n&&(r.mechanism.data.handler=Re(n)),Ce(t,r)}))})),e.apply(this,t)}}function vt(e){const t=Ie,r=t[e]&&t[e].prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(k(r,"addEventListener",(function(t){return function(r,n,i){try{"function"==typeof n.handleEvent&&(n.handleEvent=Ce(n.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Re(n),target:e},handled:!1,type:"instrument"}}))}catch(e){}return t.apply(this,[r,Ce(n,{mechanism:{data:{function:"addEventListener",handler:Re(n),target:e},handled:!1,type:"instrument"}}),i])}})),k(r,"removeEventListener",(function(e){return function(t,r,n){const i=r;try{const r=i&&i.__sentry_wrapped__;r&&e.call(this,t,r,n)}catch(e){}return e.call(this,t,i,n)}})))}pt.__initStatic();const yt=["fatal","error","warning","log","info","debug"];function Et(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const r=t[6]||"",n=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:r,hash:n,relative:t[5]+r+n}}class _t{static __initStatic(){this.id="Breadcrumbs"}constructor(e){this.name=_t.id,this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e}}setupOnce(){if(this.options.console&&je("console",It),this.options.dom&&je("dom",(e=this.options.dom,function(t){let r,n="object"==typeof e?e.serializeAttribute:void 0,i="object"==typeof e&&"number"==typeof e.maxStringLength?e.maxStringLength:void 0;i&&i>1024&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&N.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${i} was configured. Sentry will use 1024 instead.`),i=1024),"string"==typeof n&&(n=[n]);try{const e=t.event;r=function(e){return!!e&&!!e.target}(e)?T(e.target,{keyAttrs:n,maxStringLength:i}):T(e,{keyAttrs:n,maxStringLength:i})}catch(e){r="<unknown>"}0!==r.length&&Ee().addBreadcrumb({category:`ui.${t.name}`,message:r},{event:t.event,name:t.name,global:t.global})})),this.options.xhr&&je("xhr",At),this.options.fetch&&je("fetch",Ot),this.options.history&&je("history",Ct),this.options.sentry){const e=Ee().getClient();e&&e.on&&e.on("beforeSendEvent",St)}var e}}function St(e){Ee().addBreadcrumb({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:K(e)},{event:e})}function It(e){const t={category:"console",data:{arguments:e.args,logger:"console"},level:(r=e.level,"warn"===r?"warning":yt.includes(r)?r:"log"),message:L(e.args," ")};var r;if("assert"===e.level){if(!1!==e.args[0])return;t.message=`Assertion failed: ${L(e.args.slice(1)," ")||"console.assert"}`,t.data.arguments=e.args.slice(1)}Ee().addBreadcrumb(t,{input:e.args,level:e.level})}function At(e){const{startTimestamp:t,endTimestamp:r}=e,n=e.xhr[xe];if(!t||!r||!n)return;const{method:i,url:o,status_code:s,body:a}=n,c={method:i,url:o,status_code:s},u={xhr:e.xhr,input:a,startTimestamp:t,endTimestamp:r};Ee().addBreadcrumb({category:"xhr",data:c,type:"http"},u)}function Ot(e){const{startTimestamp:t,endTimestamp:r}=e;if(r&&(!e.fetchData.url.match(/sentry_key/)||"POST"!==e.fetchData.method))if(e.error){const n=e.fetchData,i={data:e.error,input:e.args,startTimestamp:t,endTimestamp:r};Ee().addBreadcrumb({category:"fetch",data:n,level:"error",type:"http"},i)}else{const n={...e.fetchData,status_code:e.response&&e.response.status},i={input:e.args,response:e.response,startTimestamp:t,endTimestamp:r};Ee().addBreadcrumb({category:"fetch",data:n,type:"http"},i)}}function Ct(e){let t=e.from,r=e.to;const n=Et(Ie.location.href);let i=Et(t);const o=Et(r);i.path||(i=n),n.protocol===o.protocol&&n.host===o.host&&(r=o.relative),n.protocol===i.protocol&&n.host===i.host&&(t=i.relative),Ee().addBreadcrumb({category:"navigation",data:{from:t,to:r}})}function Tt(e,t,r=250,n,i,o,s){if(!(o.exception&&o.exception.values&&s&&S(s.originalException,Error)))return;const a=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;var c,u;a&&(o.exception.values=(c=bt(e,t,i,s.originalException,n,o.exception.values,a,0),u=r,c.map((e=>(e.value&&(e.value=D(e.value,u)),e)))))}function bt(e,t,r,n,i,o,s,a){if(o.length>=r+1)return o;let c=[...o];if(S(n[i],Error)){wt(s,a);const o=e(t,n[i]),u=c.length;Rt(o,i,u,a),c=bt(e,t,r,n[i],i,[o,...c],o,u)}return Array.isArray(n.errors)&&n.errors.forEach(((n,o)=>{if(S(n,Error)){wt(s,a);const u=e(t,n),l=c.length;Rt(u,`errors[${o}]`,l,a),c=bt(e,t,r,n,i,[u,...c],u,l)}})),c}function wt(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,is_exception_group:!0,exception_id:t}}function Rt(e,t,r,n){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:r,parent_id:n}}_t.__initStatic();class Pt{static __initStatic(){this.id="LinkedErrors"}constructor(e={}){this.name=Pt.id,this._key=e.key||"cause",this._limit=e.limit||5}setupOnce(){}preprocessEvent(e,t,r){const n=r.getOptions();Tt(Ze,n.stackParser,n.maxValueLength,this._key,this._limit,e,t)}}Pt.__initStatic();class Nt{static __initStatic(){this.id="HttpContext"}constructor(){this.name=Nt.id}setupOnce(){}preprocessEvent(e){if(!Ie.navigator&&!Ie.location&&!Ie.document)return;const t=e.request&&e.request.url||Ie.location&&Ie.location.href,{referrer:r}=Ie.document||{},{userAgent:n}=Ie.navigator||{},i={...e.request&&e.request.headers,...r&&{Referer:r},...n&&{"User-Agent":n}},o={...e.request,...t&&{url:t},headers:i};e.request=o}}Nt.__initStatic();class Dt{static __initStatic(){this.id="Dedupe"}constructor(){this.name=Dt.id}setupOnce(e,t){}processEvent(e){if(e.type)return e;try{if(function(e,t){return!!t&&(!!function(e,t){const r=e.message,n=t.message;return!(!r&&!n)&&(!(r&&!n||!r&&n)&&(r===n&&(!!xt(e,t)&&!!Lt(e,t))))}(e,t)||!!function(e,t){const r=kt(t),n=kt(e);return!(!r||!n)&&(r.type===n.type&&r.value===n.value&&(!!xt(e,t)&&!!Lt(e,t)))}(e,t))}(e,this._previousEvent))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&N.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){}return this._previousEvent=e}}function Lt(e,t){let r=Mt(e),n=Mt(t);if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;if(n.length!==r.length)return!1;for(let e=0;e<n.length;e++){const t=n[e],i=r[e];if(t.filename!==i.filename||t.lineno!==i.lineno||t.colno!==i.colno||t.function!==i.function)return!1}return!0}function xt(e,t){let r=e.fingerprint,n=t.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;try{return!(r.join("")!==n.join(""))}catch(e){return!1}}function kt(e){return e.exception&&e.exception.values&&e.exception.values[0]}function Mt(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}Dt.__initStatic();let Ut={};Ie.Sentry&&Ie.Sentry.Integrations&&(Ut=Ie.Sentry.Integrations);const jt={...Ut,...e,...t},Ht="?";function Bt(e,t,r,n){const i={filename:e,function:t,in_app:!0};return void 0!==r&&(i.lineno=r),void 0!==n&&(i.colno=n),i}const Gt=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Ft=/\((\S*)(?::(\d+))(?::(\d+))\)/,qt=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Vt=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,zt=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Yt=function(...e){const t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,r=0)=>{const n=[],i=e.split("\n");for(let e=r;e<i.length;e++){const r=i[e];if(r.length>1024)continue;const o=Te.test(r)?r.replace(Te,"$1"):r;if(!o.match(/\S*Error: /)){for(const e of t){const t=e(o);if(t){n.push(t);break}}if(n.length>=50)break}}return function(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop(),t.reverse(),be.test(t[t.length-1].function||"")&&(t.pop(),be.test(t[t.length-1].function||"")&&t.pop()),t.slice(0,50).map((e=>({...e,filename:e.filename||t[t.length-1].filename,function:e.function||"?"})))}(n)}}([30,e=>{const t=Gt.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){const e=Ft.exec(t[2]);e&&(t[2]=e[1],t[3]=e[2],t[4]=e[3])}const[e,r]=$t(t[1]||Ht,t[2]);return Bt(r,e,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],[50,e=>{const t=qt.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=Vt.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],r=t[1]||Ht;return[r,e]=$t(r,e),Bt(e,r,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],[40,e=>{const t=zt.exec(e);return t?Bt(t[2],t[1]||Ht,+t[3],t[4]?+t[4]:void 0):void 0}]),$t=(e,t)=>{const r=-1!==e.indexOf("safari-extension"),n=-1!==e.indexOf("safari-web-extension");return r||n?[-1!==e.indexOf("@")?e.split("@")[0]:Ht,r?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};class Kt extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}const Wt=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Qt(e,t=!1){const{host:r,path:n,pass:i,port:o,projectId:s,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&i?`:${i}`:""}@${r}${o?`:${o}`:""}/${n?`${n}/`:n}${s}`}function Xt(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Zt(e,t=[]){return[e,t]}function Jt(e,t){const[r,n]=e;return[r,[...n,t]]}function er(e,t){const r=e[1];for(const e of r)if(t(e,e[0].type))return!0;return!1}function tr(e,t){return(t||new TextEncoder).encode(e)}function rr(e,t){const[r,n]=e;let i=JSON.stringify(r);function o(e){"string"==typeof i?i="string"==typeof e?i+e:[tr(i,t),e]:i.push("string"==typeof e?tr(e,t):e)}for(const e of n){const[t,r]=e;if(o(`\n${JSON.stringify(t)}\n`),"string"==typeof r||r instanceof Uint8Array)o(r);else{let e;try{e=JSON.stringify(r)}catch(t){e=JSON.stringify(We(r))}o(e)}}return"string"==typeof i?i:function(e){const t=e.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(t);let n=0;for(const t of e)r.set(t,n),n+=t.length;return r}(i)}function nr(e,t){const r="string"==typeof e.data?tr(e.data,t):e.data;return[F({type:"attachment",length:r.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),r]}const ir={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor"};function or(e){return ir[e]}function sr(e){if(!e||!e.sdk)return;const{name:t,version:r}=e.sdk;return{name:t,version:r}}const ar=6e4;const cr=30;function ur(e,t,r=function(e){const t=[];function r(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(n){if(!(void 0===e||t.length<e))return se(new Kt("Not adding Promise because buffer limit was reached."));const i=n();return-1===t.indexOf(i)&&t.push(i),i.then((()=>r(i))).then(null,(()=>r(i).then(null,(()=>{})))),i},drain:function(e){return new ae(((r,n)=>{let i=t.length;if(!i)return r(!0);const o=setTimeout((()=>{e&&e>0&&r(!1)}),e);t.forEach((e=>{oe(e).then((()=>{--i||(clearTimeout(o),r(!0))}),n)}))}))}}}(e.bufferSize||cr)){let n={};function i(i){const o=[];if(er(i,((t,r)=>{const i=or(r);if(function(e,t,r=Date.now()){return function(e,t){return e[t]||e.all||0}(e,t)>r}(n,i)){const n=lr(t,r);e.recordDroppedEvent("ratelimit_backoff",i,n)}else o.push(t)})),0===o.length)return oe();const s=Zt(i[0],o),a=t=>{er(s,((r,n)=>{const i=lr(r,n);e.recordDroppedEvent(t,or(n),i)}))};return r.add((()=>t({body:rr(s,e.textEncoder)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&N.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),n=function(e,{statusCode:t,headers:r},n=Date.now()){const i={...e},o=r&&r["x-sentry-rate-limits"],s=r&&r["retry-after"];if(o)for(const e of o.trim().split(",")){const[t,r]=e.split(":",2),o=parseInt(t,10),s=1e3*(isNaN(o)?60:o);if(r)for(const e of r.split(";"))i[e]=n+s;else i.all=n+s}else s?i.all=n+function(e,t=Date.now()){const r=parseInt(`${e}`,10);if(!isNaN(r))return 1e3*r;const n=Date.parse(`${e}`);return isNaN(n)?ar:n-t}(s,n):429===t&&(i.all=n+6e4);return i}(n,e),e)),(e=>{throw a("network_error"),e})))).then((e=>e),(e=>{if(e instanceof Kt)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&N.error("Skipped sending event because buffer is full."),a("queue_overflow"),oe();throw e}))}return i.__sentry__baseTransport__=!0,{send:i,flush:e=>r.drain(e)}}function lr(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}let dr;function hr(e,t=function(){if(dr)return dr;if(Ne(Ie.fetch))return dr=Ie.fetch.bind(Ie);const e=Ie.document;let t=Ie.fetch;if(e&&"function"==typeof e.createElement)try{const r=e.createElement("iframe");r.hidden=!0,e.head.appendChild(r);const n=r.contentWindow;n&&n.fetch&&(t=n.fetch),e.head.removeChild(r)}catch(e){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&N.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return dr=t.bind(Ie)}()){let r=0,n=0;return ur(e,(function(i){const o=i.body.length;r+=o,n++;const s={body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:r<=6e4&&n<15,...e.fetchOptions};try{return t(e.url,s).then((e=>(r-=o,n--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}})))}catch(e){return dr=void 0,r-=o,n--,se(e)}}))}const pr="7";function fr(e,t={}){const r="string"==typeof t?t:t.tunnel,n="string"!=typeof t&&t._metadata?t._metadata.sdk:void 0;return r||`${function(e){return`${function(e){const t=e.protocol?`${e.protocol}:`:"",r=e.port?`:${e.port}`:"";return`${t}//${e.host}${r}${e.path?`/${e.path}`:""}/api/`}(e)}${e.projectId}/envelope/`}(e)}?${function(e,t){return r={sentry_key:e.publicKey,sentry_version:pr,...t&&{sentry_client:`${t.name}/${t.version}`}},Object.keys(r).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(r[e])}`)).join("&");var r}(e,n)}`}const gr=[];function mr(e,t,r){if(r[t.name]=t,-1===gr.indexOf(t.name)&&(t.setupOnce(ue,Ee),gr.push(t.name)),e.on&&"function"==typeof t.preprocessEvent){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",((t,n)=>r(t,n,e)))}if(e.addEventProcessor&&"function"==typeof t.processEvent){const r=t.processEvent.bind(t),n=Object.assign(((t,n)=>r(t,n,e)),{id:t.name});e.addEventProcessor(n)}("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&N.log(`Integration installed: ${t.name}`)}const vr=new WeakMap,yr="Not capturing exception because it's already been captured.";class Er{constructor(e){if(this._options=e,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=function(e){const t="string"==typeof e?function(e){const t=Wt.exec(e);if(!t)return void console.error(`Invalid Sentry Dsn: ${e}`);const[r,n,i="",o,s="",a]=t.slice(1);let c="",u=a;const l=u.split("/");if(l.length>1&&(c=l.slice(0,-1).join("/"),u=l.pop()),u){const e=u.match(/^\d+/);e&&(u=e[0])}return Xt({host:o,pass:i,path:c,projectId:u,port:s,protocol:r,publicKey:n})}(e):Xt(e);if(t&&function(e){if("undefined"!=typeof __SENTRY_DEBUG__&&!__SENTRY_DEBUG__)return!0;const{port:t,projectId:r,protocol:n}=e;return!(["protocol","publicKey","host","projectId"].find((t=>!e[t]&&(N.error(`Invalid Sentry Dsn: ${t} missing`),!0)))||(r.match(/^\d+$/)?function(e){return"http"===e||"https"===e}(n)?t&&isNaN(parseInt(t,10))&&(N.error(`Invalid Sentry Dsn: Invalid port ${t}`),1):(N.error(`Invalid Sentry Dsn: Invalid protocol ${n}`),1):(N.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),1)))}(t))return t}(e.dsn):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&N.warn("No DSN provided, client will not send events."),this._dsn){const t=fr(this._dsn,e);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,t,r){if(X(e))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&N.log(yr));let n=t&&t.event_id;return this._process(this.eventFromException(e,t).then((e=>this._captureEvent(e,t,r))).then((e=>{n=e}))),n}captureMessage(e,t,r,n){let i=r&&r.event_id;const o=v(e)?this.eventFromMessage(String(e),t,r):this.eventFromException(e,r);return this._process(o.then((e=>this._captureEvent(e,r,n))).then((e=>{i=e}))),i}captureEvent(e,t,r){if(t&&t.originalException&&X(t.originalException))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&N.log(yr));let n=t&&t.event_id;return this._process(this._captureEvent(e,t,r).then((e=>{n=e}))),n}captureSession(e){"string"!=typeof e.release?("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&N.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),de(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?this._isClientDoneProcessing(e).then((r=>t.flush(e).then((e=>r&&e)))):oe(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,e)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}setupIntegrations(e){(e&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&(this._integrations=function(e,t){const r={};return t.forEach((t=>{t&&mr(e,t,r)})),r}(this,this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&N.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){mr(this,e,this._integrations)}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let r=function(e,t,r,n){const i=sr(r),o=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,r&&r.sdk);const s=function(e,t,r,n){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!r&&n&&{dsn:Qt(n)},...i&&{trace:F({...i})}}}(e,i,n,t);return delete e.sdkProcessingMetadata,Zt(s,[[{type:o},e]])}(e,this._dsn,this._options._metadata,this._options.tunnel);for(const e of t.attachments||[])r=Jt(r,nr(e,this._options.transportOptions&&this._options.transportOptions.textEncoder));const n=this._sendEnvelope(r);n&&n.then((t=>this.emit("afterSendEvent",e,t)),null)}sendSession(e){const t=function(e,t,r,n){const i=sr(r);return Zt({sent_at:(new Date).toISOString(),...i&&{sdk:i},...!!n&&t&&{dsn:Qt(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}recordDroppedEvent(e,t,r){if(this._options.sendClientReports){const r=`${e}:${t}`;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&N.log(`Adding outcome: "${r}"`),this._outcomes[r]=this._outcomes[r]+1||1}}on(e,t){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t)}emit(e,...t){this._hooks[e]&&this._hooks[e].forEach((e=>e(...t)))}_updateSessionFromEvent(e,t){let r=!1,n=!1;const i=t.exception&&t.exception.values;if(i){n=!0;for(const e of i){const t=e.mechanism;if(t&&!1===t.handled){r=!0;break}}}const o="ok"===e.status;(o&&0===e.errors||o&&r)&&(de(e,{...r&&{status:"crashed"},errors:e.errors||Number(n||r)}),this.captureSession(e))}_isClientDoneProcessing(e){return new ae((t=>{let r=0;const n=setInterval((()=>{0==this._numProcessing?(clearInterval(n),t(!0)):(r+=1,e&&r>=e&&(clearInterval(n),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,r){const n=this.getOptions(),i=Object.keys(this._integrations);return!t.integrations&&i.length>0&&(t.integrations=i),this.emit("preprocessEvent",e,t),function(e,t,r,n,i){const{normalizeDepth:o=3,normalizeMaxBreadth:s=1e3}=e,a={...t,event_id:t.event_id||r.event_id||Y(),timestamp:t.timestamp||(0,re.yW)()},c=r.integrations||e.integrations.map((e=>e.name));!function(e,t){const{environment:r,release:n,dist:i,maxValueLength:o=250}=t;"environment"in e||(e.environment="environment"in t?r:ne),void 0===e.release&&void 0!==n&&(e.release=n),void 0===e.dist&&void 0!==i&&(e.dist=i),e.message&&(e.message=D(e.message,o));const s=e.exception&&e.exception.values&&e.exception.values[0];s&&s.value&&(s.value=D(s.value,o));const a=e.request;a&&a.url&&(a.url=D(a.url,o))}(a,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(a,c),void 0===t.type&&function(e,t){const r=A.n2._sentryDebugIds;if(!r)return;let n;const i=vr.get(t);i?n=i:(n=new Map,vr.set(t,n));const o=Object.keys(r).reduce(((e,i)=>{let o;const s=n.get(i);s?o=s:(o=t(i),n.set(i,o));for(let t=o.length-1;t>=0;t--){const n=o[t];if(n.filename){e[n.filename]=r[i];break}}return e}),{});try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.filename&&(e.debug_id=o[e.filename])}))}))}catch(e){}}(a,e.stackParser);let u=n;r.captureContext&&(u=he.clone(u).update(r.captureContext));let l=oe(a);const d=i&&i.getEventProcessors?i.getEventProcessors():[];if(u){if(u.getAttachments){const e=[...r.attachments||[],...u.getAttachments()];e.length&&(r.attachments=e)}l=u.applyToEvent(a,r,d)}else l=le([...d,...ce()],a,r);return l.then((e=>(e&&function(e){const t={};try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)}))}))}catch(e){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const r=e.debug_meta.images;Object.keys(t).forEach((e=>{r.push({type:"sourcemap",code_file:e,debug_id:t[e]})}))}(e),"number"==typeof o&&o>0?function(e,t,r){if(!e)return null;const n={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:We(e.data,t,r)}})))},...e.user&&{user:We(e.user,t,r)},...e.contexts&&{contexts:We(e.contexts,t,r)},...e.extra&&{extra:We(e.extra,t,r)}};return e.contexts&&e.contexts.trace&&n.contexts&&(n.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(n.contexts.trace.data=We(e.contexts.trace.data,t,r))),e.spans&&(n.spans=e.spans.map((e=>(e.data&&(e.data=We(e.data,t,r)),e)))),n}(e,o,s):e)))}(n,e,t,r,this).then((e=>{if(null===e)return e;const{propagationContext:t}=e.sdkProcessingMetadata||{};if((!e.contexts||!e.contexts.trace)&&t){const{traceId:n,spanId:i,parentSpanId:o,dsc:s}=t;e.contexts={trace:{trace_id:n,span_id:i,parent_span_id:o},...e.contexts};const a=s||function(e,t,r){const n=t.getOptions(),{publicKey:i}=t.getDsn()||{},{segment:o}=r&&r.getUser()||{},s=F({environment:n.environment||ne,release:n.release,user_segment:o,public_key:i,trace_id:e});return t.emit&&t.emit("createDsc",s),s}(n,this,r);e.sdkProcessingMetadata={dynamicSamplingContext:a,...e.sdkProcessingMetadata}}return e}))}_captureEvent(e,t={},r){return this._processEvent(e,t,r).then((e=>e.event_id),(e=>{if("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__){const t=e;"log"===t.logLevel?N.log(t.message):N.warn(t)}}))}_processEvent(e,t,r){const n=this.getOptions(),{sampleRate:i}=n,o=Sr(e),s=_r(e),a=e.type||"error",c=`before send for type \`${a}\``;if(s&&"number"==typeof i&&Math.random()>i)return this.recordDroppedEvent("sample_rate","error",e),se(new Kt(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const u="replay_event"===a?"replay":a;return this._prepareEvent(e,t,r).then((r=>{if(null===r)throw this.recordDroppedEvent("event_processor",u,e),new Kt("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return r;const i=function(e,t,r){const{beforeSend:n,beforeSendTransaction:i}=e;return _r(t)&&n?n(t,r):Sr(t)&&i?i(t,r):t}(n,r,t);return function(e,t){const r=`${t} must return \`null\` or a valid event.`;if(_(e))return e.then((e=>{if(!y(e)&&null!==e)throw new Kt(r);return e}),(e=>{throw new Kt(`${t} rejected with ${e}`)}));if(!y(e)&&null!==e)throw new Kt(r);return e}(i,c)})).then((n=>{if(null===n)throw this.recordDroppedEvent("before_send",u,e),new Kt(`${c} returned \`null\`, will not send event.`,"log");const i=r&&r.getSession();!o&&i&&this._updateSessionFromEvent(i,n);const s=n.transaction_info;if(o&&s&&n.transaction!==e.transaction){const e="custom";n.transaction_info={...s,source:e}}return this.sendEvent(n,t),n})).then(null,(e=>{if(e instanceof Kt)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new Kt(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)return this._transport.send(e).then(null,(e=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&N.error("Error while sending event:",e)}));("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&N.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map((t=>{const[r,n]=t.split(":");return{reason:r,category:n,quantity:e[t]}}))}}function _r(e){return void 0===e.type}function Sr(e){return"transaction"===e.type}const Ir="7.74.1";var Ar=r(4285);class Or extends Er{constructor(e){const t=Ie.SENTRY_SDK_SOURCE||(0,Ar.S)();e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:`${t}:@sentry/browser`,version:Ir}],version:Ir},super(e),e.sendClientReports&&Ie.document&&Ie.document.addEventListener("visibilitychange",(()=>{"hidden"===Ie.document.visibilityState&&this._flushOutcomes()}))}eventFromException(e,t){return function(e,t,r,n){const i=nt(e,t,r&&r.syntheticException||void 0,n);return Q(i),i.level="error",r&&r.event_id&&(i.event_id=r.event_id),oe(i)}(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",r){return function(e,t,r="info",n,i){const o=it(e,t,n&&n.syntheticException||void 0,i);return o.level=r,n&&n.event_id&&(o.event_id=n.event_id),oe(o)}(this._options.stackParser,e,t,r,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&N.warn("SDK not enabled, will not capture user feedback."));const t=function(e,{metadata:t,tunnel:r,dsn:n}){const i={event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!r&&!!n&&{dsn:Qt(n)}},o=function(e){return[{type:"user_report"},e]}(e);return Zt(i,[o])}(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(t)}_prepareEvent(e,t,r){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,r)}_flushOutcomes(){const e=this._clearOutcomes();if(0===e.length)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&N.log("No outcomes to send"));if(!this._dsn)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&N.log("No dsn provided, will not send outcomes"));("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&N.log("Sending outcomes:",e);const t=function(e,t,r){return Zt(t?{dsn:t}:{},[[{type:"client_report"},{timestamp:(0,re.yW)(),discarded_events:e}]])}(e,this._options.tunnel&&Qt(this._dsn));this._sendEnvelope(t)}}const Cr=-1;async function Tr(e,t,r=new Error("Promise timeout exceeded")){let n=Cr;const i=new Promise(((e,i)=>{n=window.setTimeout((()=>{i(r)}),t)})),o=await Promise.race([i,e()]);return window.clearTimeout(n),o}const br=(e,t)=>Math.min(200*Math.pow(2,e-1)+Math.floor(1e3*Math.random()),t);class wr extends Error{constructor(e,t,r){super(`Request timeout exceeded (attempts=${e}; duration=${t}ms; url=${r})`),this.name="HttpRequestTimeoutError",Object.setPrototypeOf(this,wr.prototype)}}class Rr extends Error{constructor(e,t,r){super(`Invalid JSON received (status=${t}; url=${e})`),this.originalErrorMessage=r,this.name="HttpRequestInvalidJsonError",Object.setPrototypeOf(this,Rr.prototype)}}class Pr extends Error{constructor(e,t,r){super(`Network error during request (attempts=${e}; duration=${t}ms; url=${r})`),this.name="HttpRequestNetworkError",Object.setPrototypeOf(this,Pr.prototype)}}var Nr;function Dr(e,t){return{body:e,status:t.status,statusText:t.statusText}}function Lr(e){const t=new Headers([["Accept","application/json"],["Content-Type","application/json; charset=utf-8"]]);for(const r in e){const n=e[r];void 0!==n&&t.set(r,n)}return t}async function xr(e,t,r=1,n=Date.now()){const i=Date.now()-n,{body:o,headers:s={},credentials:a="include",mode:c="cors",timeoutMs:u=1e4,maxAttempts:l=3,maxBackoffMs:d=32e3}=t;let h=null;void 0!==window.AbortController&&null!==window.AbortController&&(h=new window.AbortController);const p={...t,body:null!=o?JSON.stringify(o):null,credentials:a,headers:Lr(s),mode:c,signal:h?h.signal:null};try{const t=await Tr(window.fetch.bind(null,e,p),u,new wr(r,i,e));return await async function(e,t){let r={};const n=e.status;if(!(n<Nr.INTERNAL_SERVER_ERROR))return Dr(r,e);{let i;try{return n!==Nr.NO_CONTENT&&(r=await e.json()),Dr(r,e)}catch(r){if(r instanceof Error){const n=r.toString();try{i=await e.text(),i=`${i} ${n}`}catch{i=n}throw new Rr(t,e.status,i)}throw new Rr(t,e.status,JSON.stringify(r))}}}(t,e)}catch(o){if(o instanceof wr)h?.abort();else{if(o instanceof Rr)throw o;if(r===l)throw new Pr(r,i,e)}if(r===l)throw o;const s=br(r,d);return new Promise((i=>{setTimeout((()=>{i(xr(e,t,r+1,n))}),s)}))}}!function(e){e[e.BAD_REQUEST=400]="BAD_REQUEST",e[e.OK=200]="OK",e[e.CREATED=201]="CREATED",e[e.NO_CONTENT=204]="NO_CONTENT",e[e.NOT_FOUND=404]="NOT_FOUND",e[e.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",e[e.SERVICE_UNAVAILABLE=503]="SERVICE_UNAVAILABLE",e[e.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS",e[e.UNAUTHORIZED=401]="UNAUTHORIZED"}(Nr||(Nr={}));const kr=function(e,t){return xr(e,{...t,method:"POST"})};var Mr,Ur,jr,Hr,Br,Gr,Fr,qr,Vr,zr,Yr,$r,Kr,Wr,Qr,Xr,Zr;r(8836),r(1657),r(6708),r(7368),r(4069),r(4112),r(5940),function(e){e.API_ERROR="API_ERROR",e.AUTHENTICATION_ERROR="AUTHENTICATION_ERROR",e.INVALID_REQUEST_ERROR="INVALID_REQUEST_ERROR",e.RATE_LIMIT_ERROR="RATE_LIMIT_ERROR",e.PAYMENT_METHOD_ERROR="PAYMENT_METHOD_ERROR",e.REFUND_ERROR="REFUND_ERROR"}(Mr||(Mr={}));class Jr extends Error{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unknown Error",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e;t.length>0&&(r=function(e,t){return"".concat(e,"\n  ").concat(t.map((e=>{switch(!0){case"message"in e:return e.message;case"detail"in e:return e.detail;default:return"[Unspecified Error]"}})).join("\n  "))}(e,t)),super(r),this.errors=t,this.name="SqError",Object.setPrototypeOf(this,Jr.prototype)}fromSerializedError(e){this.name=e.name,this.message=e.message,e.errors&&(this.errors=e.errors)}}class en extends Jr{constructor(){super("The Payment 'applicationId' option is not in the correct format."),this.name="InvalidApplicationIdError",Object.setPrototypeOf(this,en.prototype)}}class tn extends Jr{constructor(e,t){super("Web Payments SDK was initialized with an application ID created in ".concat(e," however you are currently using ").concat(t,".")),this.name="ApplicationIdEnvironmentMismatchError ",Object.setPrototypeOf(this,tn.prototype)}}class rn extends Jr{constructor(){super("Tokenization has failed. `accountHolderName` is a required option when calling ach.tokenize()"),this.name="PlaidMissingNameError",Object.setPrototypeOf(this,rn.prototype)}}class nn extends Jr{constructor(){super("You cannot call `tokenize` when using an `onTokenize` callback"),this.name="AfterpayOnTokenizeListenerError",Object.setPrototypeOf(this,nn.prototype)}}class on extends Jr{constructor(e,t){super("This instance of ".concat(e," is missing the ").concat(t," listener.")),this.name="PaymentMethodMissingListener",Object.setPrototypeOf(this,on.prototype)}}class sn extends Jr{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super("The payment request used for Afterpay/Clearpay caused a failure",e),this.errors=e,this.name="AfterpayRequestError",Object.setPrototypeOf(this,sn.prototype)}}class an extends Jr{constructor(){super("The amount is outside of the merchant's Afterpay payment limits."),this.name="AfterpayAmountOutsideLimitsError",Object.setPrototypeOf(this,an.prototype)}}class cn extends Jr{constructor(){super("The currency provided is not supported for use with Afterpay/Clearpay"),this.name="AfterpayUnsupportedCurrencyError",Object.setPrototypeOf(this,cn.prototype)}}class un extends Jr{constructor(){super("Afterpay/Clearpay is not enabled for this merchant."),this.name="AfterpayMerchantError",Object.setPrototypeOf(this,un.prototype)}}class ln extends Jr{constructor(e){super(e),this.name="AfterpayInvalidPaymentRequestError",Object.setPrototypeOf(this,ln.prototype)}}class dn extends Jr{constructor(e){super("An issue occurred while verifying the buyer",[e]),this.name="VerifyBuyerError",Object.setPrototypeOf(this,dn.prototype)}}class hn extends Jr{constructor(e){var t=e instanceof HTMLElement?e.nodeName:e;super("The element ".concat(t," was not found")),this.name="ElementNotFoundError",Object.setPrototypeOf(this,hn.prototype)}}class pn extends Jr{constructor(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((e=>{var[t,r]=e;return'expected property: "'.concat(t,'" of type "').concat(r,'"')})).join("\n");super("Please ensure you call payments.paymentRequest (https://developer.squareup.com/reference/sdks/web/payments#Payments.paymentRequest) with the appropriate options.\n".concat(e)),this.name="InvalidPaymentRequestError",Object.setPrototypeOf(this,pn.prototype)}}class fn extends Jr{constructor(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((e=>{var[t,r]=e;return'expected property: "'.concat(t,'" of type "').concat(r,'"')})).join("\n");super("\n".concat(e)),this.name="InvalidPaymentRequestUpdateError",Object.setPrototypeOf(this,fn.prototype)}}class gn extends Jr{constructor(e,t){super("The callback provided to the event listener ".concat(e," threw an error with message: ").concat(t)),this.name="InvalidEventListenerCallbackError",Object.setPrototypeOf(this,gn.prototype)}}class mn extends Jr{constructor(e){super("option: '".concat(e,"'")),this.name="InvalidOptionError",Object.setPrototypeOf(this,mn.prototype)}}r(7890),function(e){e.FOCUS_CLASS_ADDED="focusClassAdded",e.FOCUS_CLASS_REMOVED="focusClassRemoved",e.ERROR_CLASS_ADDED="errorClassAdded",e.ERROR_CLASS_REMOVED="errorClassRemoved",e.CARD_BRAND_CHANGED="cardBrandChanged",e.POSTAL_CODE_CHANGED="postalCodeChanged",e.ESCAPE="escape",e.SUBMIT="submit"}(Ur||(Ur={})),function(e){e.CARD_NUMBER="cardNumber",e.CVV="cvv",e.EXPIRATION_DATE="expirationDate",e.POSTAL_CODE="postalCode"}(jr||(jr={})),function(e){e.CARD_INPUT="input",e.CARD_INPUT_FOCUS="input.is-focus",e.CARD_INPUT_PLACEHOLDER="input::placeholder",e.CARD_INPUT_FOCUS_PLACEHOLDER="input.is-focus::placeholder",e.CARD_INPUT_ERROR="input.is-error",e.CARD_INPUT_ERROR_PLACEHOLDER="input.is-error::placeholder",e.CARD_COMPONENT=".input-container",e.CARD_COMPONENT_FOCUS=".input-container.is-focus",e.CARD_COMPONENT_ERROR=".input-container.is-error",e.CARD_INPUT_HELPER_TEXT=".message-text",e.CARD_INPUT_HELPER_ICON=".message-icon",e.CARD_INPUT_ERROR_TEXT=".message-text.is-error",e.CARD_INPUT_ERROR_ICON=".message-icon.is-error"}(Hr||(Hr={})),function(e){e.GIFT_CARD_NUMBER="giftCardNumber"}(Br||(Br={})),function(e){e.FOCUS_CLASS_ADDED="focusClassAdded",e.FOCUS_CLASS_REMOVED="focusClassRemoved",e.ERROR_CLASS_ADDED="errorClassAdded",e.ERROR_CLASS_REMOVED="errorClassRemoved",e.CARD_BRAND_CHANGED="cardBrandChanged",e.ESCAPE="escape",e.SUBMIT="submit"}(Gr||(Gr={})),function(e){e.UNKNOWN="Unknown"}(Fr||(Fr={})),function(e){e.GIFT="Gift"}(qr||(qr={}));class vn extends Jr{constructor(e){super("".concat(e," is not a valid field name. Valid field names are ").concat([...Object.values(jr),...Object.values(Br)].join(", "))),this.name="InvalidFieldNameError",Object.setPrototypeOf(this,vn.prototype)}}class yn extends Jr{constructor(e){super("Configuration property '".concat(e,"' is invalid")),this.name="InvalidConfigurationPropertyError",Object.setPrototypeOf(this,yn.prototype)}}class En extends Jr{constructor(e,t,r){super("Configuration property '".concat(e,"' has an invalid value '").concat(t,"'.").concat(r?" ".concat(r,"."):"")),this.name="InvalidConfigurationValueError",Object.setPrototypeOf(this,En.prototype)}}class _n extends Jr{constructor(e){var t=e.map((e=>{var[t,r]=e;return'expected property: "'.concat(t,'" of type "').concat(r,'"')})).join("\n");super("\n".concat(t)),this.name="InvalidCashAppPayV1OptionsFieldTypes",Object.setPrototypeOf(this,_n.prototype)}}class Sn extends Jr{constructor(e){var t=e.map((e=>{var[t,r]=e;return'accepted property: "'.concat(t,'" values are "').concat(r,'"')})).join("\n");super("\n".concat(t)),this.name="InvalidCashAppPayV1OptionsFieldValues",Object.setPrototypeOf(this,Sn.prototype)}}class In extends Jr{constructor(e){super(e),this.name="CashAppPayInvalidPaymentRequestError",Object.setPrototypeOf(this,In.prototype)}}class An extends Jr{constructor(){super("A redirect url is always required for requests. This must also be a secure link."),this.name="CashAppPayMissingRedirectUrlError",Object.setPrototypeOf(this,An.prototype)}}class On extends Jr{constructor(){super("Non function passed as shouldTokenize checker"),this.name="CashAppPayInvalidShouldTokenizeError",Object.setPrototypeOf(this,On.prototype)}}class Cn extends Jr{constructor(e,t){super("amount '".concat(e,"' in ").concat(t," is not expressed in a valid format")),this.name="InvalidCurrencyFormatError",Object.setPrototypeOf(this,Cn.prototype)}}class Tn extends Jr{constructor(e){super("The ".concat(e," feature is not enabled for this application.")),this.name="FeatureDisabledError",Object.setPrototypeOf(this,Tn.prototype)}}class bn extends Jr{constructor(){super("Web Payments SDK does not support this browser"),this.name="BrowserNotSupportedError",Object.setPrototypeOf(this,bn.prototype)}}class wn extends Jr{constructor(){super("Web Payments SDK can only be embedded on sites that use HTTPS"),this.name="WebSdkEmbedError",Object.setPrototypeOf(this,wn.prototype)}}class Rn extends Jr{constructor(e,t){var r=t||(null==e?void 0:e.field);super("Method unsupported: ".concat(null==e?void 0:e.message).concat(r?" (field=".concat(r,")"):"")),this.name="PaymentMethodUnsupportedError",Object.setPrototypeOf(this,Rn.prototype)}}class Pn extends Jr{constructor(e){super("This instance of ".concat(e," has already been attached to the page.")),this.name="PaymentMethodAlreadyAttachedError",Object.setPrototypeOf(this,Pn.prototype)}}class Nn extends Jr{constructor(e){super("".concat(e," has not been attached to the page. It must be attached before you can call this method.")),this.name="PaymentMethodNotAttachedError",Object.setPrototypeOf(this,Nn.prototype)}}class Dn extends Jr{constructor(e){super("This instance of ".concat(e," has already been destroyed.")),this.name="PaymentMethodAlreadyDestroyedError",Object.setPrototypeOf(this,Dn.prototype)}}class Ln extends Jr{constructor(e,t){var r=e instanceof HTMLElement?e.nodeName:e;super("The value ".concat(r," is not a valid element type or selector. Only valid elements or selectors referring to ").concat([...t].join(", ")," elements are allowed.")),this.name="InvalidElementTypeError",Object.setPrototypeOf(this,Ln.prototype)}}class xn extends Jr{constructor(e,t){super("An element with one of the following conflicting IDs was found on the page: ".concat(t,". You must change those elements' ID before you can use ").concat(e)),this.name="InvalidElementPresentError",Object.setPrototypeOf(this,xn.prototype)}}class kn extends Jr{constructor(e){super(e),this.name="ScriptLoaderError",Object.setPrototypeOf(this,kn.prototype)}}class Mn extends Jr{constructor(e){super("Invalid style property '".concat(e,"'.")),this.name="InvalidInputStylePropertyError",Object.setPrototypeOf(this,Mn.prototype)}}class Un extends Jr{constructor(e,t){super("Invalid style value '".concat(t,"' for property '").concat(e,"'.")),this.name="InvalidInputStyleValueError",Object.setPrototypeOf(this,Un.prototype)}}class jn extends Jr{constructor(e){super("Invalid style selector '".concat(e,"'.")),this.name="InvalidInputStyleSelectorError",Object.setPrototypeOf(this,jn.prototype)}}class Hn extends Jr{constructor(e){super("One or more style selectors and/or CSS properties are invalid",e),this.errors=e,this.name="InvalidStylesError",Object.setPrototypeOf(this,Hn.prototype)}}class Bn extends Jr{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super("Tokenization has failed",e),this.errors=e,this.name="TokenizationError",Object.setPrototypeOf(this,Bn.prototype)}}class Gn extends Jr{constructor(e){var t="An unexpected error occurred";e&&(t+=" while ".concat(e)),super("".concat(t,".")),this.name="UnexpectedError",Object.setPrototypeOf(this,Gn.prototype)}}!function(e){e.ON_TOKENIZATION="ontokenization",e.CLOSE_OAUTH="CLOSE_OAUTH",e.ERROR="ERROR",e.EXIT="EXIT",e.FAIL_OAUTH="FAIL_OAUTH",e.HANDOFF="HANDOFF",e.MATCHED_SELECT_INSTITUTION="MATCHED_SELECT_INSTITUTION",e.MATCHED_SELECT_VERIFY_METHOD="MATCHED_SELECT_VERIFY_METHOD",e.OPEN="OPEN",e.OPEN_MY_PLAID="OPEN_MY_PLAID",e.OPEN_OAUTH="OPEN_OAUTH",e.SEARCH_INSTITUTION="SEARCH_INSTITUTION",e.SELECT_BRAND="SELECT_BRAND",e.SELECT_INSTITUTION="SELECT_INSTITUTION",e.SUBMIT_CREDENTIALS="SUBMIT_CREDENTIALS",e.SUBMIT_MFA="SUBMIT_MFA",e.TRANSITION_VIEW="TRANSITION_VIEW"}(Vr||(Vr={})),function(e){e.BLACK="black",e.GREEN="mint",e.MINT="mint"}(zr||(zr={})),function(e){e.CheckoutWithAfterpay="checkout_with_afterpay",e.BuyNowWithAfterpay="buy_now_with_afterpay",e.PlaceOrderWithAfterpay="place_order_with_afterpay"}(Yr||(Yr={})),function(e){e.REVIEW_MY_ORDER="review_my_order",e.BUY_NOW="buy_now"}($r||($r={})),function(e){e.BLACK_ON_MINT="black-on-mint",e.BLACK_ON_WHITE="black-on-white",e.MINT_ON_BLACK="mint-on-black",e.WHITE_ON_BLACK="white-on-black"}(Kr||(Kr={})),function(e){e.XS="xs",e.SM="sm",e.MD="md",e.LG="lg"}(Wr||(Wr={})),function(e){e.CIRCLED_INFO_ICON="circled-info-icon",e.CIRCLED_QUESTION_ICON="circled-question-icon",e.LEARN_MORE_TEXT="learn-more-text",e.MORE_INFO_TEXT="more-info-text",e.NONE="none"}(Qr||(Qr={})),function(e){e.MINT="mint",e.WHITE="white"}(Xr||(Xr={})),function(e){e.AFTERPAY_SHIPPING_ADDRESS_CHANGED="afterpay_shippingaddresschanged",e.AFTERPAY_SHIPPING_OPTION_CHANGED="afterpay_shippingoptionchanged"}(Zr||(Zr={}));var Fn,qn,Vn,zn,Yn,$n,Kn,Wn,Qn,Xn,Zn,Jn,ei,ti,ri,ni=["borderColor","borderRadius","borderWidth"],ii=["borderColor","borderWidth"],oi=["color"],si=["color"];!function(e){e.UNKNOWN="OTHER_BRAND",e.AMERICAN_EXPRESS="AMERICAN_EXPRESS",e.DINERS_CLUB="DISCOVER_DINERS",e.DISCOVER="DISCOVER",e.JCB="JCB",e.MASTERCARD="MASTERCARD",e.UNION_PAY="CHINA_UNIONPAY",e.VISA="VISA"}(Fn||(Fn={})),function(e){e.UNKNOWN_CARD_TYPE="UNKNOWN_CARD_TYPE",e.CREDIT="CREDIT",e.DEBIT="DEBIT"}(qn||(qn={})),function(e){e.UNKNOWN_PAYMENT_TYPE="UNKNOWN_PREPAID_TYPE",e.NOT_PREPAID="NOT_PREPAID",e.PREPAID="PREPAID"}(Vn||(Vn={})),function(e){e.ROUND="round",e.SEMIROUND="semiround"}(zn||(zn={})),function(e){e.MEDIUM="medium",e.SMALL="small"}(Yn||(Yn={})),function(e){e.DARK="dark",e.LIGHT="light"}($n||($n={})),function(e){e.FULL="full",e.STATIC="static"}(Kn||(Kn={})),function(e){e.ONTOKENIZATION="ontokenization",e.CUSTOMER_INTERACTION="customerInteraction",e.CUSTOMER_DISMISSED="customerDismissed"}(Wn||(Wn={})),function(e){e.DEFAULT="default",e.BLACK="black",e.WHITE="white"}(Qn||(Qn={})),function(e){e.STATIC="static",e.FILL="fill"}(Xn||(Xn={})),function(e){e.LONG="long",e.SHORT="short"}(Zn||(Zn={})),function(e){e.PAYMENT_METHOD_DESTROYED="PAYMENT_METHOD_DESTROYED",e.SHIPPING_ADDRESS_UNSERVICEABLE="SHIPPING_ADDRESS_UNSERVICEABLE",e.SHIPPING_ADDRESS_INVALID="SHIPPING_ADDRESS_INVALID"}(Jn||(Jn={})),function(e){e.APPLE_PAY="Apple Pay",e.AFTERPAY_CLEARPAY="AfterpayClearpay",e.CARD="Card",e.GOOGLE_PAY="Google Pay",e.GIFT_CARD="Gift Card",e.ACH="ACH",e.CASH_APP_PAY="Cash App Pay"}(ei||(ei={})),function(e){e.SHIPPING_CONTACT_CHANGED="shippingcontactchanged",e.SHIPPING_OPTION_CHANGED="shippingoptionchanged"}(ti||(ti={}));class ai{constructor(e,t){this.type=e,this.detail=t,this.type=e,this.detail=t}}function ci(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object.entries(t).map((e=>{var[t,r]=e;return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(r))})).join("&");return encodeURI(e)+(r.length>0?"?".concat(r):"")}!function(e){e.UNKNOWN="Unknown",e.OK="OK",e.ERROR="Error",e.INVALID="Invalid",e.ABORT="Abort",e.CANCEL="Cancel"}(ri||(ri={}));var ui=new RegExp(/^[\w.-]+$/i),li=new RegExp(/sq0at/i);function di(e){return l.env===e}function hi(){return di(s.production)}var pi=gi(60),fi=mi(60);function gi(e){return 1e3*e}function mi(e){return e*pi}var vi=function(e){return e*fi},yi=/^_/g,Ei=/(?!^)([A-Z])/g,_i=/[\s_]+(?=[A-Za-z])/g;function Si(e){return"JPY"===e.toUpperCase()?0:2}var Ii,Ai,Oi,Ci,Ti,bi={convertLocaleToUnderscore:function(e){return e.replace(/-/,"_")},cssProperty:function(e){return e.replace(yi,"-").replace(Ei," $1").replace(_i,"-").toLowerCase()},delay:function(e){return new Promise((t=>setTimeout(t,e)))},decimalPlaces:Si,formatCSSKeyValuePair:function(e,t){return"".concat(e,": ").concat(t,";")},enumValues:function(e){return Object.keys(e).map((t=>e[t])).filter((function(e){return"string"==typeof e}))},isInstanceOf:function(e,t){return t.some((function(t){return e instanceof t}))},isStaging:function(){return di(s.staging)},isProduction:hi,isValidUrl:function(e){try{return new URL(e),!0}catch(e){return!1}},requestId:function(){return Date.now()+Number.parseFloat(Math.random().toFixed(8))},url:ci,versionedUrl:function(e){return ci(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})},paymentRequestAmountToMoneyAmount:function(e,t){var r=Si(t),n="^(-?[0-9]+)";r>0&&(n="".concat(n,"(?:\\.([0-9]{1,").concat(r,"})[0-9]*)?")),n="".concat(n,"$");var i=e.match(n);if(!i)throw new Cn(e,t);var o=i[1];if(r>0){var s=i[2]||"";o=o+s+"0".repeat(r-s.length)}return Number(o)},moneyAmountToPaymentRequestAmount:function(e,t){var r=Si(t);return(e/Math.pow(10,r)).toFixed(r)},moneyAmountToInternationalizedCurrency:function(e,t,r){var n=Si(t),i=e/Math.pow(10,n);return new Intl.NumberFormat(r,{currency:t,style:"currency"}).format(i)}};!function(e){e.AnalyticsBackend="analytics_backend",e.CanUseOverrideStrings="can_use_override_strings",e.CanUseInterac="can_use_interac",e.CanUseAchAuth="can_use_ach_auth",e.ClientLogLevel="client_log_level",e.RecordErrorMetrics="record_error_metrics"}(Ii||(Ii={})),function(e){e.Control="C",e.TreatmentA="T1"}(Ai||(Ai={})),function(e){e.NoSupport="NO_SUPPORT",e.Supported="SUPPORTED",e.Required="REQUIRED",e.Legacy="LEGACY"}(Oi||(Oi={})),function(e){e.Inline="INLINE",e.ScriptLoadBackend="SCRIPT_LOAD_BACKEND"}(Ci||(Ci={})),function(e){e.None="NONE",e.Debug="DEBUG"}(Ti||(Ti={}));var wi,Ri,Pi=l.SENTRY_DSN;class Ni{constructor(e){var t;t=e.useGlobalHandlers?new jt.GlobalHandlers:new jt.GlobalHandlers({onerror:!1,onunhandledrejection:!1});var r=[new ee,new z,new jt.TryCatch,new jt.Breadcrumbs,t,new jt.LinkedErrors,new jt.HttpContext],n={beforeSend:(t,r)=>{var n;if(!e.enableErrorLogging)return console.error(t.exception),null!==(n=t.exception)&&void 0!==n&&n.values&&t.exception.values.forEach((e=>{console.error(e)})),null;if(!r)return t;var i=r.originalException;if(void 0!==this.featureFlagHandler&&this.featureFlagHandler.isActive(Ii.RecordErrorMetrics)){var o=null==i?void 0:i.toString();i instanceof Error&&(o=i.stack);var s="applicationID: ".concat(e.applicationId,", url: ").concat(e.applicationUrl,", source: ").concat(e.sourceName,", error: ").concat(o);kr(l.METRICS_ERROR_URL,{body:{sdk_version:l.VERSION,error_message:s||""}}).catch((()=>{}))}return t},dsn:Pi,environment:e.environment,integrations:r,release:"web-payments-sdk@".concat(l.VERSION),stackParser:Yt,transport:e.transport||hr},i=new Or(n);this.hub=new me(i),this.hub.configureScope((t=>{t.setTag("applicationId",e.applicationId),t.setTag("applicationUrl",e.applicationUrl),t.setTag("source",e.sourceName),t.setTag("version",e.version)})),e.useGlobalHandlers&&ye(this.hub)}setFeatureFlagHandler(e){this.featureFlagHandler=e}setAvt(e){this.hub.setUser({id:e}),this.hub.configureScope((t=>{t.setTag("avt",e)}))}setSessionId(e){this.hub.configureScope((t=>{t.setTag("sessionId",e)}))}setInstanceId(e){this.hub.configureScope((t=>{t.setTag("instanceId",e)}))}captureException(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};bi.isInstanceOf(e,[Pr,wr])||(e instanceof Rr&&this.hub.addBreadcrumb({category:"invalid json error message",message:e.originalErrorMessage,level:"info"}),this.hub.withScope((r=>{Object.entries(t).forEach((e=>{var[t,n]=e;r.setTag(t,n)})),this.hub.captureException(e)})))}}!function(e){e.INVALID_APPLICATION_ID="INVALID_APPLICATION_ID",e.INVALID_CARD_NUMBER="INVALID_CARD_NUMBER",e.INVALID_CVV="INVALID_CVV",e.INVALID_EXPIRATION_DATE="INVALID_EXPIRATION_DATE",e.INVALID_POSTAL_CODE="INVALID_POSTAL_CODE",e.INVALID_SANDBOX_CARD_NUMBER="INVALID_SANDBOX_CARD_NUMBER",e.INVALID_STAGING_CARD_NUMBER="INVALID_STAGING_CARD_NUMBER",e.MISSING_APPLICATION_ID="MISSING_APPLICATION_ID",e.MISSING_CARD_DATA="MISSING_CARD_DATA",e.UNKNOWN="UNKNOWN",e.UNSUPPORTED_CARD_BRAND="UNSUPPORTED_CARD_BRAND"}(wi||(wi={})),function(e){e.UNKNOWN="UNKNOWN"}(Ri||(Ri={}));var Di,Li={[Ri.UNKNOWN]:{message:"An unknown error has occurred",type:"UNKNOWN"}};!function(e){e.EXPIRED_PLAID_SESSION="EXPIRED_PLAID_SESSION",e.INVALID_SELECTED_PLAID_BANK_ACCOUNT_ID="INVALID_SELECTED_PLAID_BANK_ACCOUNT_ID",e.UNKNOWN="UNKNOWN"}(Di||(Di={}));var xi,ki,Mi={EXPIRED_PLAID_SESSION:{message:"The plaid session was expired. Please try again.",type:"EXPIRED_PLAID_SESSION"},INVALID_SELECTED_PLAID_BANK_ACCOUNT_ID:{message:"Invalid plaid bank account id selected",type:"INVALID_SELECTED_PLAID_BANK_ACCOUNT_ID"},UNKNOWN:{message:"An unknown error has occurred",type:"UNKNOWN"}},Ui={INVALID_APPLICATION_ID:{message:"Invalid applicationId",type:"INVALID_APPLICATION_ID"},INVALID_CARD_NUMBER:{field:"cardNumber",message:"Credit card number is not valid",type:"VALIDATION_ERROR"},INVALID_CVV:{field:"cvv",message:"CVV is not valid",type:"VALIDATION_ERROR"},INVALID_EXPIRATION_DATE:{field:"expirationDate",message:"Expiration date is not valid",type:"VALIDATION_ERROR"},INVALID_POSTAL_CODE:{field:"postalCode",message:"Postal code is not valid",type:"VALIDATION_ERROR"},INVALID_SANDBOX_CARD_NUMBER:{field:"cardNumber",message:"Credit card number is not valid for sandbox use. Please use one of the test numbers documented at https://developer.squareup.com/docs/testing/test-values.",type:"VALIDATION_ERROR"},INVALID_STAGING_CARD_NUMBER:{field:"cardNumber",message:"Card number is not allowed in Staging. See: https://go/panfake-ui",type:"VALIDATION_ERROR"},MISSING_APPLICATION_ID:{message:"Missing applicationId",type:"MISSING_APPLICATION_ID"},MISSING_CARD_DATA:{message:"Missing card data",type:"MISSING_CARD_DATA"},UNKNOWN:{message:"An unknown error has occurred",type:"UNKNOWN"},UNSUPPORTED_CARD_BRAND:{field:"cardNumber",message:"Card not supported",type:"UNSUPPORTED_CARD_BRAND"}};!function(e){e.INVALID_VALUE="INVALID_VALUE",e.MISSING_LOCATION_ID_OR_NAME="MISSING_LOCATION_ID_OR_NAME",e.NOT_FOUND="NOT_FOUND",e.UNKNOWN="UNKNOWN"}(xi||(xi={}));class ji extends Jr{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super("Internal Validation Error",e),this.errors=e,this.name="InternalValidationError",Object.setPrototypeOf(this,ji.prototype)}}function Hi(){return new Bn([Ui.UNKNOWN])}!function(e){e.INTERNAL_SERVER_ERROR="INTERNAL_SERVER_ERROR",e.NOT_FOUND="NOT_FOUND",e.SERVICE_UNAVAILABLE="SERVICE_UNAVAILABLE",e.TOO_MANY_REQUESTS="TOO_MANY_REQUESTS",e.UNAUTHORIZED="UNAUTHORIZED",e.UNKNOWN="UNKNOWN"}(ki||(ki={}));var Bi={message:"An internal error has occurred. Unable to complete the request.",type:"INTERNAL_SERVER_ERROR"},Gi={message:"The requested resource was not found.",type:"NOT_FOUND"},Fi={message:"The endpoint is currently unavailable.",type:"SERVICE_UNAVAILABLE"},qi={message:"Too many requests in progress.",type:"TOO_MANY_REQUESTS"},Vi={message:"Request not authorized.",type:"UNAUTHORIZED"},zi={message:"An unknown error has occurred",type:"UNKNOWN"};class Yi extends Jr{constructor(e){super(e),this.name="InternalError",Object.setPrototypeOf(this,Yi.prototype)}}class $i extends Jr{constructor(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=function(e){switch(e){case Nr.UNAUTHORIZED:return Vi;case Nr.NOT_FOUND:return Gi;case Nr.TOO_MANY_REQUESTS:return qi;case Nr.INTERNAL_SERVER_ERROR:return Bi;case Nr.SERVICE_UNAVAILABLE:return Fi;default:return zi}}(t);super("".concat(i.message," (message=").concat(r,"; url=").concat(e,")"),n),this.name="InternalHttpError",Object.setPrototypeOf(this,$i.prototype)}}class Ki extends Jr{constructor(e,t){super("".concat(e," (payment_method=").concat(t,")")),this.name="InternalPaymentMethodError",Object.setPrototypeOf(this,Ki.prototype)}}class Wi extends Jr{constructor(e,t,r){super("Request timeout exceeded (attempts=".concat(e,"; duration=").concat(t,"ms; url=").concat(r,")")),this.name="InternalTimeoutError",Object.setPrototypeOf(this,Wi.prototype)}}function Qi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qi(Object(r),!0).forEach((function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Zi={HttpRequestTimeoutError:wr,HttpRequestInvalidJsonError:Rr,HttpRequestNetworkError:Pr,InternalError:Yi,InternalHttpError:$i,InternalPaymentMethodError:Ki,InternalTimeoutError:Wi,InternalValidationError:ji};function Ji(e){return Object.values(Zi).some((t=>e instanceof t))}var eo,to,ro,no,io,oo,so,ao,co,uo={AfterpayAmountOutsideLimitsError:an,AfterpayMerchantError:un,AfterpayRequestError:sn,AfterpayUnsupportedCurrencyError:cn,BrowserNotSupportedError:bn,ElementNotFoundError:hn,InvalidCurrencyFormatError:Cn,InvalidElementTypeError:Ln,InvalidEventListenerCallbackError:gn,InvalidOptionError:mn,InvalidPaymentRequestError:pn,InvalidPaymentRequestUpdateError:fn,PaymentMethodUnsupportedError:Rn,PlaidMissingNameError:rn,ScriptLoaderError:kn,TokenizationError:Bn,UnexpectedError:Gn,VerifyBuyerError:dn,WebSdkEmbedError:wn},lo=Xi(Xi(Xi({},uo),Zi),{},{AfterpayInvalidPaymentRequestError:ln,AfterpayOnTokenizeListenerError:nn,InvalidApplicationIdError:en,InvalidInputStylePropertyError:Mn,InvalidInputStyleValueError:Un,InvalidStylesError:Hn,PaymentMethodAlreadyAttachedError:Pn,PaymentMethodAlreadyDestroyedError:Dn,PaymentMethodMissingListener:on,PaymentMethodNotAttachedError:Nn,SqError:Jr}),ho=/[$()*+.?[\\\]^{|}]/g,po=new RegExp(ho.source),fo=function(e){return e&&po.test(e)?e.replace(ho,"\\$&"):e||""};!function(e){e.AttachStart="ATTACH:START",e.AttachOK="ATTACH:OK",e.AttachError="ATTACH:ERROR",e.BuildStart="BUILD:START",e.BuildOK="BUILD:OK",e.BuildError="BUILD:ERROR",e.ACHAuthStart="ACH_AUTH:START",e.ACHAuthOk="ACH_AUTH:OK",e.ACHAuthError="ACH_AUTH:ERROR",e.ACHAuthCanceled="ACH_AUTH:CANCEL",e.CashAppPayClickValidating="CASH_APP_PAY_CLICK:VALIDATING",e.CashAppPayClickInvalid="CASH_APP_PAY_CLICK:INVALID",e.CashAppPayClickError="CASH_APP_PAY_CLICK:ERROR",e.CashAppPayAuthStart="CASH_APP_PAY_AUTH:START",e.FirstInteraction="FIRST_INTERACTION:OK",e.GetProductInformationStart="GET_PRODUCT_INFORMATION:START",e.GetProductInformationOK="GET_PRODUCT_INFORMATION:OK",e.GetProductInformationError="GET_PRODUCT_INFORMATION:ERROR",e.InitializeStart="INITIALIZATION:START",e.InitializeOK="INITIALIZATION:OK",e.InitializeError="INITIALIZATION:ERROR",e.LoadOK="LOAD:OK",e.MainIframeOK="MAIN_IFRAME:OK",e.NonceStart="NONCE:START",e.NonceOK="NONCE:OK",e.NonceError="NONCE:ERROR",e.VerificationStart="VERIFICATION:START",e.VerificationOK="VERIFICATION:OK",e.VerificationError="VERIFICATION:ERROR",e.AchMissingRequiredOAuthParameters="ACH_MISSING_REQUIRED_OAUTH_PARAMETERS"}(eo||(eo={})),function(e){e.ExternalSessionStart="EXTERNAL_SESSION:START",e.ExternalSessionOK="EXTERNAL_SESSION:OK",e.ExternalSessionError="EXTERNAL_SESSION:ERROR",e.ExternalSessionCancel="EXTERNAL_SESSION:CANCEL",e.ShippingAddressChangeOK="SHIPPING_ADDRESS_CHANGE:OK",e.ShippingOptionChangeOK="SHIPPING_OPTION_CHANGE:OK",e.AfterpayCreateCheckoutStart="AFTERPAY_CREATE_CHECKOUT:START",e.AfterpayCreateCheckoutOK="AFTERPAY_CREATE_CHECKOUT:OK",e.AfterpayCreateCheckoutError="AFTERPAY_CREATE_CHECKOUT:ERROR"}(to||(to={})),function(e){e.Clear="CLEAR",e.ConfigUpdated="CONFIG_UPDATED",e.Configured="CONFIGURED",e.Destroyed="DESTROYED",e.Detached="DETACHED",e.EventListenerAdded="EVENT_LISTENER_ADDED",e.EventListenerOnCompleteResponse="EVENT_LISTENER_ON_COMPLETE_RESPONSE",e.Focused="FOCUSED",e.OverrideStrings="OVERRIDE_STRINGS",e.RecalculatedSize="RECALCULATED_SIZE",e.SetLocale="SET_LOCALE",e.SetError="SET_ERROR"}(ro||(ro={})),function(e){e.IframeMessengerTimeoutError="IFRAME_MESSENGER_TIMEOUT_ERROR",e.InvalidRedirectURI="INVALID_REDIRECT_URI"}(no||(no={})),function(e){e.ExperimentInteraction="EXPERIMENT_INTERACTION"}(io||(io={})),function(e){e.GET_PRODUCT_INFORMATION="GET_PRODUCT_INFORMATION",e.LOAD="LOAD",e.MAIN_IFRAME="MAIN_IFRAME",e.NONCE="NONCE"}(oo||(oo={})),function(e){e.ATTACH="ATTACH",e.BUILD="BUILD",e.INITIALIZATION="INITIALIZATION"}(so||(so={})),function(e){e.START="START",e.OK="OK",e.ERROR="ERROR"}(ao||(ao={})),function(e){e.Ach="ACH",e.Afterpay="Afterpay",e.App="WebSDK",e.ApplePay="Apple Pay",e.Card="Card",e.CashApp="Cash App",e.CashAppPayV1="Cash App Pay V1",e.GooglePay="Google Pay",e.Masterpass="Masterpass",e.GiftCard="Gift Card",e.Fields="Fields",e.PaymentRequest="Payment Request"}(co||(co={}));var go,mo={CARD_NONCE_ENDPOINT:new RegExp(fo(l.CARD_NONCE_ENDPOINT)),GET_PRODUCT_INFORMATION_ENDPOINT:new RegExp(fo(l.GET_PRODUCT_INFORMATION_ENDPOINT)),LIBRARY_RESOURCE:new RegExp("".concat(fo(l.ASSET_BASE_URL),"/([\\w\\d.-]*/)?square\\.js")),MAIN_IFRAME_RESOURCE:new RegExp("".concat(fo(l.ASSET_URL),"/main-iframe"))};!function(e){e.navigation="navigation",e.fetch="fetch",e.iframe="iframe",e.script="script"}(go||(go={}));var vo=new Set(Object.values(ro)),yo=new Set([eo.InitializeOK,io.ExperimentInteraction,no.IframeMessengerTimeoutError]);r(4908);var Eo,_o,So,Io,Ao={hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",port:"",protocol:"",search:"",toString:()=>""};function Oo(){if(a.windowLocation===a.windowParentLocation)return a.windowLocation;var e=a.documentReferrer;return e&&0!==e.length?(Eo||(Eo=document.createElement("a")),Eo.href="".concat(e),{hash:Eo.hash,host:Eo.host,hostname:Eo.hostname,href:Eo.href,origin:Eo.origin,pathname:Eo.pathname,port:Eo.port,protocol:Eo.protocol,search:Eo.search,toString(){return this.href}}):Ao}function Co(e,t){var r={};return Object.keys(e).forEach((n=>{"object"==typeof e[n]&&!Array.isArray(e[n])&&t[n]?r[n]=Co(e[n],t[n]):r[n]=t[n]||e[n]})),r}!function(e){e.CA="CA",e.GB="GB",e.US="US"}(_o||(_o={})),function(e){e.en="en",e.ja="ja",e.fr="fr",e.es="es"}(So||(So={})),function(e){e.enUS="en-US",e.enIE="en-IE",e.enCA="en-CA",e.enGB="en-GB",e.enAU="en-AU",e.jaJP="ja-JP",e.frFR="fr-FR",e.frCA="fr-CA",e.esES="es-ES"}(Io||(Io={}));var To={"en-AU":{paymentMethods:{cards:{errors:{cardNumberError:"Enter a valid card number.",cvvError:"Enter a valid security code.",expirationDateError:"Enter a valid expiration date.",multipleErrors:"Fix the highlighted errors.",postalCodeErrors:{CA:"Enter a valid postal code.",GB:"Enter a valid postcode.",US:"Enter a valid ZIP code."}},helperText:{cardNumber:"Enter your card number",cvv:"Enter the security code",expirationDate:"Enter the expiration date",postalCodes:{CA:"Enter the postal code",GB:"Enter the postcode",US:"Enter the ZIP code"}},placeholderText:{cardNumber:"Card number",cvv:"CVV",expirationDate:"MM/YY",postalCodes:{CA:"Postal Code",GB:"Postcode",US:"ZIP"}}},giftCards:{errors:{giftCardNumberError:"Enter a valid gift card number."},helperText:{giftCardNumber:"Enter your gift card number"},placeholderText:{giftCardNumber:"Gift card"}},afterpay:{checkoutWidget:{today:"Today",weeks:"weeks",title:"Your 4 interest-free payments"}},wallets:{callbackErrors:{contactError:"There was an error processing your selected shipping contact. Please try again.",optionsError:"There was an error processing your selected shipping option. Please try again."}}}},"en-CA":{paymentMethods:{cards:{errors:{cardNumberError:"Enter a valid card number.",cvvError:"Enter a valid security code.",expirationDateError:"Enter a valid expiration date.",multipleErrors:"Fix the highlighted errors.",postalCodeErrors:{CA:"Enter a valid postal code.",GB:"Enter a valid postcode.",US:"Enter a valid zip code."}},helperText:{cardNumber:"Enter your card number",cvv:"Enter the security code",expirationDate:"Enter the expiration date",postalCodes:{CA:"Enter the postal code",GB:"Enter the postcode",US:"Enter the ZIP code"}},placeholderText:{cardNumber:"Card number",cvv:"CVV",expirationDate:"MM/YY",postalCodes:{CA:"Postal Code",GB:"Postcode",US:"ZIP"}}},giftCards:{errors:{giftCardNumberError:"Enter a valid gift card number."},helperText:{giftCardNumber:"Enter your gift card number"},placeholderText:{giftCardNumber:"Gift card"}},afterpay:{checkoutWidget:{today:"Today",weeks:"weeks",title:"Your 4 interest-free payments"}},wallets:{callbackErrors:{contactError:"There was an error processing your selected shipping contact. Please try again.",optionsError:"There was an error processing your selected shipping option. Please try again."}}}},"en-GB":{paymentMethods:{cards:{errors:{cardNumberError:"Enter a valid card number.",cvvError:"Enter a valid security code.",expirationDateError:"Enter a valid expiration date.",multipleErrors:"Fix the highlighted errors.",postalCodeErrors:{CA:"Enter a valid postal code.",GB:"Enter a valid postcode.",US:"Enter a valid ZIP code."}},helperText:{cardNumber:"Enter your card number",cvv:"Enter the security code",expirationDate:"Enter the expiration date",postalCodes:{CA:"Enter the postal code",GB:"Enter the postcode",US:"Enter the zip code"}},placeholderText:{cardNumber:"Card number",cvv:"CVV",expirationDate:"MM/YY",postalCodes:{CA:"Postal Code",GB:"Postcode",US:"ZIP"}}},giftCards:{errors:{giftCardNumberError:"Enter a valid gift card number."},helperText:{giftCardNumber:"Enter your gift card number"},placeholderText:{giftCardNumber:"Gift card"}},afterpay:{checkoutWidget:{today:"Today",weeks:"weeks",title:"Your 4 interest-free payments"}},wallets:{callbackErrors:{contactError:"There was an error processing your selected delivery contact. Please try again.",optionsError:"There was an error processing your selected delivery option. Please try again."}}}},"en-IE":{paymentMethods:{cards:{errors:{cardNumberError:"Enter a valid card number.",cvvError:"Enter a valid security code.",expirationDateError:"Enter a valid expiry date.",multipleErrors:"Fix the highlighted errors.",postalCodeErrors:{CA:"Enter a valid postal code.",GB:"Enter a valid postcode.",US:"Enter a valid zip code."}},helperText:{cardNumber:"Enter your card number",cvv:"Enter the security code",expirationDate:"Enter the expiry date",postalCodes:{CA:"Enter the postal code",GB:"Enter the postcode",US:"Enter the ZIP code"}},placeholderText:{cardNumber:"Card number",cvv:"CVV",expirationDate:"MM/YY",postalCodes:{CA:"Postal Code",GB:"Postcode",US:"ZIP"}}},giftCards:{errors:{giftCardNumberError:"Enter a valid gift card number."},helperText:{giftCardNumber:"Enter your gift card number"},placeholderText:{giftCardNumber:"Gift card"}},afterpay:{checkoutWidget:{today:"Today",weeks:"weeks",title:"Your 4 interest-free payments"}},wallets:{callbackErrors:{contactError:"There was an error processing your selected delivery contact. Please try again.",optionsError:"There was an error processing your selected delivery option. Please try again."}}}},"en-US":{paymentMethods:{cards:{errors:{cardNumberError:"Enter a valid card number.",cvvError:"Enter a valid security code.",expirationDateError:"Enter a valid expiration date.",multipleErrors:"Fix the highlighted errors.",postalCodeErrors:{CA:"Enter a valid postal code.",GB:"Enter a valid postcode.",US:"Enter a valid zip code."}},helperText:{cardNumber:"Enter your card number",cvv:"Enter the security code",expirationDate:"Enter the expiration date",postalCodes:{CA:"Enter the postal code",GB:"Enter the postcode",US:"Enter the zip code"}},placeholderText:{cardNumber:"Card number",cvv:"CVV",expirationDate:"MM/YY",postalCodes:{CA:"Postal Code",GB:"Postcode",US:"ZIP"}}},giftCards:{errors:{giftCardNumberError:"Enter a valid gift card number."},helperText:{giftCardNumber:"Enter your gift card number"},placeholderText:{giftCardNumber:"Gift card"}},afterpay:{checkoutWidget:{today:"Today",weeks:"weeks",title:"Your 4 interest-free payments"}},wallets:{callbackErrors:{contactError:"There was an error processing your selected shipping contact. Please try again.",optionsError:"There was an error processing your selected shipping option. Please try again."}}}},"es-ES":{paymentMethods:{afterpay:{checkoutWidget:{title:"Tus 4 pagos sin intereses",today:"Hoy",weeks:"semanas"}},cards:{errors:{cardNumberError:"Introduce un número de tarjeta válido.",cvvError:"Introduce un código de seguridad válido.",expirationDateError:"Introduce una fecha de caducidad válida.",multipleErrors:"Corrige los errores resaltados.",postalCodeErrors:{CA:"Introduce un código postal válido.",GB:"Introduce un código postal válido.",US:"Introduce un código postal válido."}},helperText:{cardNumber:"Introduce tu número de tarjeta",cvv:"Introduce el código de seguridad",expirationDate:"Introduce la fecha de caducidad",postalCodes:{CA:"Introduce el código postal",GB:"Introduce el código postal",US:"Introduce el código postal"}},placeholderText:{cardNumber:"Número de tarjeta",cvv:"Código CVV",expirationDate:"MM/AA",postalCodes:{CA:"Código postal",GB:"Código postal",US:"C.P."}}},giftCards:{errors:{giftCardNumberError:"Introduce un número de tarjeta regalo válido."},helperText:{giftCardNumber:"Introduce el número de tu tarjeta regalo"},placeholderText:{giftCardNumber:"Tarjeta regalo"}},wallets:{callbackErrors:{contactError:"Se ha producido un error al procesar el contacto de envío que has seleccionado. Inténtalo de nuevo.",optionsError:"Se ha producido un error al procesar la opción de envío que has seleccionado. Inténtalo de nuevo."}}}},"fr-CA":{paymentMethods:{cards:{errors:{cardNumberError:"Saisissez un numéro de carte valide.",cvvError:"Veuillez saisir un code de sécurité valide.",expirationDateError:"Veuillez saisir une date d’expiration valide.",multipleErrors:"Corrigez les erreurs mises en évidence.",postalCodeErrors:{CA:"Saisissez un code postal valide.",GB:"Saisissez un code postal valide.",US:"Saisissez un code postal valide."}},helperText:{cardNumber:"Saisir votre numéro de carte",cvv:"Saisir le code de sécurité",expirationDate:"Saisir la date d’expiration",postalCodes:{CA:"Saisir le code postal",GB:"Saisir le code postal",US:"Saisir le code postal"}},placeholderText:{cardNumber:"Numéro de la carte",cvv:"CVV",expirationDate:"MM/AA",postalCodes:{CA:"Code postal",GB:"Code postal",US:"Code postal"}}},giftCards:{errors:{giftCardNumberError:"Saisissez un numéro de carte-cadeau valide."},helperText:{giftCardNumber:"Saisir le numéro de votre carte cadeau"},placeholderText:{giftCardNumber:"Carte-cadeau"}},afterpay:{checkoutWidget:{title:"Vos quatre paiements sans intérêts",today:"Aujourd’hui",weeks:"semaines"}},wallets:{callbackErrors:{contactError:"Une erreur s‘est produite lors du traitement du contact de livraison sélectionné. Veuillez réessayer.",optionsError:"Une erreur s‘est produite lors du traitement de l‘option d‘expédition sélectionnée. Veuillez réessayer."}}}},"fr-FR":{paymentMethods:{afterpay:{checkoutWidget:{title:"Vos quatre paiements sans intérêts",today:"Aujourd’hui",weeks:"semaines"}},cards:{errors:{cardNumberError:"Saisissez un numéro de carte valide",cvvError:"Veuillez saisir un code de sécurité valide.",expirationDateError:"Saisir une date d’expiration valide",multipleErrors:"Corrigez les erreurs mises en évidence.",postalCodeErrors:{CA:"Saisissez un code postal valide",GB:"Saisissez un code postal valide",US:"Saisissez un code ZIP valide"}},helperText:{cardNumber:"Saisir votre numéro de carte",cvv:"Saisir le code de sécurité",expirationDate:"Saisir la date d’expiration",postalCodes:{CA:"Saisir un code postal",GB:"Saisir un code postal",US:"Saisir un code ZIP"}},placeholderText:{cardNumber:"Numéro de carte",expirationDate:"MM/AA",cvv:"CVV",postalCodes:{CA:"Code postal",GB:"Code postal",US:"Code ZIP"}}},giftCards:{errors:{giftCardNumberError:"Saisir un numéro de carte cadeau valide"},helperText:{giftCardNumber:"Saisir le numéro de votre carte cadeau"},placeholderText:{giftCardNumber:"Carte cadeau"}},wallets:{callbackErrors:{contactError:"Une erreur s‘est produite lors du traitement du contact de livraison sélectionné. Veuillez réessayer.",optionsError:"Une erreur s‘est produite lors du traitement de l‘option d‘expédition sélectionnée. Veuillez réessayer."}}}},"ja-JP":{paymentMethods:{afterpay:{checkoutWidget:{title:"無利息の4回払い",today:"今日",weeks:"週間"}},cards:{errors:{cardNumberError:"正しいカード番号を入力してください。",cvvError:"有効なセキュリティコードを入力してください。",expirationDateError:"正しい有効期限を入力してください。",multipleErrors:"強調表示されたエラーを修正してください。",postalCodeErrors:{CA:"正しい郵便番号を入力してください。",GB:"有効な郵便番号を入力してください。",US:"正しいZIPコードを入力してください。"}},helperText:{cardNumber:"カード番号を入力してください",cvv:"セキュリティコードを入力してください",expirationDate:"有効期限を入力してください",postalCodes:{CA:"郵便番号を入力してください",GB:"郵便番号を入力してください",US:"ZIPコードを入力してください"}},placeholderText:{cardNumber:"カード番号",cvv:"CVV",expirationDate:"MM/YY",postalCodes:{CA:"郵便番号",GB:"郵便番号",US:"ZIP"}}},giftCards:{errors:{giftCardNumberError:"有効なギフトカード番号を入力してください。"},helperText:{giftCardNumber:"ギフトカード番号を入力してください"},placeholderText:{giftCardNumber:"ギフトカード"}},wallets:{callbackErrors:{contactError:"選択された配送住所を処理する際にエラーが発生しました。もう一度やり直してください。",optionsError:"選択された配送方法を処理する際にエラーが発生しました。もう一度やり直してください。"}}}}},bo={en:Io.enUS,es:Io.esES,fr:Io.frFR,ja:Io.jaJP},wo=bo[So.en];class Ro{constructor(e){this.currentLocale=wo,this.currentTranslations=To[this.currentLocale],this.setLocale(e)}setTranslationOverrides(e){this.translationOverrides=e}setLocale(e){var t=this.getLanguageFromLocale(e),r=this.getRegionFromLocale(e),n=this.currentLocale;if(To[e])this.currentLocale=e;else{if(!So[t])return{message:"Locale ".concat(e," is not supported. Language ").concat(t," and region ").concat(r," are both unsupported."),newLocale:this.currentLocale,previousLocale:n};this.currentLocale=bo[t]}this.currentTranslations=To[this.currentLocale];var i=this.getRegionFromLocale(this.currentLocale);return r&&i&&r.toLowerCase()!==i.toLowerCase()?{message:"Locale ".concat(e," is not supported. Language ").concat(t," is supported, but region ").concat(r," is not. Falling back to ").concat(this.currentLocale,"."),newLocale:this.currentLocale,previousLocale:n}:{newLocale:this.currentLocale,previousLocale:n}}getCurrentLocale(){return this.currentLocale}getLocaleString(){return this.translationOverrides?Co(this.currentTranslations,this.translationOverrides):this.currentTranslations}getLanguageFromLocale(e){return e.split("-")[0]}getRegionFromLocale(e){return e.split("-")[1]}}var Po="INVALID_VALUE",No="SANITIZED",Do=new Set(["countryCode","currencyCode","requestBillingContact","requestShippingContact","lineItems","total","shippingOptions","shippingContact"]),Lo=new Set(["error","shippingErrors","lineItems","total","shippingOptions","taxLineItems","shippingLineItems","discounts"]),xo=new Set([...Lo.values(),"eventName"]),ko=new Set(["includeInputLabels","postalCode","style"]),Mo=new Set(["includeInputLabels","style"]),Uo=new Set(["lineItems","total","shippingOptions","shippingContact"]),jo=new Set(["buttonColor","buttonSizeMode","buttonType"]),Ho=new Set(["shape","size","values","theme","width"]),Bo=es(Vr),Go=es(Ur),Fo=es(Gr),qo=es(ti),Vo=es(jr),zo=es(Br),Yo=es(Io),$o=es(Qn),Ko=es(Xn),Wo=es(Zn),Qo=es(Yn),Xo=es(zn),Zo=es($n),Jo=es(Kn);function es(e){return new Set(Object.values(e))}function ts(e){return JSON.stringify({value:e})}function rs(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i={};return Object.entries(e).forEach((e=>{var[o,s]=e;if(t.has(o)){var a=s;r.has(o)?a=No:n[o]&&(a=n[o].has(s)?s:Po),i[o]=a}})),JSON.stringify(i)}function ns(e){return rs(e,Ho,void 0,{shape:Xo,size:Qo,values:Zo,theme:Zo,width:Jo})}var is=function(e,t,r){switch(e){case ro.Configured:case ro.ConfigUpdated:return function(e,t){switch(e){case co.Card:case co.GiftCard:return function(e,t){return rs(t,e===co.Card?ko:Mo)}(e,t);case co.GooglePay:return function(e){return rs(e,jo,void 0,{buttonColor:$o,buttonSizeMode:Ko,buttonType:Wo})}(t);case co.PaymentRequest:return function(e){return rs(e,Do,Uo)}(t);case co.CashAppPayV1:return ns(t)}return Po}(t,r);case ro.Focused:return ts(function(e,t){if("string"!=typeof t)return Po;switch(e){case co.Card:if(Vo.has(t))return t;break;case co.GiftCard:if(zo.has(t))return t}return Po}(t,r));case ro.SetLocale:return ts(function(e){return"string"!=typeof e?Po:Yo.has(e)?e:Po}(r));case ro.EventListenerAdded:return ts(function(e,t){if("string"!=typeof t)return Po;switch(e){case co.Ach:if(Bo.has(t))return t;break;case co.Card:if(Go.has(t))return t;break;case co.GiftCard:if(Fo.has(t))return t;break;case co.PaymentRequest:if(qo.has(t))return t}return Po}(t,r));case ro.EventListenerOnCompleteResponse:return function(e,t){return e===co.PaymentRequest?function(e){return rs(e,xo,Lo,{eventName:qo})}(t):Po}(t,r);default:return""}};function os(e,t){return null!==e.document.body&&void 0!==e.document.body&&null!==e.document.createNodeIterator(e.document.body,NodeFilter.SHOW_ELEMENT,{acceptNode:t}).nextNode()}function ss(e,t){return Boolean(e.querySelector(t))}function as(e,t){return void 0!==e[t]}r(1804);var cs=function(e){var t,r=as(e,"angular"),n=ss(e.document,"[ng-version]")||as(e,"getAllAngularRootElements")||as(e,"getAngularVersion"),i=as(e,"bootstrap"),o=as(e,"Ember"),s=as(e,"jQuery"),a=ss(e.document,'form[action*="paypal.com"]'),c=function(e){return os(e,(function(e){return e.__k||e._component||e.__c?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}))}(e),u=function(e){var t=ss(e.document,"*[data-reactroot]");if(t)return t;return os(e,(function(e){return e._reactRootContainer?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}))}(e),l=function(e){var t=as(e,"__NUXT__")||as(e,"$nuxt"),r=as(e,"__VUE__");if(r||t)return r||t;return os(e,(function(e){return e.__vue__?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}))}(e),d={angular:n,angularJS:r,bootstrap:i,ember:o,jquery:s,nextJS:as(e,"__NEXT_DATA__")&&void 0!==(null===(t=e.__NEXT_DATA__)||void 0===t?void 0:t.buildId),paypalBuyNow:a,preact:c,react:u,vue:l};return Object.fromEntries(Object.entries(d).filter((e=>{var[t,r]=e;return!0===r})))};function us(e,t){var r=a.windowPerformance;if(!r||"function"!=typeof r.getEntriesByType)return null;var n=function(e,t,r){var n=e.filter((e=>e.initiatorType===t&&r.test(e.name)));return n[n.length-1]}([...r.getEntriesByType("resource"),...r.getEntriesByType("navigation")],e,t);return n?Math.round(function(e){return e.duration>0?e.duration:Math.max(Math.trunc(e.responseEnd-e.startTime),0)}(n)):null}var ls=function(e){switch(e){case oo.GET_PRODUCT_INFORMATION:return us(go.fetch,mo.GET_PRODUCT_INFORMATION_ENDPOINT);case oo.MAIN_IFRAME:return us(go.navigation,mo.MAIN_IFRAME_RESOURCE);case oo.LOAD:return us(go.script,mo.LIBRARY_RESOURCE);case oo.NONCE:return us(go.fetch,mo.CARD_NONCE_ENDPOINT);default:return null}};function ds(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function hs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ds(Object(r),!0).forEach((function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ds(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ps,fs=l.METRICS_URL,gs=l.METRICS_V2_URL;class ms{constructor(e,t){this.sdkVersion=l.VERSION,this.jsFramework="",this.applicationData=t,this.manualTelemetryStarts={},this.metricsBuffer=[],this.errorLogger=e,this.disableBeacon=!1}setAvt(e){this.avt=e}logEvent(e,t,r,n){try{var i={origin:Oo().origin},o={innerHeight:a.windowInnerHeight,innerWidth:a.windowInnerWidth,language:a.windowNavigationLanguage},s=this.eventDuration(e,n),{event:c,eventSource:u,eventConfigurationValues:l,internalConfigurationValues:d}=e,h=this.sdkVersion,p=this.metricsSession(t,r),f={appLocation:i,avt:this.avt,browserData:o,event:c,eventSource:u,paymentMethodTrackingId:n,sdkVersion:h,session:p};void 0!==l&&(m=c,vo.has(m))&&(f.eventConfigurationValues=is(c,u,l)),void 0!==d&&function(e){return yo.has(e)}(c)&&(f.internalConfigurationValues=JSON.stringify(d)),s&&(f.duration=s),c===eo.InitializeOK&&(f.jsFramework=this.getJSFrameworkValue());var g=!1;c!==eo.NonceOK&&c!==ro.Destroyed||(g=!0),this.postMetricsEvent(f,g)}catch(e){this.errorLogger.captureException(e)}var m}getJSFrameworkValue(){return 0===this.jsFramework.length&&(this.jsFramework=JSON.stringify(cs(window))),this.jsFramework}eventDuration(e,t){var[r,n]=e.event.split(":");if(r in so){var i;if(r===so.INITIALIZATION?i=r:t&&(i="".concat(r,":").concat(t)),!i)return null;if(n===ao.START){var o=Date.now();return this.manualTelemetryStarts[i]=o,null}if(n===ao.OK||n===ao.ERROR){var s=this.manualTelemetryStarts[i];return void 0===s?null:(delete this.manualTelemetryStarts[i],Date.now()-s)}}return n!==ao.START&&r in oo?ls(r):null}postMetricsEvent(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!this.disableBeacon&&a.windowNavigationBeacon&&a.documentVisibilityState?(this.metricsBuffer.push(e),t&&this.buildAndSendBeacon(),void 0===this.currentInterval&&(document.addEventListener("visibilitychange",(()=>{"hidden"===a.documentVisibilityState&&(this.buildAndSendBeacon(),clearInterval(this.currentInterval),this.currentInterval=void 0)})),this.currentInterval=window.setInterval((()=>{this.buildAndSendBeacon()}),1e3))):kr(fs,{body:e}).catch((e=>{this.errorLogger.captureException(e)}))}buildAndSendBeacon(){if(0!==this.metricsBuffer.length){try{var e=new Blob([JSON.stringify({metrics:this.metricsBuffer})],{type:"text/plain;charset=UTF-8"});window.navigator.sendBeacon(gs,e)}catch(e){e instanceof TypeError&&"Illegal invocation"===e.message||this.errorLogger.captureException(e),this.disableBeacon=!0,void 0!==this.currentInterval&&(clearInterval(this.currentInterval),this.currentInterval=void 0),kr(gs,{body:{metrics:this.metricsBuffer}}).catch((e=>{this.errorLogger.captureException(e)}))}this.metricsBuffer=[]}}metricsSession(e,t){return hs(hs({},this.applicationData),{},{instanceId:e,sessionId:t})}}r(2356),function(e){e.ACH="ACH",e.AFTERPAY="AFTERPAY",e.APPLE_PAY="APPLE_PAY",e.CASH_APP_PAY_V1="CASH_APP_PAY_V1",e.GOOGLE_PAY="GOOGLE_PAY"}(ps||(ps={})),l.HYDRATION_ENDPOINT;var vs="UPDATE_SESSION";class ys{constructor(e,t){this.errorLogger=e,this.messenger=t}}var Es={[Ii.CanUseInterac]:{false:Ai.Control,true:Ai.TreatmentA},[Ii.CanUseOverrideStrings]:{false:Ai.Control,true:Ai.TreatmentA},[Ii.RecordErrorMetrics]:{false:Ai.Control,true:Ai.TreatmentA},[Ii.CanUseAchAuth]:{[Oi.NoSupport]:Ai.Control,[Oi.Supported]:Ai.TreatmentA,[Oi.Required]:Ai.TreatmentA},[Ii.AnalyticsBackend]:{[Ci.ScriptLoadBackend]:Ai.Control,[Ci.Inline]:Ai.TreatmentA},[Ii.ClientLogLevel]:{[Ti.None]:Ai.Control,[Ti.Debug]:Ai.TreatmentA}};class _s{constructor(e){this.featureFlagValues=e}isActive(e){return this.experimentGroup(e)!==Ai.Control}experimentGroup(e){return this.featureFlagValueExperimentGroup(e)}featureFlagValueExperimentGroup(e){var t=this.featureFlagValues[e];return Es[e][t]||Ai.Control}}function Ss(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function Is(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){Ss(o,n,i,s,a,"next",e)}function a(e){Ss(o,n,i,s,a,"throw",e)}s(void 0)}))}}var As,Os="LOCALE_CHANGED_EVENT";class Cs extends ys{constructor(e,t,r,n,i,o,s,a,c,u){super(e,t),this.session=n,this.localeStrings=o,this.paymentMethodSupportDetail=i,this.metricsHandler=r,this.eventTarget=s,this.featureFlagHandler=new _s(a),this.featureFlagValues=a,this.isTestMerchant=c,this.analyticsManager=u}addLocaleChangedListener(e){this.eventTarget.addEventListener(Os,e)}removeLocaleChangedListener(e){this.eventTarget.removeEventListener(Os,e)}getSession(){return this.session.serialize()}getFeatureFlagValues(){return this.featureFlagValues}getLocaleString(){return this.localeStrings.getLocaleString()}setTranslationOverrides(e){this.localeStrings.setTranslationOverrides(e),this.session.setTranslationOverrides(e),this.eventTarget.dispatchEvent(Os,this.localeStrings.getCurrentLocale()),this.messenger.sendOneWayMessage(vs,{session:this.session.serialize()})}setLocale(e){var t=this.localeStrings.setLocale(e);if(t.previousLocale===t.newLocale)return t;var r=this.localeStrings.getCurrentLocale();return this.session.setLocale(r),this.eventTarget.dispatchEvent(Os,r),this.messenger.sendOneWayMessage(vs,{session:this.session.serialize()}),t}updateSession(e){var t=this;return Is((function*(){t.session.setSessionId(e),t.errorLogger.setSessionId(e),t.analyticsManager.beginGenerateToken(),yield t.messenger.sendOneWayMessage(vs,{session:t.session.serialize()})}))()}refreshWithCurrentAnalyticsToken(){var e=this;return Is((function*(){try{var t=yield e.analyticsManager.retrieveCurrentToken();t&&(e.session.setAnalyticsToken(t),yield e.messenger.sendOneWayMessage(vs,{session:e.session.serialize()}))}catch(t){e.session.locationId&&e.errorLogger.captureException(t)}}))()}setPaymentMethodTrackingId(e){this.metricsHandler.setPaymentMethodTrackingId(e)}getPaymentMethodTrackingId(){return this.metricsHandler.getPaymentMethodTrackingId()}}!function(e){e.APPLE_PAY_BROWSER_NOT_SUPPORTED="APPLE_PAY_BROWSER_NOT_SUPPORTED",e.APPLE_PAY_DEVICE_NOT_SUPPORTED="APPLE_PAY_DEVICE_NOT_SUPPORTED",e.APPLE_PAY_NOT_REGISTERED="APPLE_PAY_NOT_REGISTERED",e.GOOGLE_PAY_BROWSER_NOT_SUPPORTED="GOOGLE_PAY_BROWSER_NOT_SUPPORTED",e.INVALID_CONFIG="INVALID_CONFIG",e.UNKNOWN="UNKNOWN"}(As||(As={}));var Ts,bs={message:"Apple Pay is only available on Safari.",type:"BROWSER_NOT_SUPPORTED"},ws={message:"Device does not support Apple Pay.\nSee: https://developer.squareup.com/docs/web-payments/apple-pay#prerequisites-and-assumptions",type:"DEVICE_NOT_SUPPORTED"},Rs={message:"Browser does not support Google Pay. \nSee: https://developer.squareup.com/docs/web-payments/google-pay#prerequisites-and-assumptions",type:"BROWSER_NOT_SUPPORTED"},Ps={message:"Configuration is invalid.",type:"INVALID_CONFIG"},Ns={message:"An unknown error has occurred.",type:"UNKNOWN"};!function(e){e.COUNTRY_NOT_SUPPORTED="COUNTRY_NOT_SUPPORTED",e.APPLICATION_DISABLED="APPLICATION_DISABLED",e.MISSING_LOCATION_ID="MISSING_LOCATION_ID",e.UNVERIFIED_DOMAIN="UNVERIFIED_DOMAIN",e.NOT_ONBOARDED="NOT_ONBOARDED",e.US_AND_UK_MERCHANT_ONLY="US_AND_UK_MERCHANT_ONLY",e.US_MERCHANT_ONLY="US_MERCHANT_ONLY",e.INTERNAL_ERROR="INTERNAL_ERROR",e.DOMAIN_NOT_REGISTERED="DOMAIN_NOT_REGISTERED"}(Ts||(Ts={}));var Ds={APPLICATION_DISABLED:{message:"Wallet is disabled for your application.",type:"APPLICATION_DISABLED"},COUNTRY_NOT_SUPPORTED:{message:"Wallet is not available in this merchant country.",type:"COUNTRY_NOT_SUPPORTED"},MISSING_LOCATION_ID:{field:"locationId",message:"Missing locationId in the payment request configuration.\nSee: https://developer.squareup.com/reference/sdks/web/payments/objects/Payments",type:"MISSING_LOCATION_ID"},NOT_ONBOARDED:{message:"Your merchant account has not yet been onboarded for this payment method. Please visit the Seller Dashboard to enable the payment method",type:"NOT_ONBOARDED"},UNVERIFIED_DOMAIN:{message:"Your website's domain is not verified for use with Apple Pay. Please visit the Square Developer Dashboard at https://developer.squareup.com/ to register your domain for use with Apple Pay",type:"UNVERIFIED_DOMAIN"},US_AND_UK_MERCHANT_ONLY:{message:"Wallet is available for US and UK merchants only.",type:"US_AND_UK_MERCHANT_ONLY"},US_MERCHANT_ONLY:{message:"Wallet is available for US merchants only.",type:"US_MERCHANT_ONLY"},INTERNAL_ERROR:{message:"There was a temporary error determining your website's payment method status",type:"INTERNAL_ERROR"},DOMAIN_NOT_REGISTERED:{message:"Your website's domain is not registered for use with Apple Pay.\nSee: https://developer.squareup.com/docs/web-payments/apple-pay#production-configuration",type:"DOMAIN_NOT_REGISTERED"}};class Ls extends Jr{constructor(e,t,r){var n="".concat(e," was called with a missing or invalid parameter. '").concat(t,"' is required");r&&(n+=" and must be a(n) ".concat(r)),super("".concat(n,".")),this.name="InvalidFunctionArgumentError",Object.setPrototypeOf(this,Ls.prototype)}}class xs extends Jr{constructor(e){super("One or more of the arguments needed are missing or invalid."),this.argumentErrors=e,this.name="InvalidArgumentsError",Object.setPrototypeOf(this,xs.prototype)}}class ks{constructor(){this.listeners={}}addEventListener(e,t){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t)}removeEventListener(e,t){if(e in this.listeners)for(var r=this.listeners[e],n=0;n<r.length;n++)r[n]===t&&(r.splice(n,1),n--)}dispatchEvent(e,t){if(e in this.listeners)for(var r=new ai(e,t),n=[...this.listeners[e]],i=0,o=n.length;i<o;i++)try{n[i](r)}catch(e){console.error(e)}}hasEventListener(e){return e in this.listeners&&this.listeners[e].length>0}}var Ms=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).slice(1)}return"".concat(e()+e(),"-").concat(e(),"-").concat(e(),"-").concat(e(),"-").concat(e()).concat(e()).concat(e())};class Us{constructor(e,t,r,n){this.metricsLogger=e,this.eventSource=r,this.session=t,this.paymentMethodTrackingId=n}logEvent(e,t,r){var n={event:e,eventSource:this.eventSource};t&&(n.eventConfigurationValues=t),r&&(n.internalConfigurationValues=r);var{instanceId:i,sessionId:o}=this.session.serialize();return this.metricsLogger.logEvent(n,i,o,this.paymentMethodTrackingId)}setPaymentMethodTrackingId(e){this.paymentMethodTrackingId=e}getPaymentMethodTrackingId(){return this.paymentMethodTrackingId}}var js,Hs=vi(2);function Bs(e){return function(e){return"region"in e||"country"in e||"countryName"in e}(e)?e:{addressLines:e.addressLines,familyName:e.familyName,givenName:e.givenName,email:e.email,country:e.countryCode,phone:e.phone,postalCode:e.postalCode,region:e.state,city:e.city}}r(5794),function(e){e[e.DETACHED=0]="DETACHED",e[e.ATTACHED=1]="ATTACHED",e[e.DESTROYED=2]="DESTROYED"}(js||(js={}));class Gs{constructor(e){this.status=js.DETACHED,this.eventTarget=new ks,this.eventBuffer={},this.context=e}get session(){return this.context.getSession()}get messenger(){return this.context.messenger}get metricsHandler(){return this.context.metricsHandler}get errorLogger(){return this.context.errorLogger}get featureFlagHandler(){return this.context.featureFlagHandler}addEventListener(e,t){this.eventTarget.addEventListener(e,t),e in this.eventBuffer&&this.eventBuffer[e].length>0&&(this.eventBuffer[e].forEach((t=>this.eventTarget.dispatchEvent(e,t))),this.eventBuffer[e]=[])}hasEventListener(e){return this.eventTarget.hasEventListener(e)}removeEventListener(e,t){this.eventTarget.removeEventListener(e,t)}destroy(){return Promise.resolve(!0)}detach(){return Promise.resolve(!0)}dispatchEvent(e,t){this.hasEventListener(e)?this.eventTarget.dispatchEvent(e,t):(e in this.eventBuffer||(this.eventBuffer[e]=[]),this.eventBuffer[e].push(t))}throwIfDestroyed(){if(this.status===js.DESTROYED)throw new Dn(this.methodType)}throwIfDestroyedOrAlreadyAttached(){if(this.throwIfDestroyed(),this.status===js.ATTACHED)throw new Pn(this.methodType)}throwIfDestroyedOrNotAttached(){if(this.throwIfDestroyed(),this.status!==js.ATTACHED)throw new Nn(this.methodType)}}var Fs,qs={message:"the tokenization request is already in process",type:"TOKENIZATION_IN_PROCESS"};class Vs{constructor(e){this.id=Ms(),this.context=e}request(e,t){return this.context.messenger.request(e,{featureFlagValues:this.context.getFeatureFlagValues(),paymentMethodInstanceId:this.id,paymentMethodTrackingId:this.context.getPaymentMethodTrackingId(),session:this.context.getSession(),body:t})}initializeMessageBus(e){var t=this,r=function(e){t.context.messenger.onMessage({listener(t){e(t)},messageType:"".concat(n,":").concat(t.id)})};for(var[n,i]of Object.entries(e))r(i)}}function zs(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}!function(e){e.CREATE_OAUTH_PLAID_LINK_SESSION="CREATE_OAUTH_PLAID_LINK_SESSION",e.REQUEST_ACH_BANK_NONCE="REQUEST_ACH_BANK_NONCE"}(Fs||(Fs={}));var Ys=new Set(["ITEM_ERROR"]),$s=new Set(["en","es"]),Ks=["US"];r(3108);class Ws extends Error{constructor(e,t,r){super(`error loading script ${e}: ${t} ${r?r.toString():""}`),this.name="ScriptLoaderError",Object.setPrototypeOf(this,Ws.prototype)}}const Qs={};function Xs(e){delete Qs[e],document.getElementById(e)?.remove()}function Zs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Js(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function ea(){var e;return e=function*(e,t,r){for(var n=arguments.length,i=new Array(n>3?n-3:0),o=3;o<n;o++)i[o-3]=arguments[o];try{var s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zs(Object(r),!0).forEach((function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({id:"square-payments-".concat(e,"-script")},t);return yield function(e,t){const r=t();if(void 0!==r)return Promise.resolve(r);if(e.id in Qs)return Qs[e.id];const n=document.createElement("script");for(const t in e){const r=e[t];void 0!==r&&n.setAttribute(t,r)}return Qs[e.id]=new Promise(((r,i)=>{n.onload=()=>{const n=t();void 0===n?(Xs(e.id),i(new Ws(e.src,"location returned undefined"))):r(n)},n.onerror=(t,r,n,o,s)=>{Xs(e.id),i(new Ws(e.src,"Unknown error occurred",s))}})),document.body.appendChild(n),Qs[e.id]}(s,(()=>{var e=window[r];if(i.length>0){if(void 0===e)return;return i.reduce(((e,t)=>e[t]),e)}return e}))}catch(e){throw new kn(e.message)}},ea=function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){Js(o,n,i,s,a,"next",e)}function a(e){Js(o,n,i,s,a,"throw",e)}s(void 0)}))},ea.apply(this,arguments)}var ta={load:function(e,t,r){return ea.apply(this,arguments)}};function ra(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function na(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){ra(o,n,i,s,a,"next",e)}function a(e){ra(o,n,i,s,a,"throw",e)}s(void 0)}))}}var ia=(e,t)=>na((function*(){var r=e.getSession(),n=new Vs(e),i=function(e,t,r,n){var i;function o(){var c;return c=function*(){var o=yield function(e,t){var r=e.getSession();if(!r.locationId)throw new Gn("locationId not defined when creating OAuth Plaid Link Session");var n=a.windowNavigationLanguage.slice(0,2),i={createOAuthPlaidLinkSessionRequest:{clientId:r.applicationId,locationId:r.locationId,redirectUri:"",languageCode:n}};return t.request(Fs.CREATE_OAUTH_PLAID_LINK_SESSION,i)}(t,r);return function(r){return new Promise(((o,c)=>{var u=a.windowNavigationLanguage.split("-")[0];$s.has(u)||(u="en");var{errorLogger:d,metricsHandler:h,isTestMerchant:p}=t,f="sandbox";l.env!==s.production||p||(f="production"),i=e.create({clientName:"Square, Inc.",countryCodes:Ks,env:f,language:u,onEvent:(e,t)=>{e!==Vr.ERROR||Ys.has(t.error_type)||d.captureException(new Ki("PlaidErrorEvent: ".concat(JSON.stringify(t)),ei.ACH)),n.onEvent(e,t)},onExit:(e,t)=>{e&&(h.logEvent(to.ExternalSessionError),Ys.has(e.error_type)||d.captureException(new Ki("PlaidErrorOnExit: ".concat(JSON.stringify(e),", Metadata: ").concat(t),ei.ACH))),o({kind:"canceled"})},onSuccess:(e,t)=>{if(!t||!t.accounts||!t.accounts[0]){h.logEvent(to.ExternalSessionError);var n=new Error("No account selected but expected account, metadata: ".concat(JSON.stringify(t)));return d.captureException(n),void c(n)}h.logEvent(to.ExternalSessionOK),o({kind:"success",publicToken:e,selectedBankAccountId:t.accounts[0].id,gringottsSessionToken:r.gringottsSessionToken})},product:["auth"],token:r.plaidLinkToken}),h.logEvent(to.ExternalSessionStart),i.open()}))}(o)},o=function(){var e=this,t=arguments;return new Promise((function(r,n){var i=c.apply(e,t);function o(e){zs(i,r,n,o,s,"next",e)}function s(e){zs(i,r,n,o,s,"throw",e)}o(void 0)}))},o.apply(this,arguments)}return{beginFlow:function(){return o.apply(this,arguments)},destroy:function(){i&&(i.exit({force:!0}),i.destroy(),i=void 0)}}}(yield ta.load("plaid-link",{src:"https://cdn.plaid.com/link/v2/stable/link-initialize.js"},"Plaid"),e,n,{onEvent:t});function o(){return o=na((function*(e){var t=yield i.beginFlow();if("success"===t.kind){var r=yield function(e,t,r,n){return c.apply(this,arguments)}(e.accountHolderName,t.publicToken,t.selectedBankAccountId,t.gringottsSessionToken);return r}return{status:ri.CANCEL}})),o.apply(this,arguments)}function c(){return(c=na((function*(t,i,o,s){yield e.refreshWithCurrentAnalyticsToken();var a={accountHolderName:t,gringottsSessionToken:s,plaidPublicToken:i,selectedPlaidBankAccountId:o},c={bankNonceRequest:{clientId:r.applicationId,locationId:r.locationId,paymentMethodTrackingId:e.getPaymentMethodTrackingId(),plaidLinkData:a,sessionId:r.sessionId,websdkVersion:l.VERSION,websiteUrl:r.sourceUrl}};try{var u=yield n.request(Fs.REQUEST_ACH_BANK_NONCE,c);return yield e.updateSession(u.sessionId),e.setPaymentMethodTrackingId(u.paymentMethodTrackingId),{status:ri.OK,bankNonce:u.bankNonce,accountDetails:u.accountDetails}}catch(e){throw e instanceof Bn?e:new Bn([Mi.UNKNOWN])}}))).apply(this,arguments)}return Object.freeze({run:function(e){return o.apply(this,arguments)},destroy:function(){i.destroy()}})}))();class oa extends Error{constructor(e){super(e),this.name="InvalidAuthorizationParameter",Object.setPrototypeOf(this,oa.prototype)}}class sa extends Error{constructor(e,t){super(`The listener provided for event type ${e} threw an error: ${t}`),this.name="InvalidEventListenerError",Object.setPrototypeOf(this,sa.prototype)}}class aa{constructor(){this.listeners=new Map,this.eventBuffer=new Map}addEventListener(e,t){const r=this.listeners.get(e);void 0===r?this.listeners.set(e,[t]):r.push(t);const n=this.eventBuffer.get(e);n&&(n.forEach((e=>{this.dispatchEvent(e)})),this.eventBuffer.set(e,[]))}removeEventListener(e,t){const r=this.listeners.get(e);if(void 0!==r)for(let e=0;e<r.length;e++)r[e]===t&&(r.splice(e,1),e--)}hasEventListener(e){const t=this.listeners.get(e);return void 0!==t&&t.length>0}dispatchEvent(e){if(this.hasEventListener(e.type)){const t=[...this.listeners.get(e.type)];for(const r of t)try{r(e)}catch(t){throw new sa(e.type,t.message)}}else{const t=this.eventBuffer.get(e.type);void 0===t?this.eventBuffer.set(e.type,[e]):t.push(e)}}}class ca{constructor(){this.eventTarget=new aa}addEventListener(e,t){this.eventTarget.addEventListener(e,(e=>{t(e.detail)}))}dispatchEvent(e){this.eventTarget.dispatchEvent(new CustomEvent(e.type,{detail:e}))}}const ua={get IFRAME_NAME(){return"ach_authz"},get TEST_ENV(){return"test"},get DEV_ENV(){return"development"},get SANDBOX_ENV(){return"sandbox"},get PRODUCTION_ENV(){return"production"},getDebitAuthHostname(e){switch(e){case this.PRODUCTION_ENV:return"https://connect.squareup.com";case this.SANDBOX_ENV:return"https://connect.squareupsandbox.com";default:return"https://connect.squareupstaging.com"}},getSDKBaseUrlForEnv(e){switch(e){case"production":return"https://web.squarecdn.com";case"sandbox":return"https://sandbox.web.squarecdn.com";case"development":return"https://localhost:1779";default:return"https://staging.web.squarecdn.com"}}},la=function(e,t){const r=document.createElement("iframe");return new Promise(((n,i)=>{r.onerror=e=>{i(e)},r.onload=()=>{n(r)},r.setAttribute("id","ach-auth-enclave"),r.setAttribute("width","100%"),r.setAttribute("height","100%"),r.setAttribute("style","position: fixed; inset: 0px; z-index: 2147483647; border-width: 0px; display: block; overflow: hidden auto;"),r.setAttribute("src",`${ua.getSDKBaseUrlForEnv(e)}${"development"===e?"":`/${t}`}/ach-authz-sdk/enclave.html`),document.body.append(r)}))},da=function(e){e.parentElement?.removeChild(e)};class ha extends Error{constructor(e){super(e),this.name="IframeMessengerImplementationError",Object.setPrototypeOf(this,ha.prototype)}}class pa extends Error{constructor(e){super(e),this.name="IframeMessengerInternalMessageError",Object.setPrototypeOf(this,pa.prototype)}}class fa extends Error{constructor(e,t,r){void 0!==r?(super(`Messenger has not received an acknowledgement of message ${e} with id ${t} from iframe id=${r} which ${null===document.getElementById(r)?"does not exist":"exists"}`),this.iframeID=r):super(`Messenger has not received an acknowledgement of message ${e} with id ${t}, no iframeID was set`),this.type=e,this.id=t,this.name="IframeMessengerTimeoutError",Object.setPrototypeOf(this,fa.prototype)}}const ga="channel:connected",ma="channel:connecting",va="channel:close",ya="channel:error";class Ea{constructor(e){this.receiveMessage=e=>{switch(e.data){case this.messageWithName(ma):this.handleConnecting(e);break;case this.messageWithName(ga):this.handleConnected();break;case this.messageWithName(va):this.close();break;case this.messageWithName(ya):break;default:this.handleMessage(e)}},this.connected=!1,this.listeners=[],this.messageBuffer=[],this.name=void 0!==e?`:${e}`:""}set onmessage(e){this.listeners.push(e)}close(){this.port&&(this.postMessage(this.messageWithName(va)),this.port.close(),this.port=void 0,this.connected||window.removeEventListener("message",this.receiveMessage)),this.connected=!1}connect(e){if(this.connected)throw new ha("message channel is already connected");if(e){if(void 0===e.origin)throw new ha("message channel remote.origin must be defined");if(null===e.window)throw new ha("message channel remote.window cannot be null");const t=new MessageChannel;this.setupPort(t.port1),e.window.postMessage(this.messageWithName(ma),e.origin,[t.port2])}else window.addEventListener("message",this.receiveMessage)}setErrorHandler(e){this.errorHandler=e}postMessage(e){this.port&&this.connected?this.port.postMessage(e):this.messageBuffer.push(e)}handleConnecting(e){if(this.connected)throw new ha("message channel should not be connecting because already connected");window.removeEventListener("message",this.receiveMessage),e.ports[0]&&(this.setupPort(e.ports[0]),this.postMessage(this.messageWithName(ga)),this.connectionEstablished())}handleConnected(){if(this.connected)throw new ha("message channel already connected");this.connectionEstablished()}connectionEstablished(){for(this.connected=!0;this.messageBuffer.length>0;)this.postMessage(this.messageBuffer.shift())}handleMessage(e){this.listeners.forEach((t=>{t(e)}))}setupPort(e){this.port=e,this.port.onmessage=this.receiveMessage,this.port.onmessageerror=e=>{this.postMessage(this.messageWithName(ya)),this.errorHandler&&this.errorHandler(new ha("message channel failed to deserialize message"),e)}}messageWithName(e){return e+this.name}}function _a(){return`${Date.now()}${Math.floor(8e3*Math.random())}`}var Sa,Ia;!function(e){e.ACK="ack",e.OK="ok",e.ERROR="error"}(Sa||(Sa={}));class Aa{constructor(e={}){this.messageListeners=new Map,this.channel=new Ea(e.name),this.channel.onmessage=this.handleMessage.bind(this),void 0!==e.payloadSerializer&&(this.payloadSerializer=e.payloadSerializer),void 0!==e.errorSerializer&&(this.errorSerializer=e.errorSerializer)}setErrorHandler(e){this.errorHandler=e,this.channel.setErrorHandler(e)}sendOneWayMessage(e,t){let r=t;return void 0!==t&&void 0!==this.payloadSerializer&&(r=this.payloadSerializer.serialize(t)),this.message({id:_a(),mustAcknowledge:!1,mustRespond:!1,payload:r,type:e})}sendMessage(e,t){let r=t;return void 0!==t&&void 0!==this.payloadSerializer&&(r=this.payloadSerializer.serialize(t)),this.message({id:_a(),mustAcknowledge:!0,mustRespond:!1,payload:r,type:e})}request(e,t){let r=t;return void 0!==t&&void 0!==this.payloadSerializer&&(r=this.payloadSerializer.serialize(t)),this.message({id:_a(),mustAcknowledge:!0,mustRespond:!0,payload:r,type:e})}respond(e,t){const r=`${e.type}:${Sa.OK}`;let n=t;return void 0!==this.payloadSerializer&&(n=this.payloadSerializer.serialize(t)),this.postResponse(r,e,n)}reject(e,t){const r=`${e.type}:${Sa.ERROR}`;let n=t;return void 0!==this.errorSerializer&&(n=this.errorSerializer.serialize(t)),this.postResponse(r,e,n)}onMessage(e,t=_a()){return this.addMessageEventListener(e,t),t}connect(e,t){void 0!==t&&(this.iframeID=t),this.channel.connect(e)}close(){this.channel.close()}handleMessage(e){const t=this.messageListeners.get(e.data.type);void 0!==e.data.type&&"undefined"!==e.data.type?t?(e.data.mustAcknowledge&&this.acknowledge(e.data),t.forEach((t=>{t.forEach((t=>{t(e)}))}))):this.errorHandler&&this.errorHandler(new ha(`Listener does not exist for ${e.data.type}. Add one to your messenger instance:\n            messenger.onMessage({\n                    listener: (msg) => {},\n                    messageType: '${e.data.type}',\n                });\n          `),e):void 0!==this.errorHandler&&this.errorHandler(new pa("Received a messenger message with an undefined type"),e)}logMessengerTimeout(e){const t=new fa(e.type,e.id,this.iframeID);this.errorHandler&&this.errorHandler(t,new MessageEvent(e.type,{data:e}))}handleMessageContract(e){const{errorSerializer:t}=this,{payloadSerializer:r}=this;if(!e.mustAcknowledge)return new Promise((e=>{e({})}));let n;const i=()=>{[Sa.ACK,Sa.OK,Sa.ERROR].forEach((t=>{const r=this.messageListeners.get(`${e.type}:${t}`);void 0!==r&&r.delete(n)}))},o=window.setTimeout((()=>{this.logMessengerTimeout(e)}),1e4);return new Promise(((s,a)=>{n=this.onMessage({listener(){clearTimeout(o),e.mustRespond||(i(),s({}))},messageType:`${e.type}:${Sa.ACK}`}),this.onMessage({listener(e){i();const{payload:t}=e.data;if(void 0===r)s(t);else{const e=r.deserialize(t);s(e)}},messageType:`${e.type}:${Sa.OK}`},n),this.onMessage({listener(e){i();const{payload:r}=e.data;if(void 0===t)a(r);else{const e=t.deserialize(r);a(e)}},messageType:`${e.type}:${Sa.ERROR}`},n)}))}acknowledge(e){const t=`${e.type}:${Sa.ACK}`;return this.message({id:e.id,mustAcknowledge:!1,mustRespond:!1,payload:void 0,type:t})}postResponse(e,t,r){return this.message({id:t.id,mustAcknowledge:!0,mustRespond:!1,payload:r,type:e})}message(e){const t=this.handleMessageContract(e);return e.type&&"undefined"!==e.type||void 0===this.errorHandler||this.errorHandler(new pa("attempting to send a messenger message with an undefined type")),this.channel.postMessage(e),t}addMessageEventListener(e,t){const{messageType:r,listener:n}=e,i=this.messageListeners.get(r);if(i){const e=i.get(t);e?e.push(n):i.set(t,[n])}else this.messageListeners.set(r,new Map([[t,[n]]]))}}!function(e){e.CAPTURE_AUTHORIZATION="CAPTURE_AUTHORIZATION"}(Ia||(Ia={}));const Oa=function(){const e={name:ua.IFRAME_NAME};return new Aa(e)},Ca=async function(e,t,r){const n=ua.getSDKBaseUrlForEnv(r);e.connect({origin:n,window:t.contentWindow},t.id),await e.sendMessage("INITIALIZE",{env:r})},Ta={build(e,t){const r=Oa(),n=new ca;return Promise.resolve(Object.freeze({captureAuthorization:async function(i){let o;try{!function(e){if(!e.idempotencyKey)throw new oa("idempotencyKey is invalid");if(!e.applicationId)throw new oa("applicationId is invalid");if(!e.locationId)throw new oa("locationId is invalid");if(!e.total)throw new oa("total needs to be provided");if("number"!=typeof e.total.amount)throw new oa("amount needs to be a number");if(!e.total.currencyCode)throw new oa("total needs to be valid");if("CHARGE"===e.intent){if(!e.bankNonce&&!e.bankAccountId)throw new oa("one of bankNonce or bankAccountId needs to be provided");if(e.bankNonce&&e.bankAccountId)throw new oa("only one of bankNonce or bankAccountId needs to be provided")}else if("RECURRING_CHARGE"===e.intent){if(!e.bankAccountId)throw new oa("bankAccountId needs to be provided for recurring payments");if("WEEKLY"!==e.cadence&&"MONTHLY"!==e.cadence)throw new oa("Unsupported cadence. Must be one of: WEEKLY, MONTHLY");if(!e.startDate)throw new oa("Invalid startDate")}}(i),o=await la(e,t),await Ca(r,o,e);const s=await r.request(Ia.CAPTURE_AUTHORIZATION,i);"success"===s.kind?n.dispatchEvent({type:"signed",token:s.token}):n.dispatchEvent({type:"canceled"})}catch(e){n.dispatchEvent({type:"error",error:e})}o&&da(o)},addEventListener:function(e,t){n.addEventListener(e,t)}}))}};var ba=["bankAccountDetails"];function wa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ra(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}var Pa={build(e){var{env:t,transactionId:r,session:n,context:i,onSigned:o,onCanceled:s,onError:a}=e;function c(){var e;return e=function*(e){var c=yield Ta.build(t,l.VERSION);i.metricsHandler.logEvent(eo.ACHAuthStart);var{bankAccountDetails:u}=e,d=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,ba);c.addEventListener("signed",(function(e){o(e.token,u),i.metricsHandler.logEvent(eo.ACHAuthOk)})),c.addEventListener("canceled",(function(){i.metricsHandler.logEvent(eo.ACHAuthCanceled),s()})),c.addEventListener("error",(function(e){var t=e.error;a(t instanceof oa?new mn(t.message):new Gn("authorizing the payment")),i.metricsHandler.logEvent(eo.ACHAuthError),i.errorLogger.captureException(t)})),yield c.captureAuthorization(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wa(Object(r),!0).forEach((function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({idempotencyKey:r,applicationId:n.applicationId,locationId:n.locationId},d))},c=function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){Ra(o,n,i,s,a,"next",e)}function a(e){Ra(o,n,i,s,a,"throw",e)}s(void 0)}))},c.apply(this,arguments)}return Object.freeze({run:function(e){return c.apply(this,arguments)}})}},Na=function(){var e=document.createElement("div");return e.setAttribute("style","position:fixed; top: 0; left: 0; width: 100vw; height: 100%; z-index: 3; background-color: ".concat("rgba(0, 0, 0, 0.8)","; opacity: 0;")),document.body.appendChild(e),e.style.transition="opacity ".concat("cubic-bezier(0.26, 0.1, 0.48, 1)"," ").concat("0.24s"),setTimeout((function(){e.style.opacity="1"})),new Promise((function(t){setTimeout((function(){t(e)}),240)}))},Da=function(e){e&&(e.style.transition="opacity ".concat("cubic-bezier(0.52, 0, 0.74, 0)"," ").concat("0.16s"),setTimeout((function(){e.style.opacity="0"})),setTimeout((function(){e.remove()}),160))};function La(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function xa(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){La(o,n,i,s,a,"next",e)}function a(e){La(o,n,i,s,a,"throw",e)}s(void 0)}))}}class ka extends Gs{constructor(e,t){super(e),this.methodType=ei.ACH,this.tokenizeInProgress=!1,this.wasFirstInteractionCalled=!1;try{!function(e){if(e&&e.length>0){var t;try{t=new URL(e)}catch(t){throw new En("redirectURI",e,"Must be a valid URI")}if([...t.searchParams.values()].length>0)throw new En("redirectURI",e,"URI must not contain query parameters");return!0}throw new En("redirectURI","".concat(e),"Must be a valid URI")}(null==t?void 0:t.redirectURI)}catch(e){this.metricsHandler.logEvent(no.InvalidRedirectURI,void 0,e.message),console.warn(e.message)}try{!function(e){if(e&&e.length>0){if(e.length>50)throw new En("transactionId",e,"String must be between 1 and 50 characters");return!0}throw new En("transactionId","".concat(e),"String must be between 1 and 50 characters")}(null==t?void 0:t.transactionId)}catch(e){console.warn(e.message)}this.transactionId=(null==t?void 0:t.transactionId)||Ms()}initialize(){var e=this;return xa((function*(){var t=e.dispatchPlaidEvent.bind(e);e.plaidNonceFlow=yield ia(e.context,t),e.achAuthFlow=Pa.build({env:l.env,transactionId:e.transactionId,session:e.session,context:e.context,onSigned:e.dispatchSuccessfulTokenResult.bind(e),onCanceled:e.dispatchCancelResult.bind(e),onError:e.dispatchError.bind(e)})}))()}tokenize(e){var t=this;return xa((function*(){try{if(t.throwIfDestroyed(),t.tokenizeInProgress)throw new Bn([qs]);if(!e||!e.accountHolderName.trim())throw new rn;var r=t.context.getFeatureFlagValues()[Ii.CanUseAchAuth];if(!function(e,t){switch(t){case Oi.NoSupport:return Ua(e);case Oi.Supported:return!0;case Oi.Required:return!Ua(e);case Oi.Legacy:return!0;default:return!1}}(e,r))throw new mn("Invalid parameter format for ACH tokenize");if(!t.hasEventListener(Vr.ON_TOKENIZATION)){var n="Add event listener for '".concat(Vr.ON_TOKENIZATION,"' before calling tokenize.");console.warn("".concat(n," This will result in an error when using the Plaid OAuth flow."))}if(void 0===t.achAuthFlow||void 0===t.plaidNonceFlow)throw new Gn("Must call initialize() before tokenize() call");if(t.tokenizeInProgress=!0,t.handleFirstInteraction(),function(e){return Ma(e)&&"RECURRING_CHARGE"===e.intent}(e))return t.veil=yield Na(),void(yield t.achAuthFlow.run({intent:e.intent,bankAccountId:e.bankAccountId,total:e.total,cadence:e.cadence,startDate:e.startDate}));if(function(e){return Ma(e)&&"CHARGE"===e.intent}(e)&&e.bankAccountId)return t.veil=yield Na(),void(yield t.achAuthFlow.run({bankAccountId:e.bankAccountId,total:e.total,intent:e.intent}));Ua(e)||(t.veil=yield Na());var i=yield t.plaidNonceFlow.run(e);if(Ua(e)||r===Oi.Legacy)switch(i.status){case ri.OK:var o=t.buildSuccessfulTokenResult(i.bankNonce,i.accountDetails);return t.dispatchTokenizationEvent(o),t.resetFirstInteraction(),o;case ri.CANCEL:var s=t.buildCancelTokenResult();return t.dispatchTokenizationEvent(s),s;default:throw new Gn("Unexpected tokenize flow status")}return void(yield t.runAchAuthFlowBasedOnPlaidResult(i,e))}catch(e){throw t.dispatchError(e),e}finally{t.tokenizeInProgress=!1,Da(t.veil)}}))()}destroy(){var e;return this.status=js.DESTROYED,this.metricsHandler.logEvent(ro.Destroyed),null===(e=this.plaidNonceFlow)||void 0===e||e.destroy(),Promise.resolve(!0)}addEventListener(e,t){this.metricsHandler.logEvent(ro.EventListenerAdded,e),super.addEventListener(e,t)}removeEventListener(e,t){super.removeEventListener(e,t)}runAchAuthFlowBasedOnPlaidResult(e,t){var r=this;return xa((function*(){if(e.status===ri.CANCEL)r.dispatchTokenizationEvent(r.buildCancelTokenResult());else switch(t.intent){case"CHARGE":yield r.achAuthFlow.run({intent:t.intent,bankNonce:e.bankNonce,total:t.total,bankAccountDetails:e.accountDetails});break;case"STORE":r.dispatchSuccessfulTokenResult(e.bankNonce,e.accountDetails);break;default:throw new mn("Unsupported intent ".concat(t.intent,". Must be one of: CHARGE, STORE, RECURRING_CHARGE"))}}))()}resetFirstInteraction(){this.wasFirstInteractionCalled=!1}handleFirstInteraction(){this.wasFirstInteractionCalled||(this.wasFirstInteractionCalled=!0,this.metricsHandler.logEvent(eo.FirstInteraction))}buildCancelTokenResult(){return{status:ri.CANCEL}}buildSuccessfulTokenResult(e,t){var r={status:ri.OK,token:e};return t&&(r.details={bankAccount:t,method:ei.ACH}),r}dispatchCancelResult(){this.dispatchTokenizationEvent(this.buildCancelTokenResult())}dispatchSuccessfulTokenResult(e,t){this.resetFirstInteraction();var r=this.buildSuccessfulTokenResult(e,t);this.dispatchTokenizationEvent(r)}dispatchError(e){this.dispatchEvent(Vr.ON_TOKENIZATION,{error:e})}dispatchPlaidEvent(e,t){this.dispatchEvent(e,t)}dispatchTokenizationEvent(e){this.dispatchEvent(Vr.ON_TOKENIZATION,{tokenResult:e})}}function Ma(e){return"intent"in e}function Ua(e){return!("intent"in e)}r(9529),r(1235);var ja,Ha,Ba=[Mn,Un,jn,Hn,Pn,Dn,Gn],Ga=[Nn,jn,Mn,Un,Hn],Fa=[Bn,Nn],qa=function(e,t){var r=document.createElement("iframe");return new Promise(((n,i)=>{r.onerror=e=>{i(e)},r.onload=()=>{n(r)},Object.entries(e).forEach((e=>{var[t,n]=e;r.setAttribute(t,n)})),t?t.appendChild(r):document.body.appendChild(r)}))},Va=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)};!function(e){e.CONFIGURE="configure",e.DESTROY="destroy",e.LOAD_CARDS_FORM="loadCardsForm",e.REQUEST_CARD_NONCE_IF_VALID_FORM="requestCardNonceIfValidForm",e.SET_FOCUS="setFocus",e.CLEAR="clear",e.SET_ERROR="setError"}(ja||(ja={})),function(e){e.CARD_BRAND_CHANGED="cardBrandChanged",e.ERROR_CLASS_ADDED="errorClassAdded",e.ERROR_CLASS_REMOVED="errorClassRemoved",e.FOCUS_CLASS_ADDED="focusClassAdded",e.FOCUS_CLASS_REMOVED="focusClassRemoved",e.POSTAL_CODE_CHANGED="postalCodeChanged",e.SET_POSTAL_COUNTRY="setPostalCountry",e.ESCAPE="escape",e.SUBMIT="submit"}(Ha||(Ha={}));var za=new Set(["DIV","SPAN"]),Ya=new Set(["DIV","SPAN"]),$a=new Set(["DIV","SPAN","BUTTON"]);function Ka(e,t){var r;if(function(e){return"string"==typeof e}(e)){var n=document.querySelector(e);if(!n)throw new hn(e);r=n}else{if(!(e instanceof HTMLElement))throw new Ln(e,t);if(r=e,!document.contains(r))throw new hn(r)}if(!t.has(r.nodeName))throw new Ln(r,t);return r}function Wa(e){return Ka(e,za)}function Qa(e){return Ka(e,$a)}var Xa=["top","right","bottom","left"],Za="sq-focus",Ja="sq-error",ec=".".concat(Za),tc=".".concat(Ja),rc=(r(8319),{ASPECT_RATIO:/^\d+\/\d+$/,HEX:/^#([\dA-Fa-f]{3}|[\dA-Fa-f]{6})$/,NEGATIVE_EM:/^-\d*\.?\d+em$/,NEGATIVE_PERCENT:/^\d*\.?\d+%$/,NEGATIVE_PT:/^-\d*\.?\d+pt$/,NEGATIVE_PX:/^-\d*\.?\d+px$/,POSITIVE_EM:/^\d*\.?\d+em$/,POSITIVE_PERCENT:/^\d*\.?\d+%$/,POSITIVE_PT:/^\d*\.?\d+pt$/,POSITIVE_PX:/^\d*\.?\d+px$/,POSITIVE_RESOLUTION:/^\d*\.?\d+(?:dpi|dpcm|dppx|x)$/,RGB:/^rgb\((\s*\d{1,3},){2}\s*\d{1,3}\)$/,RGBA:/^rgba\((\s*\d{1,3},){3}\s*(1|0*.\d*)\)$/}),nc=/\s(?![^(]*\))/,ic=new Set(["screen","all","print","speech"]),oc=new Set(["and"]),sc=new Set(["not","only"]),ac=new Set(["portrait","landscape"]),cc=new Set(["xx-small","x-small","small","medium","large","x-large","xx-large"]),uc=new Set(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgrey","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgrey","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","transparent","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"]),lc=new Set([100,200,300,400,500,600,700,800,900]),dc=new Set(["100","200","300","400","500","600","700","800","900","normal","bold","bolder","lighter"]),hc=new Set(["normal"]),pc=new Set(["smaller","larger"]),fc=new Set(["andale mono","arial","arial black","arial narrow","arial rounded mt bold","avant garde","baskerville","big caslon","bodoni mt","book antiqua","brush script mt","calibri","calisto mt","cambria","candara","century gothic","charcoal","comic sans ms","consolas","copperplate","copperplate gothic light","courier","courier new","cursive","didot","fantasy","franklin gothic medium","futura","garamond","geneva","georgia","gill sans","goudy old style","helvetica","helvetica neue","hoefler text","impact","lucida bright","lucida console","lucida grande","lucida sans unicode","lucida sans typewriter","monaco","monospace","optima","palatino","palatino linotype","papyrus","perpetua","rockwell","rockwell extra bold","sans-serif","segoe ui","serif","square market","square sans text","tahoma","times","times new roman","trebuchet ms","verdana"]),gc=new Set(["none","antialiased","subpixel-antialiased"]),mc=new Set(["grayscale","auto"]),vc=new Set(["none"]);function yc(e){return null!=e&&e.split(/, ?(?![^(]*\))/).every((e=>function(e){if(null==e)return!1;if("none"===e)return!0;var t=e.split(/ (?![^(]*\))/),r=0;if("inset"===t[0]&&(t.shift(),r++),"inset"===t[t.length-1]){if(r>0)return!1;t.pop()}for(var n=0;n<2;n++){var i=t.shift();if(void 0===i||!Oc(i))return!1}switch(t.length){case 0:return!0;case 1:return bc(t[0])||Tc(t[0]);case 2:return Tc(t[0])&&(bc(t[1])||Cc(t[1]));case 3:return Tc(t[0])&&Cc(t[1])&&bc(t[2]);default:return!1}}(e)))}function Ec(e){return["border-box","content-box"].includes(e)}function _c(e){return e.split(" ").every((e=>function(e){return 0===Number(e)||Hc(e)||Fc(e)}(e)))}function Sc(e){var t=e.split(" ");return!(0===t.length||t.length>4)&&t.every(Ic)}function Ic(e){return 0===Number(e)||Hc(e)||Fc(e)}function Ac(e){return 0===Number(e)||Hc(e)||Fc(e)||Bc(e)||qc(e)}function Oc(e){return 0===Number(e)||jc(e)||Gc(e)}function Cc(e){return 0===Number(e)||jc(e)||Gc(e)}function Tc(e){return 0===Number(e)||Hc(e)||Fc(e)}function bc(e){return null!=e&&(function(e){return uc.has(e.toLowerCase())}(e)||function(e){return rc.HEX.test(e)}(e)||function(e){return rc.RGB.test(e)}(e)||function(e){return rc.RGBA.test(e)}(e))}function wc(e){return null!=e&&(function(e){return cc.has(e.toLowerCase())}(e)||function(e){return pc.has(e.toLowerCase())}(e)||Hc(e)||Vc(e)||Fc(e)||zc(e))}function Rc(e){return null!==e&&e.split(", ").every((e=>{return t=e.toLowerCase().trim().replace(/["']+/g,""),fc.has(t);var t}))}function Pc(e){var t=Number(e);return Number.isNaN(t)?dc.has(e.toLowerCase()):lc.has(t)}function Nc(e){return"normal"===e||Gc(e)||function(e){return Vc(e)||function(e){return rc.NEGATIVE_PT.test(e)}(e)}(e)||jc(e)}function Dc(e){var t=Number(e);return!Number.isNaN(t)&&t>=0||hc.has(e)||Fc(e)||Hc(e)||Vc(e)||zc(e)}function Lc(e){return gc.has(e)}function xc(e){return mc.has(e)}function kc(e){return vc.has(e)}function Mc(e){if(null===e)return!1;var t=e.toString().split(" ");return!(t.length>4)&&t.every((e=>function(e){return Hc(e)||Fc(e)||zc(e)||0===Number(e)}(e)))}function Uc(e){if(!e.startsWith("(")||!e.endsWith(")"))return!1;var t=e.slice(1,-1),[r,n]=t.split(/: */);switch(r){case"width":case"min-width":case"max-width":case"height":case"min-height":case"max-height":case"device-width":case"min-device-width":case"max-device-width":case"device-height":case"min-device-height":case"max-device-height":return Hc(n)||Fc(n)||zc(n);case"resolution":case"min-resolution":case"max-resolution":return function(e){return rc.POSITIVE_RESOLUTION.test(e)}(n);case"aspect-ratio":case"min-aspect-ratio":case"max-aspect-ratio":case"device-aspect-ratio":case"min-device-aspect-ratio":case"max-device-aspect-ratio":return function(e){return rc.ASPECT_RATIO.test(e)}(n);case"color":case"color-index":case"monochrome":return void 0===n;case"min-color":case"max-color":case"min-color-index":case"max-color-index":case"min-monochrome":case"max-monochrome":return function(e){return Number(e)>=0}(n);case"orientation":return function(e){return ac.has(e)}(n);default:return!1}}function jc(e){return Hc(e)||Bc(e)}function Hc(e){return rc.POSITIVE_PX.test(e)}function Bc(e){return rc.NEGATIVE_PX.test(e)}function Gc(e){return Fc(e)||qc(e)}function Fc(e){return rc.POSITIVE_EM.test(e)}function qc(e){return rc.NEGATIVE_EM.test(e)}function Vc(e){return rc.POSITIVE_PT.test(e)}function zc(e){return rc.POSITIVE_PERCENT.test(e)}var Yc={sanitizeDeclarationValue:function(e,t){var r=(e=>{switch(e){case"border-color":case"background-color":case"color":case"-webkit-text-fill-color":return bc;case"-webkit-box-shadow":case"box-shadow":return yc;case"box-sizing":return Ec;case"font-family":return Rc;case"font-size":return wc;case"font-weight":return Pc;case"letter-spacing":return Nc;case"line-height":return Dc;case"padding":return Mc;case"-webkit-font-smoothing":return Lc;case"-moz-osx-font-smoothing":return xc;case"display":return kc;case"border-radius":return _c;case"border-width":return Sc;case"top":case"bottom":case"left":case"right":return Ac;case"width":return function(e){return e};default:return}})(e);return r&&r(t)||function(e){return["unset","inherit","revert","initial"].includes(e)}(t)?t:""},validateMediaQuery:function(e){return!!(t=e).startsWith("@media")&&t.slice(7,t.length).split(/, */).every((e=>{var t=e.split(nc);if(0===t.length)return!1;var r=0;if(!t[0].startsWith("(")){var n=0;if(sc.has(t[0])&&(n=1),t.length===n+1)return ic.has(t[n]);if(!ic.has(t[n])||!oc.has(t[n+1]))return!1;r=2+n}if((t.length-r)%2==0)return!1;for(var[i,o]of Object.entries(t.slice(r)))if(!(Number(i)%2==0?Uc(o):oc.has(o)))return!1;return!0}));var t}};function $c(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(r.length>0&&!r.includes(e))throw new Mn(e);var i=bi.cssProperty(e),o=Yc.sanitizeDeclarationValue(i,t);if(0===o.length)throw new Un(e,t);return n&&(o+=" !important"),bi.formatCSSKeyValuePair(i,o)}function Kc(e,t,r){var n=[],i=[],o=new Set(e.excludeProperties||[]);for(var[s,a]of Object.entries(t))if(!o.has(s)){var c=a||"";try{n.push($c(s,c,r))}catch(e){i.push(e)}}if(i.length>0)throw new Hn(i);return Object.fromEntries(e.toSelectors.map((function(e){return[e,n]})))}function Wc(e,t,r){var n={},i=[];if(e.forEach((function(e){var{property:o,setAsImportant:s,toProperty:a,toSelectors:c,transformPropertyValue:u}=e,l=t[o];if(l){var d=u?u(l):l;try{var h=$c(null!=a?a:o,d,a?[...r,a]:r,s);c.forEach((e=>{n[e]||(n[e]=[]),n[e].push(h)}))}catch(e){i.push(e)}}})),i.length>0)throw new Hn(i);return n}var Qc={borderChainToDirectionValue:function(e,t){var r=t.split(" ");switch(r.length){case 1:return r[0];case 2:switch(e){case"top":case"bottom":return r[0];default:return r[1]}case 3:switch(e){case"top":return r[0];case"bottom":return r[2];default:return r[1]}case 4:switch(e){case"top":return r[0];case"right":return r[1];case"bottom":return r[2];case"left":return r[3];default:return""}default:return""}},compileStyleString:function e(t,r,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=[],s=[...Object.keys(r.selectorMappings),...Object.keys(r.selectorPropertyMappings||{})],a=new Set(s),c=new Set(Object.values(n));Object.keys(t).forEach((e=>{c.has(e)||function(e,t){return!t&&Yc.validateMediaQuery(e)}(e,i)||o.push(new jn(e))}));var u={};function l(e){for(var[t,r]of Object.entries(e))u[t]||(u[t]=[]),u[t].push(...r)}for(var d of a){var h,p=t[d],f=r.allowedAttributes[d]||[],g=r.selectorMappings[d]||[],m=(null==r||null===(h=r.selectorPropertyMappings)||void 0===h?void 0:h[d])||[];if(p){try{l(Kc(g,p,f))}catch(e){e instanceof Hn&&o.push(...e.errors)}try{l(Wc(m,p,f))}catch(e){e instanceof Hn&&o.push(...e.errors)}}}if(Object.keys(t).filter((e=>!a.has(e)&&Yc.validateMediaQuery(e))).forEach((i=>{try{var s=e(t[i],r,n,!0);u[i]=[s]}catch(e){o.push(...e.errors)}})),o.length>0)throw new Hn(o);return function(e){var t=[];for(var[r,n]of Object.entries(e))n&&n.length>0&&t.push("\n      ".concat(r," { ").concat(n.join(" ")," }\n      "));return t.join("")}(u)}},Xc="sq-card-iframe-container",Zc="sq-card-wrapper",Jc="sq-card-component",eu="sq-card-message",tu="sq-card-message-error",ru="sq-card-message-no-error",nu="sq-visible",iu=".".concat(Zc),ou=".".concat(Jc),su=".".concat(Xc),au="".concat(iu).concat(ec),cu="".concat(iu).concat(tc),uu="".concat(iu," ").concat(ou),lu="".concat(iu," ").concat(su),du="".concat(au," ").concat(su),hu="".concat(cu," ").concat(su),pu=".sq-card-message-error",fu=".sq-card-message-error::before",gu=".sq-card-message-no-error",mu=".sq-card-message-no-error::before",vu="".concat(su).concat("::before"),yu=["borderWidth"];function Eu(e){var t=["".concat(e).concat(tc," ").concat(vu),"".concat(e).concat(ec," ").concat(vu)];return Xa.map((e=>{return{property:"borderWidth",toProperty:e,toSelectors:t,transformPropertyValue:(r=e,function(e){var t=Qc.borderChainToDirectionValue(r,e);return"0"===t[0]?t:"-".concat(t)})};var r}))}function _u(e,t){return Qc.compileStyleString(e,function(e){var t="#".concat(e);return{allowedAttributes:{[Hr.CARD_COMPONENT]:ni,[Hr.CARD_COMPONENT_FOCUS]:ii,[Hr.CARD_COMPONENT_ERROR]:ii,[Hr.CARD_INPUT_HELPER_TEXT]:oi,[Hr.CARD_INPUT_HELPER_ICON]:si,[Hr.CARD_INPUT_ERROR_TEXT]:oi,[Hr.CARD_INPUT_ERROR_ICON]:si},selectorMappings:{[Hr.CARD_COMPONENT]:{toSelectors:["".concat(t).concat(lu)]},[Hr.CARD_COMPONENT_FOCUS]:{excludeProperties:yu,toSelectors:["".concat(t).concat(du)]},[Hr.CARD_COMPONENT_ERROR]:{excludeProperties:yu,toSelectors:["".concat(t).concat(hu)]},[Hr.CARD_INPUT_HELPER_TEXT]:{toSelectors:["".concat(t," ").concat(gu)]},[Hr.CARD_INPUT_HELPER_ICON]:{toSelectors:["".concat(t," ").concat(mu)]},[Hr.CARD_INPUT_ERROR_TEXT]:{toSelectors:["".concat(t," ").concat(pu)]},[Hr.CARD_INPUT_ERROR_ICON]:{toSelectors:["".concat(t," ").concat(fu)]}},selectorPropertyMappings:{[Hr.CARD_INPUT]:[{property:"backgroundColor",toSelectors:["".concat(t).concat(lu)]}],[Hr.CARD_COMPONENT]:[{property:"borderRadius",toSelectors:["".concat(t," ").concat(vu),"".concat(t).concat(uu)]},{property:"borderWidth",toProperty:"width",toSelectors:["".concat(t).concat(lu)],transformPropertyValue:e=>function(e){var t=["left","right"].map((t=>{var r=Qc.borderChainToDirectionValue(t,e);return"0"===r&&(r="0px"),r})).join(" + ");return"calc(100% - (".concat(t,"))")}(e)},...Eu(t)],[Hr.CARD_COMPONENT_ERROR]:[{property:"borderColor",toSelectors:["".concat(t).concat(tc," ").concat(vu)]},{property:"borderWidth",toSelectors:["".concat(t).concat(tc," ").concat(vu)]}],[Hr.CARD_COMPONENT_FOCUS]:[{property:"borderColor",toSelectors:["".concat(t).concat(ec," ").concat(vu)]},{property:"borderWidth",toSelectors:["".concat(t).concat(ec," ").concat(vu)]}],[Hr.CARD_INPUT_ERROR_ICON]:[{property:"color",toProperty:"backgroundColor",toSelectors:["".concat(t," ").concat(fu)]}],[Hr.CARD_INPUT_HELPER_ICON]:[{property:"color",toProperty:"backgroundColor",toSelectors:["".concat(t," ").concat(mu)]}]}}}(t),Hr)}var Su={addStyleElement:function(e,t,r,n){Iu(e,t,document.head).then(r).catch(n)},addStyleElementToTarget:Iu,hasExistingStyleElement:function(e){return Boolean(document.getElementById(e))}};function Iu(e,t,r){return new Promise(((n,i)=>{if(Su.hasExistingStyleElement(t))n();else{var o=document.createElement("link");o.onload=()=>{n()},o.onerror=()=>{i(new Error("Failed to load stylesheet at ".concat(e,". The onerror callback was invoked.")))},o.href=e,o.rel="stylesheet",o.type="text/css",o.id=t,r.appendChild(o)}}))}var Au=Su;function Ou(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Cu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ou(Object(r),!0).forEach((function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ou(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Tu(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function bu(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){Tu(o,n,i,s,a,"next",e)}function a(e){Tu(o,n,i,s,a,"throw",e)}s(void 0)}))}}var wu="single-card-wrapper",Ru="emptyMessage",Pu=[jr.CARD_NUMBER,jr.EXPIRATION_DATE,jr.CVV,jr.POSTAL_CODE];function Nu(e){return"".concat(wu,"-").concat(e)}function Du(e,t){var r=function(e){return"".concat("sq-single-card-custom-styles","-").concat(e)}(t),n=document.getElementById(r);null===n&&((n=document.createElement("style")).id=r,document.head.appendChild(n)),n.innerHTML=_u(e,Nu(t))}var Lu,xu=class extends Gs{constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e),this.methodType=ei.CARD,this.postalCountry=_o.US,this.onResize=this.onResize.bind(this),this.id=Ms(),this.iframeName="".concat("single-card","-").concat(this.id),this.paymentMessenger=new Vs(this.context),this.tokenizeInProcess=!1,this.inputLabelsIncluded=Boolean(t.includeInputLabels),this.initializeMessageBus(),this.errorList=new Set,this.updateCardDetailText=this.updateCardDetailText.bind(this),this.context.addLocaleChangedListener(this.updateCardDetailText),this.validateOptions(t),this.initialOptions=t,this.stylesLoadedPromise=new Promise(((e,t)=>{this.resolveStylePromise=e,this.rejectStylePromise=t}))}configure(){var e=arguments,t=this;return bu((function*(){var r=e.length>0&&void 0!==e[0]?e[0]:{};t.throwIfDestroyedOrNotAttached(),t.validateOptions(r),t.metricsHandler.logEvent(ro.ConfigUpdated,r),void 0!==r.includeInputLabels&&(t.inputLabelsIncluded=Boolean(r.includeInputLabels),t.onResize()),void 0!==r.style&&Du(r.style,t.id);try{yield t.paymentMessenger.request(ja.CONFIGURE,{includeInputLabels:t.inputLabelsIncluded,postalCode:r.postalCode,style:r.style,type:t.methodType})}catch(e){if(bi.isInstanceOf(e,Ga))throw e;throw t.errorLogger.captureException(e),new Gn("configuring the Card Element")}}))()}attach(e){var t=this;return bu((function*(){var r;t.throwIfDestroyedOrAlreadyAttached(),t.status=js.ATTACHED,t.metricsHandler.logEvent(eo.AttachStart),t.metricsHandler.logEvent(ro.Configured,t.initialOptions);try{r=Wa(e)}catch(e){throw t.metricsHandler.logEvent(eo.AttachError),t.status===js.ATTACHED&&(t.status=js.DETACHED),e}try{t.attachPromise=t.buildElementOnIframe(r),yield t.attachPromise,t.attachPromise=void 0,t.throwIfDestroyed(),t.element=r,window.addEventListener("resize",t.onResize),t.showCardElement(),t.onResize(),t.metricsHandler.logEvent(eo.AttachOK)}catch(e){if(t.status===js.ATTACHED&&(t.status=js.DETACHED),t.metricsHandler.logEvent(eo.AttachError),bi.isInstanceOf(e,Ba))throw e;throw t.errorLogger.captureException(e),new Gn("attaching the Card Element")}}))()}detach(){return this.throwIfDestroyed(),this.detachElement(js.DETACHED,ro.Detached)}destroy(){var e=this;return bu((function*(){if(e.status===js.DESTROYED)return!1;var t=yield e.detachElement(js.DESTROYED,ro.Destroyed);return e.context.removeLocaleChangedListener(e.updateCardDetailText),t}))()}focus(e){var t=this;return bu((function*(){if(t.throwIfDestroyedOrNotAttached(),!Object.values(jr).includes(e))throw new vn(e);t.metricsHandler.logEvent(ro.Focused,e);try{return yield t.paymentMessenger.request(ja.SET_FOCUS,{field:e})}catch(e){t.errorLogger.captureException(e)}return!1}))()}clear(){var e=this;return bu((function*(){e.throwIfDestroyedOrNotAttached();try{return yield e.paymentMessenger.request(ja.CLEAR)}catch(t){e.errorLogger.captureException(t)}return e.metricsHandler.logEvent(ro.Clear),!1}))()}addEventListener(e,t){this.throwIfDestroyed(),this.metricsHandler.logEvent(ro.EventListenerAdded,e),super.addEventListener(e,t)}removeEventListener(e,t){this.throwIfDestroyed(),super.removeEventListener(e,t)}tokenize(){var e=this;return bu((function*(){if(e.throwIfDestroyedOrNotAttached(),e.tokenizeInProcess)throw new Bn([qs]);e.tokenizeInProcess=!0,yield e.context.refreshWithCurrentAnalyticsToken();try{var t=yield e.paymentMessenger.request(ja.REQUEST_CARD_NONCE_IF_VALID_FORM,{type:e.methodType});return e.tokenizeInProcess=!1,e.context.setPaymentMethodTrackingId(t.paymentMethodTrackingId),yield e.context.updateSession(t.sessionId),function(e){var{card:t,billingContact:r,cardNonce:n}=e;return{details:{card:t,method:ei.CARD,billing:r},status:ri.OK,token:n}}(t)}catch(t){if(e.tokenizeInProcess=!1,t instanceof ji)return{errors:t.errors,status:ri.INVALID};throw bi.isInstanceOf(t,Fa)?t:(e.errorLogger.captureException(t),Hi())}}))()}recalculateSize(){this.throwIfDestroyedOrNotAttached(),this.metricsHandler.logEvent(ro.RecalculatedSize),this.onResize()}setError(e){var t=this;return bu((function*(){if(t.throwIfDestroyedOrNotAttached(),!Object.values(jr).includes(e))throw new vn(e);t.metricsHandler.logEvent(ro.SetError,e);try{return yield t.paymentMessenger.request(ja.SET_ERROR,{field:e})}catch(e){t.errorLogger.captureException(e)}return!1}))()}buildElementOnIframe(e){var t=this;return bu((function*(){yield t.buildCardElement(e),yield t.paymentMessenger.request(ja.LOAD_CARDS_FORM,{configuration:Cu(Cu({},t.initialOptions),{},{type:t.methodType}),iframeName:t.iframeName}),yield t.stylesLoadedPromise}))()}validateOptions(e){var t={includeInputLabels:e=>"boolean"==typeof e,postalCode:e=>"string"==typeof e,style:e=>"object"==typeof e};Object.entries(e).forEach((e=>{var[r,n]=e;if(void 0===t[r])throw new yn(r);if(t[r]&&!t[r](n))throw new En(r,n)}))}buildErrorMessage(e){switch(e){case jr.CARD_NUMBER:return this.context.getLocaleString().paymentMethods.cards.errors.cardNumberError;case jr.CVV:return this.context.getLocaleString().paymentMethods.cards.errors.cvvError;case jr.EXPIRATION_DATE:return this.context.getLocaleString().paymentMethods.cards.errors.expirationDateError;case jr.POSTAL_CODE:return this.context.getLocaleString().paymentMethods.cards.errors.postalCodeErrors[this.postalCountry];default:return""}}buildHelperMessage(e){switch(e){case jr.CARD_NUMBER:return this.context.getLocaleString().paymentMethods.cards.helperText.cardNumber;case jr.CVV:return this.context.getLocaleString().paymentMethods.cards.helperText.cvv;case jr.EXPIRATION_DATE:return this.context.getLocaleString().paymentMethods.cards.helperText.expirationDate;case jr.POSTAL_CODE:return this.context.getLocaleString().paymentMethods.cards.helperText.postalCodes[this.postalCountry];default:return""}}updateCardDetailText(){var e,t,r;this.cardDetail&&(0===this.errorList.size?(e=null!==(r=this.focusedInput)&&void 0!==r?r:Ru,t=this.buildHelperMessage(e),this.cardDetail.classList.remove(tu),this.cardDetail.classList.add(ru)):(e=Pu.find((e=>this.errorList.has(e)))||Ru,t=this.buildErrorMessage(e),this.cardDetail.classList.add(tu),this.cardDetail.classList.remove(ru)),this.cardDetail.textContent!==t&&(this.cardDetail.textContent=t),t.length>0?this.cardDetail.classList.add(nu):this.cardDetail.classList.remove(nu))}addErrorMessage(e){this.errorList.add(e),this.updateCardDetailText()}removeErrorMessage(e){this.errorList.has(e)&&(this.errorList.delete(e),this.updateCardDetailText())}addFocusMessage(e){this.focusedInput=e,this.updateCardDetailText()}removeFocusMessage(e){this.focusedInput===e&&(this.focusedInput=null),setTimeout((()=>{null===this.focusedInput&&this.updateCardDetailText()}),50)}removeFocusClass(){setTimeout((()=>{var e;this.focusedInput||null===(e=this.wrapperElement)||void 0===e||e.classList.remove(Za)}),50)}removeErrorClass(){var e;0===this.errorList.size&&(null===(e=this.wrapperElement)||void 0===e||e.classList.remove(Ja))}handleInputEvent(e){var{data:t}=e,r=t.payload.body;switch(r.eventType){case Ur.ERROR_CLASS_ADDED:var n;this.addErrorMessage(r.field),null===(n=this.wrapperElement)||void 0===n||n.classList.add(Ja);break;case Ur.ERROR_CLASS_REMOVED:this.removeErrorMessage(r.field),this.removeErrorClass();break;case Ur.FOCUS_CLASS_ADDED:var i;this.addFocusMessage(r.field),null===(i=this.wrapperElement)||void 0===i||i.classList.add(Za);break;case Ur.FOCUS_CLASS_REMOVED:this.removeFocusMessage(r.field),this.removeFocusClass()}super.dispatchEvent(r.eventType,r)}handleSetPostalCountry(e){var{data:t}=e;this.postalCountry=t.payload.body.postalCountry}initializeMessageBus(){var e=this.handleInputEvent.bind(this),t=this.handleSetPostalCountry.bind(this),r={[Ha.SET_POSTAL_COUNTRY]:t,[Ha.FOCUS_CLASS_ADDED]:e,[Ha.FOCUS_CLASS_REMOVED]:e,[Ha.ERROR_CLASS_ADDED]:e,[Ha.ERROR_CLASS_REMOVED]:e,[Ha.CARD_BRAND_CHANGED]:e,[Ha.POSTAL_CODE_CHANGED]:e,[Ha.SUBMIT]:e,[Ha.ESCAPE]:e};this.paymentMessenger.initializeMessageBus(r)}buildCardIframe(e){return qa({frameborder:"0",height:"0px",name:this.iframeName,scrolling:"no",src:l.SINGLE_CARD_IFRAME,width:"100%"},e)}hideCardElement(){this.wrapperElement&&this.wrapperElement.setAttribute("style","display: none;")}showCardElement(){this.wrapperElement&&this.wrapperElement.removeAttribute("style")}buildCardElement(e){var t=this;return bu((function*(){var r;t.wrapperElement=document.createElement("div"),t.wrapperElement.id=Nu(t.id),t.wrapperElement.classList.add(Zc),t.hideCardElement(),t.cardDetail=document.createElement("span"),t.cardDetail.classList.add(eu),e.appendChild(t.wrapperElement),t.iframeContainer=document.createElement("div"),t.iframeContainer.classList.add(Xc),t.wrapperElement.appendChild(t.iframeContainer),t.iframe=yield t.buildCardIframe(t.iframeContainer),t.iframe.classList.add(Jc),t.wrapperElement.appendChild(t.cardDetail),Au.addStyleElement(l.SINGLE_CARD_WRAPPER_STYLES,"sq-single-card-styles",t.resolveStylePromise,t.rejectStylePromise),null!==(r=t.initialOptions)&&void 0!==r&&r.style&&Du(t.initialOptions.style,t.id)}))()}onResize(e){if(this.iframe&&this.wrapperElement&&this.iframeContainer&&(this.lastResizeWidth=this.iframe.clientWidth,!this.currentResizeTimeout)){var t=e=>{if(this.wrapperElement&&this.iframe&&this.iframeContainer){var t=this.inputLabelsIncluded?62:48;e<=482&&(t=2*t+1),this.iframeContainer.style.height="".concat(Math.round(t),"px"),this.iframe.height="".concat(Math.round(t),"px")}};t(this.lastResizeWidth||0),this.currentResizeTimeout=window.setTimeout((()=>{t(this.lastResizeWidth||0),this.currentResizeTimeout=void 0}),100)}}detachElement(e,t){var r=this;return bu((function*(){var n=r.status;if(r.attachPromise)try{yield r.attachPromise}catch(e){}try{var i=yield r.paymentMessenger.request(ja.DESTROY);return r.element&&(Va(r.element),window.removeEventListener("resize",r.onResize)),r.status=e,r.metricsHandler.logEvent(t),i}catch(e){throw r.status=n,e}}))()}},ku=[Mn,Un,jn,Hn,Pn,Gn];function Mu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Uu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mu(Object(r),!0).forEach((function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ju(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function Hu(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){ju(o,n,i,s,a,"next",e)}function a(e){ju(o,n,i,s,a,"throw",e)}s(void 0)}))}}!function(e){e.CLEAR="giftCardClear",e.CONFIGURE="giftCardConfigure",e.DESTROY="giftCardDestroy",e.LOAD_GIFT_CARDS_FORM="loadGiftCardsForm",e.REQUEST_CARD_NONCE_IF_VALID_FORM="giftCardRequestCardNonceIfValidForm",e.SET_FOCUS="giftCardSetFocus",e.SET_ERROR="giftCardSetError"}(Lu||(Lu={}));var Bu,Gu="gift-card-wrapper",Fu=[Br.GIFT_CARD_NUMBER];class qu extends Gs{constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e),this.methodType=ei.GIFT_CARD,this.onResize=this.onResize.bind(this),this.id=Ms(),this.iframeName="".concat("gift-card","-").concat(this.id),this.paymentMessenger=new Vs(this.context),this.tokenizeInProcess=!1,this.inputLabelsIncluded=Boolean(null==t?void 0:t.includeInputLabels),this.initializeMessageBus(),this.validateOptions(t),this.initialOptions=t||{},this.errorList=new Set,this.stylesLoadedPromise=new Promise(((e,t)=>{this.resolveStylePromise=e,this.rejectStylePromise=t}))}attach(e){var t=this;return Hu((function*(){var r;t.throwIfDestroyedOrAlreadyAttached(),t.status=js.ATTACHED,t.metricsHandler.logEvent(eo.AttachStart),t.metricsHandler.logEvent(ro.Configured,t.initialOptions);try{r=Wa(e)}catch(e){throw t.metricsHandler.logEvent(eo.AttachError),t.status===js.ATTACHED&&(t.status=js.DETACHED),e}try{t.attachPromise=t.buildElementOnIframe(r),yield t.attachPromise,t.attachPromise=void 0,t.throwIfDestroyed(),t.element=r,window.addEventListener("resize",t.onResize),t.showCardElement(),t.onResize(),t.metricsHandler.logEvent(eo.AttachOK)}catch(e){if(t.status===js.ATTACHED&&(t.status=js.DETACHED),t.metricsHandler.logEvent(eo.AttachError),bi.isInstanceOf(e,ku))throw e;throw t.errorLogger.captureException(e),new Gn("attaching the Gift Card Element")}}))()}detach(){return this.throwIfDestroyed(),this.detachElement(js.DETACHED,ro.Detached)}destroy(){return this.status===js.DESTROYED?Promise.resolve(!1):this.detachElement(js.DESTROYED,ro.Destroyed)}configure(e){var t=this;return Hu((function*(){t.throwIfDestroyedOrNotAttached(),t.validateOptions(e),void 0!==(null==e?void 0:e.includeInputLabels)&&(t.inputLabelsIncluded=Boolean(null==e?void 0:e.includeInputLabels),t.onResize()),void 0!==e.style&&zu(e.style,t.id),t.metricsHandler.logEvent(ro.ConfigUpdated,e);try{yield t.paymentMessenger.request(Lu.CONFIGURE,{includeInputLabels:t.inputLabelsIncluded,style:e.style,type:t.methodType})}catch(e){if(bi.isInstanceOf(e,Ga))throw e;throw t.errorLogger.captureException(e),new Gn("configuring the Gift Card Element")}}))()}focus(e){var t=this;return Hu((function*(){if(t.throwIfDestroyedOrNotAttached(),!Object.values(Br).includes(e))throw new vn(e);t.metricsHandler.logEvent(ro.Focused,e);try{return yield t.paymentMessenger.request(Lu.SET_FOCUS,{field:e})}catch(e){t.errorLogger.captureException(e)}return!1}))()}clear(){var e=this;return Hu((function*(){e.throwIfDestroyedOrNotAttached();try{return yield e.paymentMessenger.request(Lu.CLEAR)}catch(t){e.errorLogger.captureException(t)}return e.metricsHandler.logEvent(ro.Clear),!1}))()}addEventListener(e,t){this.throwIfDestroyed(),this.metricsHandler.logEvent(ro.EventListenerAdded,e),super.addEventListener(e,t)}removeEventListener(e,t){this.throwIfDestroyed(),super.removeEventListener(e,t)}tokenize(){var e=this;return Hu((function*(){if(e.throwIfDestroyedOrNotAttached(),e.tokenizeInProcess)throw new Bn([qs]);e.tokenizeInProcess=!0,yield e.context.refreshWithCurrentAnalyticsToken();try{var t=yield e.paymentMessenger.request(Lu.REQUEST_CARD_NONCE_IF_VALID_FORM,{type:e.methodType});return e.tokenizeInProcess=!1,e.context.setPaymentMethodTrackingId(t.paymentMethodTrackingId),yield e.context.updateSession(t.sessionId),function(e){var{card:t,cardNonce:r}=e;return{details:{giftCard:t,method:ei.GIFT_CARD},status:ri.OK,token:r}}(t)}catch(t){if(e.tokenizeInProcess=!1,t instanceof ji)return{errors:t.errors,status:ri.INVALID};throw bi.isInstanceOf(t,Fa)?t:(e.errorLogger.captureException(t),Hi())}}))()}setError(e){var t=this;return Hu((function*(){if(t.throwIfDestroyedOrNotAttached(),!Object.values(Br).includes(e))throw new vn(e);t.metricsHandler.logEvent(ro.SetError,e);try{return yield t.paymentMessenger.request(Lu.SET_ERROR,{field:e})}catch(e){t.errorLogger.captureException(e)}return!1}))()}buildElementOnIframe(e){var t=this;return Hu((function*(){yield t.buildCardElement(e),yield t.paymentMessenger.request(Lu.LOAD_GIFT_CARDS_FORM,{configuration:Uu(Uu({},t.initialOptions),{},{type:t.methodType}),iframeName:t.iframeName}),yield t.stylesLoadedPromise}))()}validateOptions(e){var t={includeInputLabels:e=>"boolean"==typeof e,style:e=>"object"==typeof e};Object.entries(e).forEach((e=>{var[r,n]=e;if(void 0===t[r])throw new yn(r);if(t[r]&&!t[r](n))throw new En(r,n)}))}buildCardElement(e){var t=this;return Hu((function*(){var r;t.wrapperElement=document.createElement("div"),t.wrapperElement.id=Vu(t.id),t.wrapperElement.classList.add(Zc),t.hideCardElement(),t.cardDetail=document.createElement("span"),t.cardDetail.classList.add(eu),e.appendChild(t.wrapperElement),t.iframeContainer=document.createElement("div"),t.iframeContainer.classList.add(Xc),t.wrapperElement.appendChild(t.iframeContainer),t.iframe=yield t.buildCardIframe(t.iframeContainer),t.iframe.classList.add(Jc),t.wrapperElement.appendChild(t.cardDetail),Au.addStyleElement(l.SINGLE_CARD_WRAPPER_STYLES,"sq-single-card-styles",t.resolveStylePromise,t.rejectStylePromise),null!==(r=t.initialOptions)&&void 0!==r&&r.style&&zu(t.initialOptions.style,t.id)}))()}buildCardIframe(e){return qa({frameborder:"0",height:"0px",name:this.iframeName,scrolling:"no",src:l.GIFT_CARD_IFRAME,width:"100%"},e)}hideCardElement(){this.wrapperElement&&this.wrapperElement.setAttribute("style","display: none;")}showCardElement(){this.wrapperElement&&this.wrapperElement.removeAttribute("style")}onResize(e){if(this.iframe&&this.wrapperElement&&this.iframeContainer&&!this.currentResizeTimeout){var t=()=>{if(this.wrapperElement&&this.iframe&&this.iframeContainer){var e=this.inputLabelsIncluded?62:48;e+=2,this.iframe.style.height="".concat(e,"px"),this.iframeContainer.style.height="".concat(Math.round(e),"px")}};t(),this.currentResizeTimeout=window.setTimeout((()=>{t(),this.currentResizeTimeout=void 0}),100)}}updateCardDetailText(){var e,t,r;this.cardDetail&&(0===this.errorList.size?(e=null!==(r=this.focusedInput)&&void 0!==r?r:"emptyMessage",t=this.buildHelperMessage(e),this.cardDetail.classList.remove(tu),this.cardDetail.classList.add(ru)):(e=Fu.find((e=>this.errorList.has(e)))||Fu[0],t=this.buildErrorMessage(e),this.cardDetail.classList.add(tu),this.cardDetail.classList.remove(ru)),this.cardDetail.textContent!==t&&(this.cardDetail.textContent=t),t.length>0?this.cardDetail.classList.add(nu):this.cardDetail.classList.remove(nu))}addErrorMessage(e){this.errorList.add(e),this.updateCardDetailText()}removeErrorMessage(e){this.errorList.has(e)&&(this.errorList.delete(e),this.updateCardDetailText())}addFocusMessage(e){this.focusedInput=e,this.updateCardDetailText()}removeFocusMessage(e){this.focusedInput===e&&(this.focusedInput=null),setTimeout((()=>{null===this.focusedInput&&this.updateCardDetailText()}),50)}handleInputEvent(e){var{data:t}=e,r=t.payload.body;switch(r.eventType){case Gr.ERROR_CLASS_ADDED:var n;this.addErrorMessage(r.field),null===(n=this.wrapperElement)||void 0===n||n.classList.add(Ja);break;case Gr.ERROR_CLASS_REMOVED:this.removeErrorMessage(r.field),this.removeErrorClass();break;case Gr.FOCUS_CLASS_ADDED:var i;this.addFocusMessage(r.field),null===(i=this.wrapperElement)||void 0===i||i.classList.add(Za);break;case Gr.FOCUS_CLASS_REMOVED:this.removeFocusMessage(r.field),this.removeFocusClass()}super.dispatchEvent(r.eventType,r)}removeFocusClass(){setTimeout((()=>{var e;this.focusedInput||null===(e=this.wrapperElement)||void 0===e||e.classList.remove(Za)}),50)}removeErrorClass(){var e;0===this.errorList.size&&(null===(e=this.wrapperElement)||void 0===e||e.classList.remove(Ja))}initializeMessageBus(){var e=this.handleInputEvent.bind(this),t={[Ha.FOCUS_CLASS_ADDED]:e,[Ha.FOCUS_CLASS_REMOVED]:e,[Ha.ERROR_CLASS_ADDED]:e,[Ha.ERROR_CLASS_REMOVED]:e,[Ha.CARD_BRAND_CHANGED]:e,[Ha.SUBMIT]:e,[Ha.ESCAPE]:e};this.paymentMessenger.initializeMessageBus(t)}buildErrorMessage(e){return e===Br.GIFT_CARD_NUMBER?this.context.getLocaleString().paymentMethods.giftCards.errors.giftCardNumberError:""}buildHelperMessage(e){return e===Br.GIFT_CARD_NUMBER?this.context.getLocaleString().paymentMethods.giftCards.helperText.giftCardNumber:""}detachElement(e,t){var r=this;return Hu((function*(){var n=r.status;if(r.attachPromise)try{yield r.attachPromise}catch(e){}try{var i=yield r.paymentMessenger.request(Lu.DESTROY);return r.element&&(Va(r.element),window.removeEventListener("resize",r.onResize)),r.status=e,r.metricsHandler.logEvent(t),i}catch(e){throw r.status=n,e}}))()}}function Vu(e){return"".concat(Gu,"-").concat(e)}function zu(e,t){var r=function(e){return"".concat("sq-gift-card-custom-styles","-").concat(e)}(t),n=document.getElementById(r);null===n&&((n=document.createElement("style")).id=r,document.head.appendChild(n)),n.innerHTML=_u(e,Vu(t))}r(3105),function(e){e.REQUEST_GOOGLE_PAY_CARD_NONCE="REQUEST_GOOGLE_PAY_CARD_NONCE",e.GENERATE_GOOGLE_PAY_AUTH_TOKEN="GENERATE_GOOGLE_PAY_AUTH_TOKEN"}(Bu||(Bu={}));class Yu extends Jr{constructor(e){super("The event listener for ".concat(e," timed out (30 seconds). If you've returned a promise, ensure it is resolving")),this.name="EventListenerTimeoutError",Object.setPrototypeOf(this,Yu.prototype)}}function $u(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}class Ku extends ks{constructor(){super(),this.listeners={},this.listeners={}}dispatchEvent(e,t,r){var n,i=this;return(n=function*(){if(e in i.listeners)for(var n=new ai(e,t),o=[...i.listeners[e]],s=function*(){var t,i;try{t=o[a](n)}catch(t){throw new gn(e,t.message)}if(t instanceof Promise)try{i=yield Tr((()=>t),3e4,new Yu(e))}catch(t){if(t instanceof Yu)throw t;throw new gn(e,t.message)}else i=t;r&&r(i)},a=0,c=o.length;a<c;a++)yield*s()},function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function s(e){$u(o,r,i,s,a,"next",e)}function a(e){$u(o,r,i,s,a,"throw",e)}s(void 0)}))})()}}function Wu(e,t){if("object"!=typeof e)return{isValid:!1,missingFields:[]};var r=[];return{isValid:Object.entries(t).map((n=>{var[i,o]=n;if("object"==typeof o){var{isValid:s,missingFields:a}=Wu("object"==typeof e[i]?e[i]:{},t[i]);return a.forEach((e=>{var[t,n]=e;r.push(["".concat(i,".").concat(t),n])})),s}return i in e&&typeof e[i]===o||(r.push([i,o]),!1)})).every(Boolean),missingFields:r}}function Qu(e,t,r){if(!Array.isArray(e))return{isValid:!1,missingFields:[[t,"Array"]]};var n=e.reduce(((e,n)=>{var i=Wu({[t]:n},{[t]:r}),o=Object.fromEntries(i.missingFields);return{isValid:e.isValid&&i.isValid,missingFieldsMap:Object.assign({},e.missingFieldsMap,o)}}),{isValid:!0,missingFieldsMap:{}});return{isValid:n.isValid,missingFields:Object.entries(n.missingFieldsMap)}}var Xu,Zu,Ju,el,tl,rl,nl,il,ol={amount:"string",label:"string"},sl={amount:"string",id:"string",label:"string"},al={amount:"string",label:"string"},cl={};function ul(e,t){var{lineItems:r,taxLineItems:n,discounts:i,shippingLineItems:o}=e,s=!1,a=[],c=r,u=n,l=o,d=ll(i);return void 0===t||void 0===r&&void 0===n&&void 0===o&&void 0===d||(c||(c=t.lineItems),u||(u=t.taxLineItems),d||(d=ll(t.discounts)),l||(l=t.shippingLineItems)),[c,u,d,l].forEach((e=>{void 0!==e&&(s=!0,a.push(...e))})),s?a:void 0}function ll(e){return void 0===e?e:e.map((e=>Object.assign({},e,{amount:"-".concat(e.amount)})))}function dl(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function hl(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){dl(o,n,i,s,a,"next",e)}function a(e){dl(o,n,i,s,a,"throw",e)}s(void 0)}))}}function pl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}!function(e){e.UPDATE="update"}(Xu||(Xu={}));class fl{constructor(e,t,r){this.eventTarget=new Ku,this.metricsBuffer=[],this.localeStrings=t,this._requestBillingContact=Boolean(e.requestBillingContact),this._requestShippingContact=Boolean(e.requestShippingContact),this._countryCode=e.countryCode,this._currencyCode=e.currencyCode,this._lineItems=e.lineItems,this._shippingLineItems=e.shippingLineItems,this._taxLineItems=e.taxLineItems,this._discounts=e.discounts,this._total=e.total,this._shippingOptions=e.shippingOptions,this._shippingContact=e.shippingContact,this._pickupContact=e.pickupContact,this.updateLock=r;var{isValid:n,missingFields:i}=ml(this);if(!n)throw new pn(i)}get requestBillingContact(){return this._requestBillingContact}get requestShippingContact(){return this._requestShippingContact}get countryCode(){return this._countryCode}get currencyCode(){return this._currencyCode}get lineItems(){return this._lineItems}get pickupContact(){return this._pickupContact}get shippingLineItems(){return this._shippingLineItems}get taxLineItems(){return this._taxLineItems}get discounts(){return this._discounts}get total(){return this._total}get shippingOptions(){return this._shippingOptions}get shippingContact(){return this._shippingContact}update(e){var t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pl(Object(r),!0).forEach((function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({countryCode:this.countryCode,currencyCode:this.currencyCode,lineItems:this.lineItems,shippingLineItems:this.shippingLineItems,taxLineItems:this.taxLineItems,discounts:this.discounts,pickupContact:this.pickupContact,requestBillingContact:this.requestBillingContact,requestShippingContact:this.requestShippingContact,shippingContact:this.shippingContact,shippingOptions:this.shippingOptions,total:this.total},e),r=new fl(t,this.localeStrings,this.updateLock),{isValid:n,missingFields:i}=ml(r);if(!n)throw new pn(i);return!this.updateLock.isLocked&&(void 0!==e.requestBillingContact&&(this._requestBillingContact=Boolean(e.requestBillingContact)),void 0!==e.requestShippingContact&&(this._requestShippingContact=Boolean(e.requestShippingContact)),e.countryCode&&(this._countryCode=e.countryCode),e.currencyCode&&(this._currencyCode=e.currencyCode),e.lineItems&&(this._lineItems=e.lineItems),e.shippingLineItems&&(this._shippingLineItems=e.shippingLineItems),e.taxLineItems&&(this._taxLineItems=e.taxLineItems),e.discounts&&(this._discounts=e.discounts),e.total&&(this._total=e.total),e.pickupContact&&(this._pickupContact=e.pickupContact),e.shippingOptions&&(this._shippingOptions=e.shippingOptions),e.shippingContact&&(this._shippingContact=e.shippingContact),this.eventTarget.dispatchEvent(Xu.UPDATE,r),this.logMetrics(ro.ConfigUpdated,t),!0)}addEventListener(e,t){switch(bi.enumValues(ti).includes(e)&&this.logMetrics(ro.EventListenerAdded,e),e){case ti.SHIPPING_CONTACT_CHANGED:this.shippingContactEventListener(t);break;case ti.SHIPPING_OPTION_CHANGED:this.shippingOptionEventListener(t);break;case Xu.UPDATE:this.updateEventListener(t);break;case Zr.AFTERPAY_SHIPPING_ADDRESS_CHANGED:this.afterpayShippingContactEventListener(t);break;case Zr.AFTERPAY_SHIPPING_OPTION_CHANGED:this.afterpayShippingOptionEventListener(t);break;default:throw new Ls("PaymentRequest.addEventListener","event","PaymentRequestEvent")}}dispatchEvent(e,t,r){return this.eventTarget.dispatchEvent(e,t,(t=>{if(bi.enumValues(Zr).includes(e)){var n=function(e){if(void 0!==e.error)return{isValid:!0,missingFields:[]};if(void 0!==e.shippingErrors)return{isValid:!0,missingFields:[]};if(void 0===e.shippingOptions)return{isValid:!1,missingFields:[["paymentRequestUpdate.shippingOptions","array"]]};var t=Qu(e.shippingOptions,"shippingOptions",{id:"string",label:"string",amount:"string",total:"object"});if(!t.isValid)return t;for(var r of e.shippingOptions){if(!(t=Wu({"shippingOptions.total":r.total},{"shippingOptions.total":al})).isValid)return t;if(void 0!==r.taxLineItems&&!(t=Qu(r.taxLineItems,"shippingOptions.taxLineItems",ol)).isValid)return t}return{isValid:!0,missingFields:[]}}(t);if(!n.isValid)throw new fn(n.missingFields);r(t)}else{var i=function(e){var{lineItems:t,discounts:r,taxLineItems:n,shippingLineItems:i,shippingErrors:o,shippingOptions:s,error:a,total:c}=e;if(t){var u=Qu(t,"lineItem",ol);if(!u.isValid)return u}if(r){var l=Qu(r,"discounts",ol);if(!l.isValid)return l}if(n){var d=Qu(n,"taxLineItems",ol);if(!d.isValid)return d}if(i){var h=Qu(i,"shippingLineItems",ol);if(!h.isValid)return h}if(s){var p=Qu(s,"shippingOption",sl);if(!p.isValid)return p}if(c){var f=Wu({total:c},{total:al});if(!f.isValid)return f}if(a&&"string"!=typeof a)return{isValid:!1,missingFields:[["error","string"]]};if(o){var g=Wu(o,cl);if(!g.isValid)return g}return{isValid:!0,missingFields:[]}}(t);if(!i.isValid)throw new fn(i.missingFields);r(t)}}))}hasEventListener(e){return this.eventTarget.hasEventListener(e)}setMetricsHandler(e){this.metricsHandler=e,this.metricsBuffer.length>0&&(this.metricsBuffer.forEach((t=>{var[r,n]=t;e.logEvent(r,n)})),this.metricsBuffer=[])}shippingContactEventListener(e){var t=this;this.eventTarget.addEventListener(ti.SHIPPING_CONTACT_CHANGED,function(){var r=hl((function*(r){var{contactOrOption:n}=r.detail;try{return yield e(n)}catch(e){return console.error("ShippingContactUpdateError",e),{error:t.localeStrings.getLocaleString().paymentMethods.wallets.callbackErrors.optionsError}}}));return function(e){return r.apply(this,arguments)}}())}shippingOptionEventListener(e){var t=this;this.eventTarget.addEventListener(ti.SHIPPING_OPTION_CHANGED,function(){var r=hl((function*(r){var{contactOrOption:n}=r.detail;try{return yield e(n)}catch(e){return console.error("ShippingOptionUpdateError",e),{error:t.localeStrings.getLocaleString().paymentMethods.wallets.callbackErrors.optionsError}}}));return function(e){return r.apply(this,arguments)}}())}afterpayShippingContactEventListener(e){var t=this;this.eventTarget.addEventListener(Zr.AFTERPAY_SHIPPING_ADDRESS_CHANGED,function(){var r=hl((function*(r){var{contactOrOption:n}=r.detail;try{return yield e(n)}catch(e){return console.error("AfterpayShippingContactUpdateError",e),{error:t.localeStrings.getLocaleString().paymentMethods.wallets.callbackErrors.optionsError}}}));return function(e){return r.apply(this,arguments)}}())}afterpayShippingOptionEventListener(e){this.eventTarget.addEventListener(Zr.AFTERPAY_SHIPPING_OPTION_CHANGED,(t=>{e(t.detail.contactOrOption)}))}updateEventListener(e){this.eventTarget.addEventListener(Xu.UPDATE,(t=>{e(t.detail)}))}logMetrics(e,t){this.metricsHandler?this.metricsHandler.logEvent(e,t):this.metricsBuffer.push([e,t])}}function gl(e){return Boolean(e.shippingOptions&&e.shippingOptions.length>0)}function ml(e){return Wu(e,{countryCode:"string",currencyCode:"string",total:{amount:"string",label:"string"}})}function vl(e,t){return Intl.NumberFormat(a.windowNavigationLanguage,{currency:t,style:"currency"}).format(Number.parseFloat(e))}!function(e){e.Final="FINAL",e.Estimated="ESTIMATED",e.Unknown="NOT_CURRENTLY_KNOWN"}(Zu||(Zu={})),function(e){e.INITIALIZE="INITIALIZE",e.PAYMENT_AUTHORIZATION="PAYMENT_AUTHORIZATION",e.SHIPPING_ADDRESS="SHIPPING_ADDRESS",e.SHIPPING_OPTION="SHIPPING_OPTION"}(Ju||(Ju={})),function(e){e.FULL="FULL",e.MIN="MIN"}(el||(el={})),function(e){e.CARD="CARD"}(tl||(tl={})),function(e){e.PAYMENT_GATEWAY="PAYMENT_GATEWAY"}(rl||(rl={})),function(e){e.SUCCESS="SUCCESS"}(nl||(nl={})),function(e){e.TEST="TEST",e.PRODUCTION="PRODUCTION"}(il||(il={}));var yl=["PAN_ONLY","CRYPTOGRAM_3DS"],El=["AMEX","DISCOVER","JCB","MASTERCARD","VISA"],_l="LINE_ITEM";function Sl(e){return{label:e.label,price:e.amount,status:e.pending?Zu.Estimated:Zu.Final,type:_l}}function Il(e,t){var r=null!=t?t:e;return r?r.map((e=>Sl(e))):[]}function Al(e,t){return t.map((t=>function(e,t){return{description:vl(t.amount,e),id:t.id,label:t.label}}(e,t)))}function Ol(e,t,r,n){var i=null!=n?n:r;if(i&&i.length>0){var o={shippingOptions:Al(e,i)};return i.some((e=>(null==e?void 0:e.id)===t))&&(o.defaultSelectedOptionId=t),o}}function Cl(e,t){return null==t?void 0:t.find((t=>t.id===e))}function Tl(e,t,r,n,i,o){var{countryCode:s,currencyCode:a,total:c,lineItems:u,taxLineItems:l,discounts:d,requestBillingContact:h,requestShippingContact:p,shippingOptions:f}=t,g=gl(t),m=Boolean(p||g),v=Object.assign({},e,{emailRequired:Boolean(h),merchantInfo:i,shippingAddressRequired:m,shippingOptionRequired:g,transactionInfo:{countryCode:s,currencyCode:a,totalPrice:c.amount,totalPriceLabel:c.label,totalPriceStatus:n}});if(u&&u.length>0&&(v.transactionInfo.displayItems=Il([],ul({lineItems:u,taxLineItems:l,discounts:d},t))),m&&(v.shippingAddressParameters={phoneNumberRequired:!0}),g){var y=Ol(a,o,[],f);y&&(v.shippingOptionParameters=y)}return r.length>0&&(v.callbackIntents=r),v}function bl(e,t){var r=[];return e.error&&r.push({intent:t,message:e.error,reason:Jn.SHIPPING_ADDRESS_UNSERVICEABLE}),e.shippingErrors&&Object.entries(e.shippingErrors).forEach((e=>{var[n,i]=e;r.push({intent:t,message:"".concat(n,": ").concat(i),reason:Jn.SHIPPING_ADDRESS_INVALID})})),r}function wl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Rl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wl(Object(r),!0).forEach((function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Pl(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function Nl(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){Pl(o,n,i,s,a,"next",e)}function a(e){Pl(o,n,i,s,a,"throw",e)}s(void 0)}))}}var Dl=["#google"];class Ll extends Gs{constructor(e,t,r,n,i){var o;super(r),this.methodType=ei.GOOGLE_PAY,this.shippingOptions=void 0,this.wasFirstInteractionCalled=!1,this.validateConfiguration(),this.paymentRequestLockController=i,this.req=t,this.merchantInfo=n,this.element=null,this.paymentMethodMessenger=new Vs(r),gl(this.req)&&(this.shippingOptions=this.req.shippingOptions,this.selectedShippingOptionId=null===(o=this.req.shippingOptions)||void 0===o?void 0:o[0].id),this.callbackIntents=function(e,t){var r=[],n=gl(e)&&t.includes(ti.SHIPPING_OPTION_CHANGED),i=e.requestShippingContact&&t.includes(ti.SHIPPING_CONTACT_CHANGED);return n?r.push(Ju.SHIPPING_ADDRESS,Ju.SHIPPING_OPTION):i&&r.push(Ju.SHIPPING_ADDRESS),(!a.isAndroid()||n||i)&&r.push(Ju.PAYMENT_AUTHORIZATION),r}(this.req,this.handlers);var c,u,d,h,p=function(e,t,r,n){var i=il.TEST;l.env!==s.production||e.isTestMerchant||(i=il.PRODUCTION);var o={environment:i,merchantInfo:n},c=t.includes(Ju.SHIPPING_OPTION)||t.includes(Ju.SHIPPING_ADDRESS);if(!a.isAndroid()||c){var u={onPaymentAuthorized:()=>({transactionState:nl.SUCCESS})};c&&(u.onPaymentDataChanged=r),o.paymentDataCallbacks=u}return o}(r,this.callbackIntents,this.onPaymentDataChanged.bind(this),this.merchantInfo);this.googlePayClient=new e.api.PaymentsClient(p),this.isReadyToPayRequest=(c=this.session.applicationId,u=this.req.requestBillingContact,d=this.featureFlagHandler,h=[...El],null!=d&&d.isActive(Ii.CanUseInterac)&&h.push("INTERAC"),{allowedPaymentMethods:[{parameters:{allowedAuthMethods:yl,allowedCardNetworks:h,billingAddressParameters:{format:u?el.FULL:el.MIN,phoneNumberRequired:Boolean(u)},billingAddressRequired:!0},tokenizationSpecification:{parameters:{gateway:"square",gatewayMerchantId:c},type:rl.PAYMENT_GATEWAY},type:tl.CARD}],apiVersion:2,apiVersionMinor:0})}get handlers(){var e=[];return this.req.hasEventListener(ti.SHIPPING_OPTION_CHANGED)&&e.push(ti.SHIPPING_OPTION_CHANGED),this.req.hasEventListener(ti.SHIPPING_CONTACT_CHANGED)&&e.push(ti.SHIPPING_CONTACT_CHANGED),e}attach(e,t){var r=this;return Nl((function*(){var n,i,o;r.throwIfDestroyedOrAlreadyAttached(),r.status=js.ATTACHED;var s=null!==(n=null==t?void 0:t.buttonColor)&&void 0!==n?n:Qn.DEFAULT,a=null!==(i=null==t?void 0:t.buttonSizeMode)&&void 0!==i?i:Xn.STATIC,c=null!==(o=null==t?void 0:t.buttonType)&&void 0!==o?o:Zn.LONG;r.metricsHandler.logEvent(eo.AttachStart),r.metricsHandler.logEvent(ro.Configured,t);try{r.element=Qa(e)}catch(e){throw r.status===js.ATTACHED&&(r.status=js.DETACHED),r.metricsHandler.logEvent(eo.AttachError),e}r.isReadyToPay=yield r.checkIfReadyToPay(eo.AttachError);try{var u=r.googlePayClient.createButton({buttonColor:s,buttonSizeMode:a,buttonType:c,onClick:()=>{}});r.element.appendChild(u),r.metricsHandler.logEvent(eo.AttachOK)}catch(e){throw r.status===js.ATTACHED&&(r.status=js.DETACHED),r.errorLogger.captureException(e),r.metricsHandler.logEvent(eo.AttachError),r.status=js.DETACHED,new Rn(Ns,e)}}))()}detach(){return this.throwIfDestroyedOrNotAttached(),this.detachElement(js.DETACHED,ro.Detached),Promise.resolve(!0)}destroy(){return this.status===js.DESTROYED?Promise.resolve(!1):(this.detachElement(js.DESTROYED,ro.Destroyed),Promise.resolve(!0))}tokenize(){var e=this;return Nl((function*(){var t;e.throwIfDestroyed(),e.handleFirstInteraction(),e.metricsHandler.logEvent(to.ExternalSessionStart),e.isReadyToPay=e.isReadyToPay||(yield e.checkIfReadyToPay(to.ExternalSessionError)),e.paymentRequestLockController.lock(e);try{t=yield e.loadPaymentData(),delete e.googlePayTokenDeferred,e.metricsHandler.logEvent(to.ExternalSessionOK)}catch(t){if(delete e.googlePayTokenDeferred,e.paymentRequestLockController.unlock(e),"CANCELED"===t.statusCode)return e.metricsHandler.logEvent(to.ExternalSessionCancel),{status:ri.CANCEL};if(e.metricsHandler.logEvent(to.ExternalSessionError),t instanceof Error)throw e.errorLogger.captureException(t),t;throw e.errorLogger.captureException(new Ki(JSON.stringify(t),e.methodType)),new Gn("tokenizing Google Pay.")}var{token:r,details:n}=yield e.requestGooglePayCardNonce(t);return{details:n,status:ri.OK,token:r}}))()}validateConfiguration(){var e=Dl.join(", ");if(document.querySelectorAll(e).length>0)throw new xn(this.methodType,e)}checkIfReadyToPay(e){var t=this;return Nl((function*(){var r=!1;try{var{result:n}=yield t.googlePayClient.isReadyToPay(t.isReadyToPayRequest);r=n}catch(e){t.errorLogger.captureException(e)}if(r){var i=t.callbackIntents.length>0?Zu.Unknown:Zu.Final;return t.googlePayClient.prefetchPaymentData(Tl(t.isReadyToPayRequest,t.req,t.callbackIntents,i,t.merchantInfo,t.selectedShippingOptionId)),r}throw t.metricsHandler.logEvent(e),new Rn(Rs)}))()}loadPaymentData(){return this.googlePayTokenDeferred||(this.googlePayTokenDeferred=this.googlePayClient.loadPaymentData(Tl(this.isReadyToPayRequest,this.req,this.callbackIntents,Zu.Final,this.merchantInfo,this.selectedShippingOptionId))),this.googlePayTokenDeferred}onPaymentDataChanged(e){switch(e.callbackTrigger){case Ju.INITIALIZE:case Ju.SHIPPING_ADDRESS:return this.onPaymentDataChangedShippingAddress(e);case Ju.SHIPPING_OPTION:return this.onPaymentDataChangedShippingOption(e);default:return this.errorLogger.captureException(new Ki("Unknown callbackTrigger: ".concat(e.callbackTrigger),ei.GOOGLE_PAY)),Promise.resolve({})}}onPaymentDataChangedShippingOption(e){var t=this;return Nl((function*(){var r;t.selectedShippingOptionId=null===(r=e.shippingOptionData)||void 0===r?void 0:r.id;var{updatedOptionRequest:n,optionErrors:i}=yield t.dispatchShippingOptionChanged(t.selectedShippingOptionId,t.shippingOptions);return t.paymentDataChangedComplete(n,i)}))()}dispatchShippingOptionChanged(e,t){var r=this,n={optionErrors:[],updatedOptionRequest:{}};if(!this.handlers.includes(ti.SHIPPING_OPTION_CHANGED))return Promise.resolve(n);var i=Cl(e,t);return i?this.status===js.DESTROYED?Promise.resolve({optionErrors:[{intent:Ju.SHIPPING_OPTION,message:"An error occurred when attempting to submit payment, please close this window and try again.",reason:Jn.PAYMENT_METHOD_DESTROYED}],updatedOptionRequest:{}}):new Promise((e=>{this.req.dispatchEvent(ti.SHIPPING_OPTION_CHANGED,{contactOrOption:i},(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r.metricsHandler.logEvent(ro.EventListenerOnCompleteResponse,Rl(Rl({},t),{},{eventName:ti.SHIPPING_OPTION_CHANGED})),r.metricsHandler.logEvent(to.ShippingOptionChangeOK),e({optionErrors:bl(t,Ju.SHIPPING_OPTION),updatedOptionRequest:t})}))})):Promise.resolve(n)}onPaymentDataChangedShippingAddress(e){var t=this;return Nl((function*(){var{updatedContactRequest:r,contactErrors:n}=yield t.dispatchShippingContactChanged(e);if(void 0===t.req.shippingOptions||0===t.req.shippingOptions.length)return t.paymentDataChangedComplete(r,n);var i,o=t.shippingOptions;r.shippingOptions?(o=r.shippingOptions,t.selectedShippingOptionId=r.shippingOptions[0].id):t.selectedShippingOptionId=null===(i=t.shippingOptions)||void 0===i?void 0:i[0].id;var{updatedOptionRequest:s,optionErrors:a}=yield t.dispatchShippingOptionChanged(t.selectedShippingOptionId,o),c=Object.assign({},r,s),u=[...n,...a];return t.paymentDataChangedComplete(c,u)}))()}dispatchShippingContactChanged(e){var t=this,r={contactErrors:[],updatedContactRequest:{}};return new Promise((n=>{var i;void 0!==e.shippingAddress&&this.handlers.includes(ti.SHIPPING_CONTACT_CHANGED)?this.status!==js.DESTROYED?this.req.dispatchEvent(ti.SHIPPING_CONTACT_CHANGED,{contactOrOption:(i=e.shippingAddress,{city:i.locality,countryCode:i.countryCode,postalCode:i.postalCode,state:i.administrativeArea})},(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.metricsHandler.logEvent(ro.EventListenerOnCompleteResponse,Rl(Rl({},e),{},{eventName:ti.SHIPPING_CONTACT_CHANGED})),t.metricsHandler.logEvent(to.ShippingAddressChangeOK),n({contactErrors:bl(e,Ju.SHIPPING_ADDRESS),updatedContactRequest:e})})):n({contactErrors:[{intent:Ju.SHIPPING_ADDRESS,message:"An error occurred when attempting to submit payment, please close this window and try again.",reason:Jn.PAYMENT_METHOD_DESTROYED}],updatedContactRequest:{}}):n(r)}))}paymentDataChangedComplete(e,t){e.shippingOptions&&e.shippingOptions.length>0&&(this.shippingOptions=e.shippingOptions);var r=function(e,t,r,n){var i,{total:o,countryCode:s,currencyCode:a}=t,c=r,u=Sl(null!==(i=e.total)&&void 0!==i?i:o),l={totalPrice:u.price,totalPriceLabel:u.label,totalPriceStatus:u.status},d=Object.assign({},{countryCode:s,currencyCode:a},l),h=Il(ul(t),ul(e,t));h.length>0&&(d.displayItems=h);var p={newTransactionInfo:d},f=Ol(a,n,c,e.shippingOptions);return f&&(p.newShippingOptionParameters=f),p}(e,this.req,this.shippingOptions,this.selectedShippingOptionId);return t.length>0&&(r.error=t[0]),r}requestGooglePayCardNonce(e){var t=this;return Nl((function*(){var r=Cl(t.selectedShippingOptionId,t.shippingOptions);yield t.context.refreshWithCurrentAnalyticsToken();try{var n=yield t.paymentMethodMessenger.request(Bu.REQUEST_GOOGLE_PAY_CARD_NONCE,e);return t.context.setPaymentMethodTrackingId(n.paymentMethodTrackingId),yield t.context.updateSession(n.sessionId),t.wasFirstInteractionCalled=!1,t.paymentRequestLockController.unlock(t),function(e,t){var{card:r,cardNonce:n,shippingContact:i,billingContact:o}=e,s={details:{card:r,method:ei.GOOGLE_PAY},token:n};return i&&(s.details.shipping={contact:i},t&&(s.details.shipping.option=t)),o&&(s.details.card&&(s.details.card.billing=o),s.details.billing=o),s}(n,r)}catch(e){throw t.paymentRequestLockController.unlock(t),e instanceof Bn||t.errorLogger.captureException(e),e}}))()}handleFirstInteraction(){this.wasFirstInteractionCalled||(this.wasFirstInteractionCalled=!0,this.metricsHandler.logEvent(eo.FirstInteraction))}detachElement(e,t){this.element&&(this.element.innerHTML=""),this.status=e,this.metricsHandler.logEvent(t)}}function xl(){return xl=Nl((function*(e,t){return{authJwt:(yield e.request(Bu.GENERATE_GOOGLE_PAY_AUTH_TOKEN,{session:t})).token,merchantId:"05498866192997955200",merchantName:t.merchantName}})),xl.apply(this,arguments)}var kl,Ml,Ul=function(e){var t=function(e,t){return xl.apply(this,arguments)}(e.messenger,e.getSession()),r=ta.load("google-link",{src:"https://pay.google.com/gp/p/js/pay.js"},"google","payments");return Promise.all([r,t])};class jl{constructor(){this.lockSet=new Set}get isLocked(){return this.lockSet.size>0}lock(e){this.lockSet.add(e)}unlock(e){this.lockSet.delete(e)}}!function(e){e.REQUEST_HYDRATION="REQUEST_HYDRATION"}(kl||(kl={})),function(e){e.ANALYTICS_TOKEN="_analyticsToken",e.LOCALE="_locale",e.SESSION_ID="_sessionId",e.TRANSLATION_OVERRIDES="_translationOverrides"}(Ml||(Ml={}));class Hl{constructor(e){var{applePayMerchantIdentifier:t,cashAppPayMerchantIdentifier:r,merchantName:n,applicationId:i,avt:o,hostname:s,locationId:a,instanceId:c,sessionId:u,sourceUrl:l,locale:d}=e;this.applicationId=i,this.locationId=a,this._sessionId=u,this.instanceId=c,this.applePayMerchantIdentifier=t,this.cashAppPayMerchantIdentifier=r,this.merchantName=n,this.hostname=s,this.sourceUrl=l,this._locale=d,this.avt=o}get analyticsToken(){return this._analyticsToken}get sessionId(){return this._sessionId}setSessionId(e){this.setAttribute(Ml.SESSION_ID,e)}setTranslationOverrides(e){this.setAttribute(Ml.TRANSLATION_OVERRIDES,e)}setLocale(e){this.setAttribute(Ml.LOCALE,e)}setAnalyticsToken(e){this.setAttribute(Ml.ANALYTICS_TOKEN,e)}serialize(){return this.serialized||(this.serialized={applePayMerchantIdentifier:this.applePayMerchantIdentifier||"",cashAppPayMerchantIdentifier:this.cashAppPayMerchantIdentifier||"",merchantName:this.merchantName,applicationId:this.applicationId,avt:this.avt,hostname:this.hostname,instanceId:this.instanceId,locale:this._locale,locationId:this.locationId,sessionId:this._sessionId,sourceUrl:this.sourceUrl},this._analyticsToken&&(this.serialized.analyticsToken=this._analyticsToken),this._translationOverrides&&(this.serialized.translationOverrides=this._translationOverrides)),this.serialized}setAttribute(e,t){(this.isValueString(t)||e===Ml.TRANSLATION_OVERRIDES)&&(this[e]=t),this.serialized=void 0}isValueString(e){return"string"==typeof e}}var Bl=function(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new URL(l.IFRAME_SRC);return Object.entries(e).forEach((e=>{var[r,n]=e;t.searchParams.set(r,n)})),t.toString()}(e);return qa({frameborder:"0",height:"0",scrolling:"no",src:t,style:"border: none !important; display: block !important; visibility: hidden !important",width:"0"})},Gl=function(e){var t=new(lo[e.name]||Jr);return t.fromSerializedError(e),t},Fl=function(e){return{_isSerializedError:!0,errors:e.errors,message:e.message,name:e.name}};class ql extends Aa{constructor(e){super({name:e,errorSerializer:{serialize:e=>e instanceof Jr?Fl(e):e,deserialize:e=>e instanceof Error?e:Gl(e)}})}setErrorLogger(e,t){this.setErrorHandler((function(r,n){var i,o,s,a;void 0!==n&&(i=null===(s=n.data.payload)||void 0===s||null===(s=s.session)||void 0===s?void 0:s.instanceId,o=null===(a=n.data.payload)||void 0===a||null===(a=a.session)||void 0===a?void 0:a.sessionId),r instanceof fa?t.logEvent({event:no.IframeMessengerTimeoutError,eventSource:co.App,internalConfigurationValues:r.message},i,o):e.captureException(r)}))}}function Vl(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function zl(){var e;return e=function*(e,t,r,n,i){var o=new ql(i);return o.setErrorLogger(t,r),o.connect({origin:l.ASSET_URL,window:e.contentWindow},e.id),yield o.sendMessage("INITIALIZE",n),o},zl=function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){Vl(o,n,i,s,a,"next",e)}function a(e){Vl(o,n,i,s,a,"throw",e)}s(void 0)}))},zl.apply(this,arguments)}var Yl={build:function(e,t,r,n,i){return zl.apply(this,arguments)}};function $l(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function Kl(){var e;return e=function*(e,t,r,n){var{applicationId:i,locationId:o,hostname:s,sourceUrl:a}=e;t.logEvent({event:eo.InitializeStart,eventSource:co.App});var c,u=n.getCurrentLocale();try{var l=yield Bl({applicationId:i,hostname:s});c=yield Yl.build(l,r,t,{applicationId:i,hostname:s,locale:u,locationId:o})}catch(e){if(t.logEvent({event:eo.InitializeError,eventSource:co.App}),r.captureException(e),Ji(e))throw new Gn("initializing the payment method");throw e}try{var{avt:d,sessionId:h,applePartnerInternalMerchantIdentifier:p,cashAppPayMerchantIdentifier:f,merchantName:g,instanceId:m,paymentMethodSupportDetail:v,featureFlagValues:y,isTestMerchant:E}=yield c.request(kl.REQUEST_HYDRATION,{body:{applicationId:i,hostname:s,locationId:o}});t.setAvt(d);var _=new Hl({applePayMerchantIdentifier:p,cashAppPayMerchantIdentifier:f,merchantName:g,applicationId:i,avt:d,hostname:s,instanceId:m,locale:u,locationId:o,sessionId:h,sourceUrl:a});return t.logEvent({event:eo.InitializeOK,eventSource:co.App,internalConfigurationValues:y},m,h),{featureFlagValues:y,localeStrings:n,messenger:c,paymentMethodSupportDetail:v,session:_,isTestMerchant:E}}catch(e){if(t.logEvent({event:eo.InitializeError,eventSource:co.App}),Ji(e))throw new Gn("initializing the payment method");throw e}},Kl=function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){$l(o,n,i,s,a,"next",e)}function a(e){$l(o,n,i,s,a,"throw",e)}s(void 0)}))},Kl.apply(this,arguments)}var Wl,Ql,Xl={initializePayment:function(e,t,r,n){return Kl.apply(this,arguments)},validateVerificationDetails:function(e,t){var r=[];return e.billingContact&&"object"==typeof e.billingContact||r.push(new Ls(t,"details.billingContact","object")),e.intent&&"string"==typeof e.intent&&["CHARGE","STORE","CHARGE_AND_STORE"].includes(e.intent)||r.push(new Ls(t,"details.intent","string")),"CHARGE"!==e.intent&&"CHARGE_AND_STORE"!==e.intent||(e.amount&&"string"==typeof e.amount||r.push(new Ls(t,"details.amount","string")),e.currencyCode&&"string"==typeof e.currencyCode||r.push(new Ls(t,"details.currencyCode","string"))),r}};!function(e){e.REQUEST_APPLE_PAY_CARD_NONCE="REQUEST_APPLE_PAY_CARD_NONCE",e.REQUEST_APPLE_PAY_MERCHANT_VALIDITY="REQUEST_APPLE_PAY_MERCHANT_VALIDITY"}(Wl||(Wl={})),function(e){e.SUCCESS="SUCCESS",e.CANCEL="CANCEL"}(Ql||(Ql={}));var Zl,Jl={AD:"Andorra",AE:"United Arab Emirates",AF:"Afghanistan",AG:"Antigua And Barbuda",AI:"Anguilla",AL:"Albania",AM:"Armenia",AO:"Angola",AQ:"Antarctica",AR:"Argentina",AS:"American Samoa",AT:"Austria",AU:"Australia",AW:"Aruba",AX:"Finland",AZ:"Azerbaijan",BA:"Bosnia And Herzegovina",BB:"Barbados",BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria (rep.)",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BL:"Saint Barthelemy",BM:"Bermuda",BN:"Brunei Darussalam",BO:"Bolivia",BQ:"Bonaire, Sint Eustatius, And Saba",BR:"Brazil",BS:"Bahamas",BT:"Bhutan",BV:"Bouvet Island",BW:"Botswana",BY:"Belarus",BZ:"Belize",CA:"Canada",CC:"Cocos (keeling) Islands",CD:"Congo (dem. Rep.)",CF:"Central African Republic",CG:"Congo (rep.)",CH:"Switzerland",CI:"Cote D'ivoire",CK:"Cook Islands",CL:"Chile",CM:"Cameroon",CN:"China",CO:"Colombia",CR:"Costa Rica",CV:"Cape Verde",CW:"Curacao",CX:"Christmas Island",CY:"Cyprus",CZ:"Czech Rep.",DE:"Germany",DJ:"Djibouti",DK:"Denmark",DM:"Dominica",DO:"Dominican Rep.",DZ:"Algeria",EC:"Ecuador",EE:"Estonia",EG:"Egypt",EH:"Western Sahara",ER:"Eritrea",ES:"Spain",ET:"Ethiopia",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands (malvinas)",FM:"Micronesia (federated State Of)",FO:"Faroe Islands",FR:"France",GA:"Gabon",GB:"United Kingdom",GD:"Grenada (west Indies)",GE:"Georgia",GF:"French Guiana",GG:"Channel Islands",GH:"Ghana",GI:"Gibraltar",GL:"Greenland",GM:"Gambia",GN:"Guinea",GP:"Guadeloupe",GQ:"Equatorial Guinea",GR:"Greece",GS:"South Georgia",GT:"Guatemala",GU:"Guam",GW:"Guinea-bissau",GY:"Guyana",HK:"Hong Kong",HM:"Heard And Mcdonald Islands",HN:"Honduras",HR:"Croatia",HT:"Haiti",HU:"Hungary (rep.)",ID:"Indonesia",IE:"Ireland",IL:"Israel",IM:"Isle Of Man",IN:"India",IO:"British Indian Ocean Territory",IQ:"Iraq",IR:"Iran",IS:"Iceland",IT:"Italy",JE:"Channel Islands",JM:"Jamaica",JO:"Jordan",JP:"Japan",KE:"Kenya",KG:"Kyrgyzstan",KH:"Cambodia",KI:"Kiribati",KM:"Comoros",KN:"Saint Kitts And Nevis",KR:"South Korea",KW:"Kuwait",KY:"Cayman Islands",KZ:"Kazakhstan",LA:"Lao (people's Dem. Rep.)",LB:"Lebanon",LC:"Saint Lucia",LI:"Liechtenstein",LK:"Sri Lanka",LR:"Liberia",LS:"Lesotho",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",LY:"Libya",MA:"Morocco",MC:"Monaco",MD:"Rep. Moldova",ME:"Montenegro",MF:"Saint Martin",MG:"Madagascar",MH:"Marshall Islands",MK:"Macedonia",ML:"Mali",MM:"Myanmar",MN:"Mongolia",MO:"Macao",MP:"Northern Mariana Islands",MQ:"Martinique",MR:"Mauritania",MS:"Montserrat",MT:"Malta",MU:"Mauritius",MV:"Maldives",MW:"Malawi",MX:"Mexico",MY:"Malaysia",MZ:"Mozambique",NA:"Namibia",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NP:"Nepal",NR:"Nauru Central Pacific",NU:"Niue",NZ:"New Zealand",OM:"Oman",PA:"Panama (rep.)",PE:"Peru",PF:"French Polynesia",PG:"Papua New Guinea",PH:"Philippines",PK:"Pakistan",PL:"Poland",PM:"St. Pierre And Miquelon",PN:"Pitcairn",PR:"Puerto Rico",PS:"Palestinian Territory",PT:"Portugal",PW:"Palau",PY:"Paraguay",QA:"Qatar",RE:"Reunion",RO:"Romania",RS:"Republic Of Serbia",RU:"Russian Federation",RW:"Rwanda",SA:"Saudi Arabia",SB:"Solomon Islands",SC:"Seychelles",SE:"Sweden",SG:"Rep. Of Singapore",SH:"Saint Helena",SI:"Slovenia",SJ:"Svalbard And Jan Mayen Islands",SK:"Slovakia",SL:"Sierra Leone",SM:"San Marino",SN:"Senegal",SO:"Somalia",SR:"Suriname",SS:"South Sudan",ST:"Sao Tome And Principe",SV:"El Salvador",SX:"Sint Maarten",SZ:"Swaziland",TC:"Turks And Caicos Islands",TD:"Chad",TF:"French Southern Territories",TG:"Togo",TH:"Thailand",TJ:"Tajikistan",TK:"Tokelau",TL:"Timor-leste",TM:"Turkmenistan",TN:"Tunisia",TO:"Tonga",TR:"Turkey",TT:"Trinidad And Tobago",TV:"Tuvalu",TW:"Taiwan",TZ:"Tanzania (united Rep.)",UA:"Ukraine",UG:"Uganda",UM:"United States Minor Outlying Islands",US:"United States",UY:"Uruguay",UZ:"Uzbekistan",VA:"Vatican",VC:"Saint Vincent And The Grenadines (antilles)",VE:"Venezuela",VG:"Virgin Islands (british)",VI:"Virgin Islands (u.s.)",VN:"Viet Nam",VU:"Vanuatu",WF:"Wallis And Futuna Islands",WS:"Samoa",YE:"Yemen",YT:"Mayotte",ZA:"South Africa",ZM:"Zambia",ZW:"Zimbabwe"};function ed(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function td(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ed(Object(r),!0).forEach((function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ed(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}!function(e){e.PENDING="pending",e.FINAL="final"}(Zl||(Zl={}));var rd,nd,id,od,sd={addressLines:"addressLines",city:"locality",country:"countryCode",postalCode:"postalCode",state:"administrativeArea"},ad=["visa","masterCard","jcb","discover","amex"];function cd(e){return{amount:e.amount,label:e.label,type:e.pending?Zl.PENDING:Zl.FINAL}}function ud(e){return{amount:e.amount,detail:"",identifier:e.id,label:e.label}}function ld(e,t){return t?cd(t):e}function dd(e,t){return t?t.map(cd):e}function hd(e,t){return t?t.map(ud):e}function pd(){for(var e=3;e>0&&!window.ApplePaySession.supportsVersion(e);)e--;return e}function fd(e){var{addressLines:t,locality:r,administrativeArea:n,postalCode:i,countryCode:o,givenName:s,familyName:a,emailAddress:c,phoneNumber:u}=e;return{addressLines:t,city:r,countryCode:o&&o.toUpperCase(),email:c,familyName:a,givenName:s,phone:u,postalCode:i,state:n}}function gd(e){var{amount:t,identifier:r,label:n}=e;return{amount:t,id:r,label:n}}function md(e,t,r){return{errors:(n=e,i=[],n.error&&i.push(new window.ApplePayError("addressUnserviceable","postalAddress",n.error)),n.shippingErrors&&Object.entries(n.shippingErrors).forEach((e=>{var[t,r]=e,n=sd[t]||"postalAddress";i.push(new window.ApplePayError("shippingContactInvalid",n,r))})),i),newLineItems:dd(t.lineItems,ul(e,r)),newShippingMethods:hd(t.shippingMethods,e.shippingOptions),newTotal:ld(t.total,e.total)};var n,i}function vd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vd(Object(r),!0).forEach((function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ed(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function _d(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){Ed(o,n,i,s,a,"next",e)}function a(e){Ed(o,n,i,s,a,"throw",e)}s(void 0)}))}}class Sd extends Gs{constructor(e,t,r){if(super(t),this.methodType=ei.APPLE_PAY,this.sessionInProgress=!1,this.wasFirstInteractionCalled=!1,this.paymentMethodMessenger=new Vs(this.context),this.paymentRequestLockController=r,this.req=e,void 0===window.ApplePaySession)throw new Rn(bs);if(!window.ApplePaySession.canMakePayments())throw new Rn(ws);this.validateConfiguration()}get applePaySession(){if(!this.sessionHandler){var e="Apple Pay Session is expected to exist when it does not.";throw this.errorLogger.captureException(new Ki(e,"Apple Pay")),new Gn(e)}return this.sessionHandler}set applePaySession(e){this.sessionHandler=e}tokenize(){var e=this;return _d((function*(){if(e.handleFirstInteraction(),e.throwIfDestroyed(),e.sessionInProgress)throw new Bn([qs]);e.applePayPaymentRequest=function(e,t){var r=[...ad];null!=t&&t.isActive(Ii.CanUseInterac)&&r.push("interac");var n,i={countryCode:e.countryCode,currencyCode:e.currencyCode,lineItems:dd([],ul(e)),merchantCapabilities:["supports3DS"],requiredBillingContactFields:["postalAddress"],shippingMethods:hd([],e.shippingOptions),supportedNetworks:r,total:cd(e.total)};return e.shippingContact&&(i.shippingContact={addressLines:(n=e.shippingContact).addressLines,administrativeArea:n.state,country:Jl[n.countryCode],countryCode:n.countryCode,emailAddress:n.email,familyName:n.familyName,givenName:n.givenName,locality:n.city,phoneNumber:n.phone,postalCode:n.postalCode}),e.requestBillingContact&&(i.requiredShippingContactFields=["email","name","phone"]),e.requestShippingContact&&(i.requiredShippingContactFields=["postalAddress","name","email","phone"]),i}(e.req,e.featureFlagHandler),e.applePaySession=new window.ApplePaySession(pd(),e.applePayPaymentRequest);var t=e.shippingContactChanged.bind(e);e.applePaySession.onshippingcontactselected=r=>{t(r.shippingContact,e.applePayPaymentRequest)};var r=e.shippingOptionChanged.bind(e);e.applePaySession.onshippingmethodselected=t=>{r(t.shippingMethod,e.applePayPaymentRequest)};var n=new Promise((t=>{e.applePaySession.oncancel=()=>{e.metricsHandler.logEvent(to.ExternalSessionCancel),e.deleteApplePaySession(),t({status:Ql.CANCEL})}})),i=new Promise(((t,r)=>{e.applePaySession.onvalidatemerchant=function(){var n=_d((function*(n){try{var i=yield e.requestApplePayMerchantValidity(n.validationURL,e.applePayPaymentRequest);t(i)}catch(e){r(e)}}));return function(e){return n.apply(this,arguments)}}()})),o=new Promise(((t,r)=>{e.applePaySession.onpaymentauthorized=function(){var n=_d((function*(n){try{var i=yield e.requestApplePayCardNonce(n);e.deleteApplePaySession(),t(i)}catch(t){e.deleteApplePaySession(),r(t)}}));return function(e){return n.apply(this,arguments)}}()}));e.sessionInProgress=!0,e.paymentRequestLockController.lock(e),e.metricsHandler.logEvent(to.ExternalSessionStart),e.applePaySession.begin();try{var s=yield i;e.applePaySession.completeMerchantValidation(s);var{status:a,token:c,details:u}=yield Promise.race([o,n]);return e.metricsHandler.logEvent(to.ExternalSessionOK),a===Ql.SUCCESS?{details:u,status:ri.OK,token:c}:{status:ri.CANCEL}}catch(t){throw e.metricsHandler.logEvent(to.ExternalSessionError),t}}))()}destroy(){return this.sessionHandler&&(this.sessionHandler.abort(),this.deleteApplePaySession()),this.status=js.DESTROYED,this.metricsHandler.logEvent(ro.Destroyed),Promise.resolve(!0)}validateConfiguration(){var e=this.session;if(!e.applePayMerchantIdentifier)throw new Rn(Ps,"applePayMerchantIdentifier");if(!e.locationId)throw new Rn(Ps,"locationId")}requestApplePayCardNonce(e){var t=this;return _d((function*(){yield t.context.refreshWithCurrentAnalyticsToken();var r={applepayData:e.payment},n=t.selectedShippingMethod||t.getDefaultShippingMethod();try{var i=yield t.paymentMethodMessenger.request(Wl.REQUEST_APPLE_PAY_CARD_NONCE,r);return t.applePaySession.completePayment(window.ApplePaySession.STATUS_SUCCESS),t.context.setPaymentMethodTrackingId(i.paymentMethodTrackingId),t.wasFirstInteractionCalled=!1,yield t.context.updateSession(i.sessionId),function(e,t){var{card:r,cardNonce:n,shippingContact:i,billingContact:o}=e,s={details:{card:r,method:ei.APPLE_PAY},status:Ql.SUCCESS,token:n};if(i){var a={contact:i};t&&(a.option=gd(t)),s.details.shipping=a}return o&&(s.details.card&&(s.details.card.billing=o),s.details.billing=o),s}(i,n)}catch(e){throw t.applePaySession.completePayment(window.ApplePaySession.STATUS_FAILURE),e instanceof Bn||t.errorLogger.captureException(e),e}}))()}requestApplePayMerchantValidity(e,t){var r=this;return _d((function*(){var n,i=t&&t.total?t.total.label:null,o=r.session,s={clientId:o.applicationId,locationId:o.locationId,merchantName:i,sourceUrl:o.sourceUrl,validationUrl:e};try{n=yield r.paymentMethodMessenger.request(Wl.REQUEST_APPLE_PAY_MERCHANT_VALIDITY,s)}catch(e){throw r.applePaySession.abort(),r.deleteApplePaySession(),e}try{return JSON.parse(n.session)}catch(e){throw r.applePaySession.abort(),r.deleteApplePaySession(),r.errorLogger.captureException(new Ki(e.message,r.methodType)),new Gn("parsing Apple Pay merchant validity")}}))()}shippingContactChanged(e,t){var r=pd()>=3?this.updateApplePayShippingContactV3(t):this.updateApplePayShippingContactLegacy(t);this.req.hasEventListener(ti.SHIPPING_CONTACT_CHANGED)?this.req.dispatchEvent(ti.SHIPPING_CONTACT_CHANGED,{contactOrOption:fd(e)},(e=>{this.metricsHandler.logEvent(ro.EventListenerOnCompleteResponse,yd(yd({},e),{},{eventName:ti.SHIPPING_CONTACT_CHANGED})),this.handleShippingContactUpdate(r,e)})):this.handleShippingContactUpdate(r)}handleShippingContactUpdate(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null===(t=r.shippingOptions)||void 0===t?void 0:t[0],i=this.getDefaultShippingMethod();void 0===n&&null!==i&&(n=gd(i)),void 0!==n&&this.req.hasEventListener(ti.SHIPPING_OPTION_CHANGED)?(this.selectedShippingMethod=ud(n),this.req.dispatchEvent(ti.SHIPPING_OPTION_CHANGED,{contactOrOption:n},(t=>{this.metricsHandler.logEvent(ro.EventListenerOnCompleteResponse,yd(yd({},t),{},{eventName:ti.SHIPPING_OPTION_CHANGED})),e(Object.assign({},r,t))}))):e(r)}shippingOptionChanged(e,t){this.selectedShippingMethod=e;var r=pd()>=3?this.updateApplePayShippingMethodV3(t):this.updateApplePayShippingMethodLegacy(t);this.req.hasEventListener(ti.SHIPPING_OPTION_CHANGED)?this.req.dispatchEvent(ti.SHIPPING_OPTION_CHANGED,{contactOrOption:gd(e)},r):r()}updateApplePayPaymentRequest(e){e.newTotal&&(this.applePayPaymentRequest.total=e.newTotal),e.newLineItems&&(this.applePayPaymentRequest.lineItems=e.newLineItems),e.newShippingMethods&&(this.applePayPaymentRequest.shippingMethods=e.newShippingMethods)}updateApplePayShippingContactV3(e){var t=this;return function(){var r=md(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e,t.req);t.updateApplePayPaymentRequest(r),t.metricsHandler.logEvent(to.ShippingAddressChangeOK),t.applePaySession.completeShippingContactSelection(r)}}updateApplePayShippingContactLegacy(e){var t=this;return function(){var r,n,i,o,s=(r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e,i=t.req,o=md(r,n,i),td({status:window.ApplePaySession.STATUS_SUCCESS},o));t.updateApplePayPaymentRequest(s),t.metricsHandler.logEvent(to.ShippingAddressChangeOK),t.applePaySession.completeShippingContactSelection(s.status,s.newShippingMethods,s.newTotal,s.newLineItems)}}updateApplePayShippingMethodV3(e){var t=this;return function(){var r,n,i,o=(r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e,i=t.req,{newLineItems:dd(n.lineItems,ul(r,i)),newTotal:ld(n.total,r.total)});t.updateApplePayPaymentRequest(o),t.metricsHandler.logEvent(to.ShippingOptionChangeOK),t.applePaySession.completeShippingMethodSelection(o)}}updateApplePayShippingMethodLegacy(e){var t=this;return function(){var r,n,i,o,s=(r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e,i=t.req,o=md(r,n,i),td({status:window.ApplePaySession.STATUS_SUCCESS},o));t.updateApplePayPaymentRequest(s),t.metricsHandler.logEvent(to.ShippingOptionChangeOK),t.applePaySession.completeShippingMethodSelection(s.status,s.newTotal,s.newLineItems)}}getDefaultShippingMethod(){var e=this.applePayPaymentRequest.shippingMethods;return e&&e.length>0?this.applePayPaymentRequest.shippingMethods[0]:null}deleteApplePaySession(){delete this.sessionHandler,this.paymentRequestLockController.unlock(this),this.sessionInProgress=!1}handleFirstInteraction(){this.wasFirstInteractionCalled||(this.metricsHandler.logEvent(eo.FirstInteraction),this.wasFirstInteractionCalled=!0)}}!function(e){e.SHIPPING_ADDRESS_UNRECOGNIZED="SHIPPING_ADDRESS_UNRECOGNIZED",e.SHIPPING_ADDRESS_UNSUPPORTED="SHIPPING_ADDRESS_UNSUPPORTED",e.SERVICE_UNAVAILABLE="SERVICE_UNAVAILABLE"}(rd||(rd={})),function(e){e.BADGE="badge",e.LOCKUP="lockup"}(nd||(nd={})),function(e){e.BLACK="black",e.WHITE="white",e.MINT="mint"}(id||(id={})),function(e){e.REQUEST_AFTERPAY_INSTANT_WALLET_TOKEN="REQUEST_AFTERPAY_INSTANT_WALLET_TOKEN",e.REQUEST_AFTERPAY_CHECKOUT_HANDLER="REQUEST_AFTERPAY_CHECKOUT_HANDLER"}(od||(od={}));var Id="".concat(l.ASSET_URL,"/afterpay.css"),Ad="sq-afterpay-styles",Od={[zr.BLACK]:{[Yr.CheckoutWithAfterpay]:"afterpay-buttons/Afterpay_Checkout_Button_Black-White.svg",[Yr.BuyNowWithAfterpay]:"afterpay-buttons/Afterpay_BuyNow_Button_Black-White.svg",[Yr.PlaceOrderWithAfterpay]:"afterpay-buttons/Afterpay_PlaceOrder_Button_Black-White.svg"},[zr.MINT]:{[Yr.CheckoutWithAfterpay]:"afterpay-buttons/Afterpay_Checkout_Button_Mint-Black.svg",[Yr.BuyNowWithAfterpay]:"afterpay-buttons/Afterpay_BuyNow_Button_Mint-Black.svg",[Yr.PlaceOrderWithAfterpay]:"afterpay-buttons/Afterpay_PlaceOrder_Button_Mint-Black.svg"}},Cd={[zr.BLACK]:{[Yr.CheckoutWithAfterpay]:"afterpay-buttons/Clearpay_Checkout_Button_Black-White.svg",[Yr.BuyNowWithAfterpay]:"afterpay-buttons/Clearpay_BuyNow_Button_Black-White.svg",[Yr.PlaceOrderWithAfterpay]:"afterpay-buttons/Clearpay_PlaceOrder_Button_Black-White.svg"},[zr.MINT]:{[Yr.CheckoutWithAfterpay]:"afterpay-buttons/Clearpay_Checkout_Button_Mint-Black.svg",[Yr.BuyNowWithAfterpay]:"afterpay-buttons/Clearpay_BuyNow_Button_Mint-Black.svg",[Yr.PlaceOrderWithAfterpay]:"afterpay-buttons/Clearpay_PlaceOrder_Button_Mint-Black.svg"}},Td=new Set(["US","CA","AU","NZ"]);function bd(e,t){var r=0;return e.forEach((e=>{r+=bi.paymentRequestAmountToMoneyAmount(e,t)})),bi.moneyAmountToPaymentRequestAmount(r,t)}function wd(e,t){return bd(e.map((e=>e.amount)),t)}var Rd=function(e,t){return e.map((e=>({name:e.label,quantity:1,sku:e.id,price:{amount:e.amount,currency:t},imageUrl:e.imageUrl,pageUrl:e.productUrl})))},Pd=function(e,t){return e.map((e=>({displayName:e.label,amount:{amount:e.amount,currency:t}})))},Nd=function(e){return{area1:e.city,countryCode:e.countryCode,line1:e.addressLines[0],line2:e.addressLines[1],name:"".concat(e.givenName," ").concat(e.familyName),phoneNumber:e.phone,postcode:e.postalCode,region:e.state}},Dd=function(e){if(e.requestShippingContact&&void 0!==e.lineItems&&e.lineItems.length>0){var t=wd(e.lineItems,e.currencyCode);if(e.discounts)t=bd([t,(r=e.discounts,n=e.currencyCode,"-".concat(wd(r,n)))],e.currencyCode);return{amount:t,currency:e.currencyCode}}var r,n;return{amount:bd([e.total.amount],e.currencyCode),currency:e.currencyCode}},Ld=function(e,t){return e.shippingOptions.map((e=>({description:"",id:e.id,name:e.label,shippingAmount:{amount:e.amount,currency:t.currencyCode},orderAmount:{amount:e.total.amount,currency:t.currencyCode},taxAmount:{amount:wd(e.taxLineItems||[],t.currencyCode),currency:t.currencyCode}})))},xd=function(e){var t,r,n=[];return[e.address1,e.address2].forEach((e=>{void 0!==e&&n.push(e)})),e.name&&([t,r]=e.name.split(/\s(?=\S+$)/)),{givenName:t,familyName:r,city:e.suburb,state:e.state,postalCode:e.postcode,countryCode:e.countryCode,phone:e.phoneNumber,addressLines:n}},kd=function(e){return{amount:e.shippingAmount.amount,id:e.id,label:e.name}};function Md(e,t){return Wu({[t]:e},{[t]:{city:"string",countryCode:"string",addressLines:"object",postalCode:"string",state:"string",givenName:"string",familyName:"string"}})}var Ud=function(e){return Md(e,"shippingContact")};function jd(e){var t=e.split("-")[1];return Td.has(t)}var Hd=function(e,t){return jd(t)?Od[e]:Cd[e]},Bd=function(e){return jd(e)?"afterpay-brand.svg":"clearpay-brand.svg"},Gd=[Bn],Fd=[sn,an];function qd(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}var Vd=[25,50,75,100];class zd{constructor(e,t){this.attached=!1,this.req=e,this.stylesLoadedPromise=new Promise(((e,t)=>{this.resolveStylePromise=e,this.rejectStylePromise=t})),this.context=t,this.locale=this.context.getSession().locale,this.currencyCode=this.req.currencyCode;var r=this.context.getLocaleString().paymentMethods.afterpay.checkoutWidget.weeks;this.PERIOD_TEXT=[this.context.getLocaleString().paymentMethods.afterpay.checkoutWidget.today,"2 ".concat(r),"4 ".concat(r),"6 ".concat(r)],t.addLocaleChangedListener((()=>{this.locale=this.context.getSession().locale,this.update()})),e.addEventListener(Xu.UPDATE,(()=>{this.update()}))}attach(e,t){var r,n=this;return(r=function*(){n.element=e,Au.addStyleElement(Id,Ad,n.resolveStylePromise,n.rejectStylePromise);try{yield n.stylesLoadedPromise}catch(e){throw new Gn("attaching the Afterpay Checkout Widget")}var r=n.buildAmounts().map((e=>bi.moneyAmountToInternationalizedCurrency(e,n.currencyCode,n.locale))),i=!1;t&&t.includeBranding&&(i=!0);var o=Bd(n.locale),s='\n      <div class="sq-ap__checkout-widget-container">\n        '.concat(i?'<div class="sq-ap__wordmark">\n                <img id="ap-wordmark-image" src="'.concat(l.STATIC_ASSET(o),'"/>\n              </div>'):"",'\n        <p class="sq-ap__checkout-title">').concat(n.context.getLocaleString().paymentMethods.afterpay.checkoutWidget.title,'</p>\n        <div class="sq-ap__payment-container">\n          ').concat(r.map(((e,t)=>'\n              <div id="ap-payment-container-'.concat(t,'" class="sq-ap__individual-payment">\n                <div class="sq-ap__harvey-ball-container">\n                  ').concat(function(e){var t=12,r=2*Math.PI*6,n=r*Vd[e]/100;return'\n      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 '.concat(24," ").concat(24,'" class="sq-ap__harvey-ball">\n        <circle\n          r="').concat(t,'"\n          cx="').concat(t,'"\n          cy="').concat(t,'"\n          fill="white"\n        />\n        <circle\n          r="').concat(6,'"\n          cx="').concat(t,'"\n          cy="').concat(t,'"\n          fill="none"\n          stroke="').concat("#B2FCE4",'"\n          stroke-width="').concat(t,'"\n          stroke-dasharray="').concat(n," ").concat(r,'"\n          transform="rotate(-90) translate(-').concat(24,')"\n        />\n        <circle\n          r="').concat(t,'"\n          cx="').concat(t,'"\n          cy="').concat(t,'"\n          fill="none"\n          stroke-width="2"\n          stroke="black"\n       />\n      </svg>\n    ')}(t),'\n                </div>\n                <p id="ap-payment-amount-').concat(t,'" class="sq-ap__amount">').concat(e,'</p>\n                <p class="sq-ap__period">').concat(n.PERIOD_TEXT[t],"</p>\n              </div>\n            "))).join(""),"\n        </div>\n      </div>\n    ");n.element.insertAdjacentHTML("afterbegin",s),n.attached=!0},function(){var e=this,t=arguments;return new Promise((function(n,i){var o=r.apply(e,t);function s(e){qd(o,n,i,s,a,"next",e)}function a(e){qd(o,n,i,s,a,"throw",e)}s(void 0)}))})()}update(){if(this.attached&&this.element){var e=document.getElementById("ap-wordmark-image");if(e){var t=Bd(this.locale);e.src=l.STATIC_ASSET(t)}this.buildAmounts().map((e=>bi.moneyAmountToInternationalizedCurrency(e,this.currencyCode,this.locale))).forEach(((e,t)=>{var r,n=null===(r=this.element)||void 0===r?void 0:r.querySelector("#ap-payment-amount-".concat(t));n&&(n.innerHTML=e)}))}}buildAmounts(){var e=bi.paymentRequestAmountToMoneyAmount(this.req.total.amount,this.req.currencyCode),t=e/4;switch(e%4){case 0:return Yd(t,0);case 1:return Yd(t,1);case 2:return Yd(t,-2);case 3:return Yd(t,-1);default:return[]}}}function Yd(e,t){var r=Array.from({length:3}).fill(Math.round(e));return r.push(e+t),r}function $d(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function Kd(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){$d(o,n,i,s,a,"next",e)}function a(e){$d(o,n,i,s,a,"throw",e)}s(void 0)}))}}var Wd=new Set(["en_US","en_CA","fr_CA","en_AU","en_NZ","en_GB","fr_FR","es_ES","it_IT"]),Qd=new Set(["AUD","GBP","USD","CAD","EUR"]),Xd={[zr.BLACK]:"#000",[zr.MINT]:"#b2fce4"};class Zd extends Gs{constructor(e,t,r,n,i){if(super(n),this.methodType=ei.AFTERPAY_CLEARPAY,this.onTokenizeCallbacks=[],this.tokenizationBuffer=[],this.wasFirstInteractionCalled=!1,this.onTokenizeHandlerAdded=!1,this.transferOptions={},this.buyNowOption=!1,this.afterpayLibrary=e,this.afterpayMessagingLibrary=t,this.req=r,this.paymentRequestLockController=i,this.paymentMessenger=new Vs(this.context),this.total=this.totalMoney(),!this.session.locationId)throw new Rn(Ps,"locationId");this.locationID=this.session.locationId,this.req.addEventListener("update",(()=>{delete this.checkoutTokenResponse,this.element&&this.initializeAfterpayPopup(this.element),this.total=this.totalMoney()}))}attach(e,t){var r=this;return Kd((function*(){var n,i;r.throwIfDestroyedOrAlreadyAttached(),r.status=js.ATTACHED,r.metricsHandler.logEvent(eo.AttachStart),r.metricsHandler.logEvent(ro.Configured,t);try{n=Qa(e)}catch(e){throw r.metricsHandler.logEvent(eo.AttachError),r.status===js.ATTACHED&&(r.status=js.DETACHED),e}if(!t||!t.useCustomButton){var o=document.createElement("div");n.appendChild(o);var s=o.attachShadow({mode:"open"});try{yield Au.addStyleElementToTarget(Id,Ad,s)}catch(e){throw r.status===js.ATTACHED&&(r.status=js.DETACHED),new Gn("attaching Afterpay")}var a=(null==t?void 0:t.buttonColor)||zr.BLACK,c=(null==t?void 0:t.buttonType)||Yr.BuyNowWithAfterpay,u=Hd(a,r.session.locale);if(!u)throw r.status===js.ATTACHED&&(r.status=js.DETACHED),new En("buttonColor",a);var d=u[c];if(!d)throw r.status===js.ATTACHED&&(r.status=js.DETACHED),new En("buttonType",c);var h=document.createElement("button");h.setAttribute("type","button"),h.setAttribute("class","sq-ap__button"),h.setAttribute("style","background-color: ".concat(Xd[a],"; background-image: url(").concat(l.STATIC_ASSET(d),");")),s.append(h)}r.buyNowOption=(null==t?void 0:t.finalCtaButtonType)===$r.BUY_NOW,r.initializeAfterpayPopup(n),r.metricsHandler.logEvent(eo.AttachOK),r.element=n,r.onTokenizeHandlerAdded&&(null===(i=r.element)||void 0===i||i.addEventListener("click",Kd((function*(){yield r.openPaymentModal()}))))}))()}attachMessaging(e,t){return this.throwIfDestroyed(),function(e){Ka(e,Ya)}(e),this.afterpayMessagingLibrary.createPlacements({targetSelector:e,attributes:{amount:Number(this.req.total.amount),badgeTheme:null==t?void 0:t.badgeTheme,currency:this.req.currencyCode,locale:this.session.locale,modalLinkStyle:null==t?void 0:t.modalLinkStyle,modalTheme:null==t?void 0:t.modalTheme,size:null==t?void 0:t.size}}),Promise.resolve()}attachCheckoutWidget(e,t){var r=this;return Kd((function*(){if(!Qd.has(r.req.currencyCode))throw new ln("Currency is not supported by Afterpay. Valid currencies are: ".concat([...Qd].join(", ")));var n=new zd(r.req,r.context),i=Qa(e);yield n.attach(i,t)}))()}displayInformationModal(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=bi.convertLocaleToUnderscore(this.session.locale);Wd.has(t)||(t="en_US"),this.afterpayMessagingLibrary.launchModal(Object.assign({},e,{locale:t}))}onTokenize(e){var t,r=this;this.throwIfDestroyed(),this.onTokenizeCallbacks.push(e),1===this.onTokenizeCallbacks.length&&(this.tokenizationBuffer.forEach((e=>{var{result:t,error:r}=e;this.emitTokenizationResult(t,r)})),this.tokenizationBuffer=[]),this.onTokenizeHandlerAdded||void 0===this.element||null===(t=this.element)||void 0===t||t.addEventListener("click",Kd((function*(){yield r.openPaymentModal()}))),this.onTokenizeHandlerAdded=!0}tokenize(){var e=this;return Kd((function*(){if(e.throwIfDestroyedOrNotAttached(),e.onTokenizeHandlerAdded)throw new nn;var t,r,n=new Promise(((e,n)=>{t=e,r=n}));return e.onTokenizeCallbacks=[function(e,n){void 0===n?void 0!==e?t(e):r(new Bn([Li.UNKNOWN])):r(n)}],yield e.openPaymentModal(),n}))()}destroy(){return this.status===js.DESTROYED?Promise.resolve(!1):(this.detachElement(js.DESTROYED,ro.Destroyed),Promise.resolve(!0))}detach(){return this.throwIfDestroyedOrNotAttached(),this.detachElement(js.DETACHED,ro.Detached),Promise.resolve(!0)}internalSetCheckoutToken(){var e=this;return Kd((function*(){try{var t=yield e.paymentMessenger.request(od.REQUEST_AFTERPAY_CHECKOUT_HANDLER,e.buildCheckoutPayload());return e.checkoutTokenResponse=t,e.checkoutTokenResponse.token}catch(t){var r=t;throw bi.isInstanceOf(t,[...Fd,pn,ln])||(e.errorLogger.captureException(t),r=new Gn("tokenizing with Afterpay")),r}}))()}commenceCheckout(e){var t=this;return Kd((function*(){if(t.wasFirstInteractionCalled||(t.wasFirstInteractionCalled=!0,t.metricsHandler.logEvent(eo.FirstInteraction)),t.metricsHandler.logEvent(to.ExternalSessionStart),t.paymentRequestLockController.lock(t),void 0!==t.checkoutTokenResponse&&new Date(t.checkoutTokenResponse.expires)>new Date)e.resolve(t.checkoutTokenResponse.token);else try{var r=yield t.internalSetCheckoutToken();e.resolve(r)}catch(r){t.paymentRequestLockController.unlock(t),t.metricsHandler.logEvent(to.ExternalSessionError),t.emitTokenizationResult(void 0,r),e.reject(r.message)}}))()}completeCheckout(e){var t=this;return Kd((function*(){try{if(function(e){return"SUCCESS"===e.status&&void 0!==e.orderToken}(e)){var r;yield t.context.refreshWithCurrentAnalyticsToken();var n=yield t.paymentMessenger.request(od.REQUEST_AFTERPAY_INSTANT_WALLET_TOKEN,t.buildInstantWalletTokenPayload(e.orderToken,t.total));t.context.updateSession(n.sessionID),t.metricsHandler.logEvent(to.ExternalSessionOK);var i={details:{method:ei.AFTERPAY_CLEARPAY,shipping:{contact:{email:null==n||null===(r=n.afterpayData)||void 0===r?void 0:r.email}}},status:ri.OK,token:n.token};null!=n&&n.billingContact&&(i.details.billing=null==n?void 0:n.billingContact),null!=n&&n.shippingContact&&(i.details.shipping={contact:null==n?void 0:n.shippingContact}),delete t.checkoutTokenResponse,t.emitTokenizationResult(i)}else t.metricsHandler.logEvent(to.ExternalSessionCancel),t.emitTokenizationResult({status:ri.CANCEL})}catch(e){var o=e;t.metricsHandler.logEvent(to.ExternalSessionError),bi.isInstanceOf(e,Gd)||(t.errorLogger.captureException(e),o=new Gn("tokenizing Afterpay")),t.emitTokenizationResult(void 0,o)}t.paymentRequestLockController.unlock(t)}))()}onShippingOptionChange(e){this.metricsHandler.logEvent(to.ShippingOptionChangeOK),this.total.amount=bi.paymentRequestAmountToMoneyAmount(e.orderAmount.amount,this.req.currencyCode),this.req.dispatchEvent(Zr.AFTERPAY_SHIPPING_OPTION_CHANGED,{contactOrOption:kd(e)},(e=>{}))}onShippingAddressChange(e,t){if(!this.req.hasEventListener(Zr.AFTERPAY_SHIPPING_ADDRESS_CHANGED))return this.emitTokenizationResult(void 0,new on("PaymentRequest",Zr.AFTERPAY_SHIPPING_ADDRESS_CHANGED)),t.reject(rd.SERVICE_UNAVAILABLE),void this.afterpayLibrary.close();var r=this.req;this.metricsHandler.logEvent(to.ShippingAddressChangeOK),this.req.dispatchEvent(Zr.AFTERPAY_SHIPPING_ADDRESS_CHANGED,{contactOrOption:xd(e)},(e=>{if(e.error)t.reject(rd.SHIPPING_ADDRESS_UNSUPPORTED);else if(e.shippingErrors)t.reject(rd.SHIPPING_ADDRESS_UNRECOGNIZED);else{var n=Ld(e,r);t.resolve(n)}}))}emitTokenizationResult(e,t){0===this.onTokenizeCallbacks.length?this.tokenizationBuffer.push({result:e,error:t}):this.onTokenizeCallbacks.forEach((r=>{r(e,t)}))}buildInstantWalletTokenPayload(e,t){return{paymentMethodTrackingID:this.context.getPaymentMethodTrackingId(),analyticsToken:this.session.analyticsToken,afterpayData:{afterpayToken:e,buyerAmount:t},clientID:this.session.applicationId,locationID:this.locationID,sessionID:this.session.sessionId,websdkVersion:l.VERSION,websiteURL:this.session.sourceUrl,requestBillingContact:this.req.requestBillingContact,requestShippingContact:this.req.requestShippingContact}}buildCheckoutPayload(){var e,t={applicationID:this.session.applicationId,discounts:[],locationID:this.locationID,popupOriginUrl:this.session.sourceUrl,amount:Dd(this.req)};if(this.req.lineItems&&(t.items=Rd(this.req.lineItems,this.req.currencyCode)),this.req.discounts&&(t.discounts=Pd(this.req.discounts,this.req.currencyCode)),this.req.requestShippingContact?e=this.req.shippingContact:this.req.pickupContact&&(e=this.req.pickupContact),void 0!==e){var r=Ud(e);if(!r.isValid)throw new pn(r.missingFields);t.shipping=Nd(e)}return t}totalMoney(){return{amount:bi.paymentRequestAmountToMoneyAmount(this.req.total.amount,this.req.currencyCode),currency:this.req.currencyCode}}openPaymentModal(){var e=this;return Kd((function*(){e.afterpayLibrary.open();var t=yield new Promise(((t,r)=>{e.commenceCheckout({resolve:t,reject:r})}));e.afterpayLibrary.transfer(Object.assign({token:t},e.transferOptions))}))()}initializeAfterpayPopup(e){var t=this.commenceCheckout.bind(this),r=this.completeCheckout.bind(this),n=document.createElement("div");n.id="sq-afterpay-dummy-element-".concat(Ms()),n.style.visibility="hidden",e.appendChild(n),this.transferOptions={buyNow:this.buyNowOption,shippingOptionRequired:this.req.requestShippingContact},this.req.requestShippingContact||this.req.pickupContact||(this.transferOptions.addressMode="NO_ADDRESS");var i,o,s={countryCode:this.req.countryCode,onCommenceCheckout:(o=Kd((function*(e){yield t(e)})),function(e){return o.apply(this,arguments)}),onComplete:(i=Kd((function*(e){var{data:t}=e;yield r(t)})),function(e){return i.apply(this,arguments)}),target:"#".concat(n.id),shippingOptionRequired:this.req.requestShippingContact,addressMode:this.transferOptions.addressMode};this.req.requestShippingContact?(s.onShippingAddressChange=this.onShippingAddressChange.bind(this),s.onShippingOptionChange=this.onShippingOptionChange.bind(this)):this.req.pickupContact&&(this.transferOptions.pickup=!0),this.afterpayLibrary.initializeForPopup(s),e.removeChild(n)}detachElement(e,t){this.afterpayLibrary.close(),this.element&&(this.element.innerHTML=""),this.element=null,this.tokenizationBuffer=[],this.onTokenizeCallbacks=[],this.status=e,this.metricsHandler.logEvent(t)}}var Jd,eh,th=function(e){var t="b8a38183b2e5959390488e48f9b109f6a73fd53c",r="https://portal.sandbox.afterpay.com/afterpay.js?merchant_key=".concat(t);return l.env===s.staging&&(r="https://portal.stage.afterpay-beta.com/afterpay.js?merchant_key=".concat(t)),l.env!==s.production||e.isTestMerchant||(r="https://portal.afterpay.com/afterpay.js?merchant_key=".concat(t)),Promise.all([ta.load("afterpay",{src:r},"AfterPay"),ta.load("afterpay-messaging",{src:"https://js.afterpay.com/afterpay-1.x.js"},"Afterpay")])};!function(e){e.CUSTOMER_INTERACTION="CUSTOMER_INTERACTION",e.CUSTOMER_DISMISSED="CUSTOMER_DISMISSED",e.CUSTOMER_REQUEST_APPROVED="CUSTOMER_REQUEST_APPROVED",e.CUSTOMER_REQUEST_DECLINED="CUSTOMER_REQUEST_DECLINED",e.CUSTOMER_REQUEST_FAILED="CUSTOMER_REQUEST_FAILED"}(Jd||(Jd={})),function(e){e.REQUEST_CASH_APP_PAY_INSTANT_WALLET_TOKEN="REQUEST_CASH_APP_PAY_INSTANT_WALLET_TOKEN"}(eh||(eh={}));class rh extends Jr{constructor(){super("A grant was not returned from CashApp and is required for tokenization"),this.name="CashAppPayGrantIsUndefinedError",Object.setPrototypeOf(this,rh.prototype)}}function nh(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function ih(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){nh(o,n,i,s,a,"next",e)}function a(e){nh(o,n,i,s,a,"throw",e)}s(void 0)}))}}function oh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function sh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oh(Object(r),!0).forEach((function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oh(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ah=new Set(["USD"]),ch="cash_app_pay_v1_element";class uh extends Gs{constructor(e,t,r,n,i){if(super(n),this.methodType=ei.CASH_APP_PAY,this.wasFirstInteractionCalled=!1,this.isMobile=!1,this.CashAppPayInstance=e,this.req=t,this.context=n,this.paymentRequestLockController=i,this.paymentMessenger=new Vs(this.context),this.tokenizeValidator=function(){return Promise.resolve(!0)},this.clickEventHandler=()=>{this.beginAuthorizationFlow()},!this.session.locationId)throw new Rn(Ps,"locationId");if(!this.session.cashAppPayMerchantIdentifier)throw new Rn(Ps,"merchantId");if(!ah.has(this.req.currencyCode))throw new In("".concat(this.req.currencyCode," is not supported by CashAppPay. Valid currencies are: ").concat([...ah].join(", ")));var o=bi.paymentRequestAmountToMoneyAmount(this.req.total.amount,this.req.currencyCode);if(o<1)throw new In("".concat(this.req.total.amount," is an invalid payment amount. Total amount should be greater than 0"));if(!r.redirectURL)throw new An;var s=sh({actions:{payment:{amount:{currency:this.req.currencyCode,value:o},scopeId:this.session.cashAppPayMerchantIdentifier}}},r);e.customerRequest(s).catch((e=>{this.errorLogger.captureException(e),this.customerRequestFailedEvent()})),this.cashAppEventHandler={[Jd.CUSTOMER_INTERACTION]:e=>this.registerExternalEventStart(e),[Jd.CUSTOMER_DISMISSED]:()=>{this.dispatchEvent("customerDismissed",null)},[Jd.CUSTOMER_REQUEST_APPROVED]:e=>this.customerRequestApprovedEvent(e),[Jd.CUSTOMER_REQUEST_DECLINED]:()=>this.customerRequestDeclinedEvent(),[Jd.CUSTOMER_REQUEST_FAILED]:()=>this.customerRequestFailedEvent()},Object.keys(Jd).forEach((e=>this.CashAppPayInstance.addEventListener(e,this.cashAppEventHandler[e]))),this.paymentRequestLockController.lock(this)}attach(e,t,r){var n=this;return ih((function*(){n.throwIfDestroyedOrAlreadyAttached();var i=t,o=!1===i;i&&i.values&&(i.theme||(i.theme=i.values));var s=function(e){if(void 0===e||!1===e)return{isValid:!0,missingFields:[]};var t={};return Object.keys(e).forEach((function(e){Ho.has(e)&&(t[e]="string")})),Wu(e,t)}(i);if(!s.isValid)throw new _n(s.missingFields);var a=function(e){var t=[],r=!0;if(void 0===e||!1===e)return{isValid:r,missingFields:t};var n={shape:Xo,size:Qo,theme:Zo,width:Jo},i=JSON.parse(ns(e));return Object.entries(i).forEach((function(e){var[i,o]=e;o===Po&&(r=!1,t.push([i,[...n[i]].join(",")]))})),{isValid:r,missingFields:t}}(i);if(!a.isValid)throw new Sn(a.missingFields);if(r&&(n.tokenizeValidator=r),"function"!=typeof n.tokenizeValidator)throw new On;n.metricsHandler.logEvent(eo.AttachStart),i&&n.metricsHandler.logEvent(ro.Configured,i),n.status=js.ATTACHED,n.element=o?Qa(e):Wa(e);try{var c=document.createElement("div");c.id=ch,o?n.element.before(c):n.element.appendChild(c);var u="#".concat(ch);n.renderController=yield n.CashAppPayInstance.render(u,{button:i,manage:!1}),n.element.addEventListener("click",n.clickEventHandler),n.metricsHandler.logEvent(eo.AttachOK)}catch(e){throw n.metricsHandler.logEvent(eo.AttachError),n.status===js.ATTACHED&&(n.status=js.DETACHED),e}}))()}destroy(){return this.status===js.DESTROYED?Promise.resolve(!1):(this.detachElement(js.DESTROYED,ro.Destroyed),this.paymentRequestLockController.unlock(this),this.CashAppPayInstance.restart(),Object.keys(Jd).forEach((e=>this.CashAppPayInstance.removeEventListener(e,this.cashAppEventHandler[e]))),Promise.resolve(!0))}detach(){return this.throwIfDestroyedOrNotAttached(),this.detachElement(js.DETACHED,ro.Detached),Promise.resolve(!0)}addEventListener(e,t){this.metricsHandler.logEvent(ro.EventListenerAdded,e),super.addEventListener(e,t)}removeEventListener(e,t){super.removeEventListener(e,t)}customerRequestApprovedEvent(e){var t=this;return ih((function*(){var r=yield t.createNonce(e);t.dispatchEvent("ontokenization",{tokenResult:r})}))()}customerRequestDeclinedEvent(){var e={status:ri.CANCEL};this.metricsHandler.logEvent(to.ExternalSessionCancel),this.dispatchEvent("ontokenization",{tokenResult:e})}customerRequestFailedEvent(){var e={status:ri.ERROR,errors:[new Gn("tokenizing Cash App Pay")]};this.metricsHandler.logEvent(to.ExternalSessionError),this.dispatchEvent("ontokenization",{tokenResult:e})}createNonce(e){var t=this;return ih((function*(){var{customerProfile:r,grants:n,referenceId:i}=e,o=r.cashtag,s=n.payment,a=t.req.total.amount,c=t.req.currencyCode;try{if(!s)throw new rh;yield t.context.refreshWithCurrentAnalyticsToken();var u=yield t.paymentMessenger.request(eh.REQUEST_CASH_APP_PAY_INSTANT_WALLET_TOKEN,{paymentMethodTrackingID:t.context.getPaymentMethodTrackingId(),analyticsToken:t.session.analyticsToken,clientID:t.session.applicationId,locationID:t.session.locationId,sessionID:t.session.sessionId,websdkVersion:l.VERSION,websiteURL:t.session.sourceUrl,requestBillingContact:t.req.requestBillingContact,requestShippingContact:t.req.requestShippingContact,applicationId:t.session.applicationId,cashAppPayData:{referenceId:i,grantId:s.grantId,cashtag:o,totalAmount:{amount:a,currency:c},isMobile:t.isMobile}});return t.context.updateSession(u.sessionID),t.metricsHandler.logEvent(to.ExternalSessionOK),{details:{cashAppPay:{cashtag:o,referenceId:i},method:ei.CASH_APP_PAY},status:ri.OK,token:u.token}}catch(e){var d=e;return t.metricsHandler.logEvent(to.ExternalSessionError),bi.isInstanceOf(e,[Bn])||(t.errorLogger.captureException(e),d=new Gn("tokenizing CashAppPay")),{status:ri.ERROR,errors:[d]}}}))()}beginAuthorizationFlow(){var e=this;return ih((function*(){if(e.throwIfDestroyedOrNotAttached(),!e.renderController)throw new Gn("Could not begin Cash App Pay authorization flow");e.metricsHandler.logEvent(eo.CashAppPayClickValidating);try{(yield e.tokenizeValidator())?(e.renderController.begin(),e.metricsHandler.logEvent(eo.CashAppPayAuthStart)):e.metricsHandler.logEvent(eo.CashAppPayClickInvalid)}catch(t){throw e.metricsHandler.logEvent(eo.CashAppPayClickError),t}}))()}registerExternalEventStart(e){this.metricsHandler.logEvent(to.ExternalSessionStart),this.wasFirstInteractionCalled||(this.wasFirstInteractionCalled=!0,this.metricsHandler.logEvent(eo.FirstInteraction)),this.isMobile=e.isMobile,this.dispatchEvent("customerInteraction",sh({},e))}detachElement(e,t){this.renderController&&this.renderController.destroy();var r=document.getElementById(ch);r&&r.remove(),this.element&&this.element.removeEventListener("click",this.clickEventHandler),this.status=e,this.metricsHandler.logEvent(t)}}function lh(){return(lh=ih((function*(e){var t,r="https://sandbox.kit.cash.app/v1/pay.js";l.env!==s.production||e.isTestMerchant||(r="https://kit.cash.app/v1/pay.js");try{t=yield ta.load("cash-app-pay",{src:r},"CashApp")}catch(t){throw e.errorLogger.captureException(t),t}var n="CAS-CI_SQ_SELLER_STAGING";return l.env===s.sandbox||l.env===s.production&&e.isTestMerchant?n="CAS-CI_SQ_SELLER_SANDBOX":l.env===s.production&&(n="CA-CI_SQ_SELLER"),t.pay({clientId:n})}))).apply(this,arguments)}var dh={initialize:function(e){return lh.apply(this,arguments)}},hh=function(e,t,r,n,i){return new Zd(e,t,r,n,i)},ph=function(e,t,r){return new Sd(e,t,r)},fh=function(e,t,r,n,i){return new uh(e,t,r,n,i)},gh=function(e,t,r,n,i){return new Ll(e,t,r,n,i)};function mh(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}var vh={build(e){var t,r,n;function i(){t=e.generateFreshToken().catch((t=>(e.captureException(t),void 0!==r&&(clearInterval(r),r=void 0),n)))}function o(){var e;return e=function*(){return void 0===t?null:n=yield t},o=function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){mh(o,n,i,s,a,"next",e)}function a(e){mh(o,n,i,s,a,"throw",e)}s(void 0)}))},o.apply(this,arguments)}return Object.freeze({beginGenerateToken:i,retrieveCurrentToken:function(){return o.apply(this,arguments)},setupAutoRefresh:function(){void 0===r&&(r=setInterval((()=>{i()}),arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hs))},verifyBuyer:function(t,r){return e.verifyBuyer(t,r)}})}};function yh(e,t,r){const n=new Error(void 0!==r?`${e}\nSee: ${r}`:e);return n.name=t,n}const Eh={message:"The verification was not successful",type:"VERIFICATION_NOT_SUCCESSFUL"},_h={message:"A verification request is already in place",type:"VERIFICATION_IN_PROGRESS"},Sh={message:"The time to complete the verification has expired",type:"VERIFICATION_TIMEOUT"},Ih={analyticsParametersRequiredError:function(){return yh("The Analytics library must be initialized with analyticsParameters to call verifyBuyer.","AnalyticsParametersRequiredError")},invalidArgumentError:function(e,t){return yh(`The Analytics '${e}' argument must be of type '${t}'`,"InvalidArgumentError")},invalidElementTypeError:function(e,t){return yh(`An element with selector ${e} must be of type '${t}'`,"InvalidElementTypeError")},invalidFunctionArgumentError:function(e,t,r){return yh(`The '${e}' function '${t}' argument must be of type '${r}'.`,"InvalidFunctionArgumentError")},invalidFunctionCallbackError:function(e,t){return yh(`The '${e}' '${t}' callback must be a function.`,"InvalidFunctionCallbackError")},missingArgumentError:function(e){return yh(`The Analytics '${e}' argument is required.`,"MissingArgumentError")},missingChargeVerificationArgumentError:function(e,t){return yh(`The '${e}' '${t}' is required when verificationDetails.intent is 'CHARGE'.`,"MissingChargeVerificationArgumentError")},missingElementAttributeError:function(e,t){return yh(`An element with selector '${e}' attribute '${t}' is required`,"MissingElementAttributeError")},missingElementError:function(e){return yh(`An element with selector '${e}' cannot be found.`,"MissingElementError")},missingFunctionArgumentError:function(e,t){return yh(`The '${e}' '${t}' argument is required.`,"MissingFunctionArgumentError")},missingFunctionCallbackError:function(e,t){return yh(`The '${e}' '${t}' callback is required.`,"MissingFunctionCallbackError")},noIdsError:function(){return yh("One of analyticsParameters.locationId or analyticsParameters.accountId must be specified.","NoIdsError")},outOfRangeArgumentError:function(e,t,r,n,i=!1){return yh(`The '${e}' function '${t}' argument must be within range: ${r} and ${n} (${(i?"inclusive":"exclusive")+" of upper limit"}).`,"OutOfRangeArgumentError")},tooManyIdsError:function(){return yh("Only one of analyticsParameters.locationId or analyticsParameters.accountId can be specified.","TooManyIdsError")}},Ah=()=>window.location.href;let Oh;const Ch=[],Th={};let bh,wh=e=>{Ch.push(e)};function Rh(e){if(e.origin!==Oh)return;const t=e.data;if("object"==typeof t&&"string"==typeof t.instanceId){const e=Th[t.instanceId];"function"==typeof e&&e(t)}}function Ph(e){bh?.contentWindow&&bh.contentWindow.postMessage(e,Oh)}function Nh(){let e;for(window.addEventListener("message",Rh,!1);e=Ch.shift();)Ph(e);wh=Ph}function Dh(){bh=document.createElement("iframe"),bh.setAttribute("width","0"),bh.setAttribute("height","0"),bh.setAttribute("src",`${Oh}/payments/data/frame.html?referer=${encodeURIComponent(Ah())}`),bh.setAttribute("style","border: none !important; display: block !important; visibility: hidden !important"),bh.setAttribute("sandbox","allow-scripts allow-same-origin"),bh.addEventListener("load",Nh),document.body.appendChild(bh)}var Lh,xh,kh={init(e){Oh=e,void 0===bh&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",Dh):Dh())},listenFor(e,t){Th[e]=t},reset(){bh&&(window.removeEventListener("message",Rh),bh.removeEventListener("load",Nh),bh.remove(),bh=void 0),Ch.length=0;for(const e in Th)delete Th[e];document.removeEventListener("DOMContentLoaded",Dh)},send(e){wh(e)}};!function(e){e.AUTHENTICATED="Y",e.AUTHENTICATION_ATTEMPTED="A",e.CHALLENGE_REQUIRED="C",e.DECOUPLED_CHALLENGE_REQUIRED="D",e.NOT_AUTHENTICATED="N",e.AUTHENTICATION_COULD_NOT_BE_PERFORMED="U",e.INFORMATIONAL_ONLY="I",e.REJECTED="R"}(Lh||(Lh={})),function(e){e._250X400="01",e._390X400="02",e._500X600="03",e._600X400="04",e.FULL_SCREEN="05"}(xh||(xh={}));class Mh{constructor(e){this.iframeInputs=e,this.eventListenerReference=this.handleResponse.bind(this)}async handle(){const e=new Promise(((e,t)=>{this.threeDSPromiseResolve=e,this.threeDSPromiseReject=t}));return this.build(),this.submit(),e}build(){void 0!==this.iframeInputs.iframeSelector&&document.querySelector(this.iframeInputs.iframeSelector)?this.iframe=document.querySelector(this.iframeInputs.iframeSelector):this.buildDefault();const e=`${this.iframeInputs.baseID}-form`;if(document.getElementById(e))this.form=document.getElementById(e);else{this.form=document.createElement("form"),this.form.setAttribute("id",e),this.form.setAttribute("name",`${this.iframeInputs.baseName}Form`),this.form.setAttribute("method","POST"),this.form.setAttribute("action",this.iframeInputs.notificationURL),this.form.setAttribute("target",this.iframe.name);const t=document.createElement("input");t.setAttribute("name",this.iframeInputs.notificationData.name),t.setAttribute("value",this.iframeInputs.notificationData.data),t.setAttribute("type","hidden"),this.form.appendChild(t),document.body.appendChild(this.form)}window.addEventListener("message",this.eventListenerReference)}buildDefault(){const e=`${this.iframeInputs.baseID}-modal`;document.getElementById(e)?this.modal=document.getElementById(e):(this.modal=document.createElement("div"),this.modal.id=e,this.modal.classList.add("square_threeds_modal"),document.body.appendChild(this.modal));const t=`${this.iframeInputs.baseID}-iframe`,r=document.getElementById(t);r&&this.modal.contains(r)?this.iframe=document.getElementById(t):(this.iframe=document.createElement("iframe"),this.iframe.id=t,this.iframe.name=`${this.iframeInputs.baseName}Iframe`,this.iframe.setAttribute("frameBorder","0"),this.iframe.setAttribute("width",this.iframeInputs.width),this.iframe.setAttribute("height",this.iframeInputs.height),this.iframe.setAttribute("sandbox","allow-forms allow-scripts allow-same-origin allow-pointer-lock"),this.iframe.setAttribute("style","visibility: hidden"),this.iframe.setAttribute("allowpaymentrequest","false"),this.iframe.setAttribute("allowfullscreen","false"),this.iframe.setAttribute("allow","payment *;publickey-credentials-get *"),this.iframe.classList.add("square_threeds_iframe"),this.modal.appendChild(this.iframe))}handleResponse(e){const t=e.data;if("object"==typeof t&&t.type===this.iframeInputs.listenerMessageType){this.destroy();const e=this.iframeInputs.validateMessage(t);if(e.isValid)this.threeDSPromiseResolve(t);else{const r={message:e.message??`Square 3DS Iframe received event: ${JSON.stringify(t)}`,type:e.type??"THREEDS_IFRAME_INVALID_RESPONSE_MESSAGE"};this.threeDSPromiseReject(r)}}}submit(){this.form.isConnected?(this.form.submit(),void 0!==this.iframeInputs.onShow&&this.iframeInputs.onShow(this.iframe,this.modal),void 0!==this.iframeInputs.timeoutSeconds&&(this.timeoutID=window.setTimeout(this.timedOut.bind(this),1e3*this.iframeInputs.timeoutSeconds))):(this.destroy(),this.threeDSPromiseReject(this.iframeInputs.getErrorMessage("SQUARE_3DS_IFRAME_FORM_DISCONNECTED")))}timedOut(){this.destroy(),this.threeDSPromiseReject(this.iframeInputs.getErrorMessage("SQUARE_3DS_IFRAME_TIMEOUT"))}destroy(){void 0!==this.timeoutID&&window.clearTimeout(this.timeoutID),window.removeEventListener("message",this.eventListenerReference),void 0!==this.iframeInputs.onDestroy&&this.iframeInputs.onDestroy(this.iframe),this.form.isConnected&&this.form.remove(),void 0!==this.modal&&this.modal.isConnected&&(this.iframe.isConnected&&this.iframe.remove(),this.modal.remove())}}function Uh(e){switch(e){case"SQUARE_3DS_IFRAME_TIMEOUT":return{message:"Three ds method timed out while waiting for a response.",type:"THREEDS_METHOD_TIMEOUT"};case"SQUARE_3DS_IFRAME_FORM_DISCONNECTED":return{message:"Form is no longer connected.",type:"THREEDS_METHOD_FORM_DISCONNECTED"};default:return{message:`Three ds method failed with unexpected error: ${e}`,type:"THREEDS_METHOD_FAILED"}}}class jh{constructor(e){if(void 0===e.threeDsMethodUrl||void 0===e.threeDsMethodNotificationUrl)throw new Error(`Cannot complete 3DS method flow, one or more of threeDSMethodUrl and threeDSMethodNotificationUrl are undefined. Transaction data: ${JSON.stringify(e)}`);this.threeDsMethodUrl=e.threeDsMethodUrl,this.threeDSMethodData={threeDSMethodNotificationURL:e.threeDsMethodNotificationUrl,threeDSServerTransID:e.threeDSServerTransId},this.square3DSMethodIframe=new Mh({baseID:"sq-threeds-3ds-method",baseName:"3DSMethod",getErrorMessage:Uh,height:"10",listenerMessageType:"threeDsMethodResponse",notificationData:{data:btoa(JSON.stringify(this.threeDSMethodData)),name:"threeDSMethodData"},notificationURL:this.threeDsMethodUrl,timeoutSeconds:11,validateMessage:this.validateMessage.bind(this),width:"10"})}async handle3DSMethod(){return this.square3DSMethodIframe.handle()}validateMessage(e){return e.threeDsServerTransId===this.threeDSMethodData.threeDSServerTransID?{isValid:!0}:{isValid:!1,message:`Received 3DS method response with transaction ID ${e.threeDsServerTransId}, expected ${this.threeDSMethodData.threeDSServerTransID}`,type:"THREEDS_METHOD_INCORRECT_TRANSACTION_ID"}}}const Hh="data-challenge-displayed",Bh="VISIBLE";function Gh(e){return"SQUARE_3DS_IFRAME_FORM_DISCONNECTED"===e?{message:"Form is no longer connected.",type:"CHALLENGE_FLOW_FORM_DISCONNECTED"}:{message:`Challenge flow failed with error: ${e}`,type:"CHALLENGE_FLOW_FAILED"}}class Fh{constructor(e,t){if(void 0===e.acsUrl||void 0===e.encodedCReq)throw new Error(`Cannot complete Challenge flow, acsUrl or encodedCReq is undefined. Transaction data: ${JSON.stringify(e)}`);this.acsUrl=e.acsUrl,this.challengeFlowData={encodedCReq:e.encodedCReq,threeDSServerTransID:e.threeDSServerTransId};const r=this.decodeChallengeWindowSize();void 0!==t&&({challengeDisplayedCallback:this.challengeDisplayedCallback,challengeHiddenCallback:this.challengeHiddenCallback,elementSelector:this.iframeSelector}=t);const n={baseID:"sq-threeds-challenge-flow",baseName:"3DSChallengeFlow",getErrorMessage:Gh,height:`${r.height}`,listenerMessageType:"challengeResponse",notificationData:{data:this.challengeFlowData.encodedCReq,name:"creq"},notificationURL:this.acsUrl,onDestroy:this.onDestroy.bind(this),onShow:this.onShow.bind(this),timeoutSeconds:610,validateMessage:this.validateMessage.bind(this),width:`${r.width}`};void 0!==this.iframeSelector&&(n.iframeSelector=this.iframeSelector),this.squareChallengeFlowIframe=new Mh(n)}async handleChallengeFlow(){return this.squareChallengeFlowIframe.handle().then((e=>e))}onShow(e,t){e.setAttribute(Hh,Bh),e.setAttribute("style","visibility: visible"),void 0!==this.challengeDisplayedCallback&&this.challengeDisplayedCallback(),t&&t.classList.add("square_threeds_modal__show")}onDestroy(e){const t=e.getAttribute(Hh)===Bh;e.setAttribute(Hh,"REMOVED"),void 0!==this.challengeHiddenCallback&&t&&this.challengeHiddenCallback()}validateMessage(e){return e.threeDsServerTransId===this.challengeFlowData.threeDSServerTransID?{isValid:!0}:{isValid:!1,message:`Received Challenge response with transaction ID ${e.threeDsServerTransId}, expected ${this.challengeFlowData.threeDSServerTransID}`,type:"CHALLENGE_RESPONSE_INCORRECT_TRANSACTION_ID"}}decodeChallengeWindowSize(){let e=xh._250X400;try{const t=JSON.parse(atob(this.challengeFlowData.encodedCReq));null!==t&&"object"==typeof t&&"challengeWindowSize"in t&&(e=t.challengeWindowSize)}catch(e){console.error(`Error decoding challenge window size: ${e.toString()}. Going with default 250x400`)}switch(e){case xh._390X400:return{height:400,width:390};case xh._500X600:return{height:600,width:500};case xh._600X400:return{height:400,width:600};case xh.FULL_SCREEN:return{height:document.documentElement.clientHeight,width:document.documentElement.clientWidth};case xh._250X400:default:return{height:400,width:250}}}}var qh;!function(e){e.COMPLETED="COMPLETED",e.ERROR="ERROR"}(qh||(qh={}));class Vh{constructor(e){this.userChallenged=!1,this.esLogger=e}async execute3dsAuthentication(e,t){this.configuration=e,this.threeDsTransactionData=t,await this.handle3DSMethodFlow();try{const e=await this.authenticate();await this.handleAuthenticateResponse(e)}catch(e){this.handleError(e)}}async handle3DSMethodFlow(){if(void 0!==this.threeDsTransactionData?.threeDsMethodUrl)try{const e=new jh(this.threeDsTransactionData);await e.handle3DSMethod()}catch(e){console.error("3DS method flow failed.",{error:e})}}async handleChallengeFlow(e){this.esLogger.track({analyticsjs_event:"buyer_challenged",analyticsjsverification_challenge_type:"3DS",analyticsjsverification_id:this.threeDsTransactionData.verificationId,analyticsjsverification_verification_token:this.threeDsTransactionData.verificationToken});const t={threeDSServerTransId:e.three_ds_server_trans_id};return void 0!==e.encoded_creq&&(t.encodedCReq=e.encoded_creq),void 0!==e.challenge_acs_url&&(t.acsUrl=e.challenge_acs_url),new Fh(t,this.configuration.verifyBuyerCustomElement).handleChallengeFlow()}authenticate(){const e={browser_info:{color_depth:window.screen.colorDepth,java_enabled:window.navigator.javaEnabled(),screen_height:window.innerHeight,screen_width:window.innerWidth},client_id:"",token:this.threeDsTransactionData.verificationToken};return this.configuration.callbacks.postAuthenticate(e)}async handleAuthenticateResponse(e){if(void 0===e.errors)if(e.three_ds_trans_status===Lh.CHALLENGE_REQUIRED)try{this.userChallenged=!0,await this.handleChallengeFlow(e),this.configuration.callbacks.onComplete({status:qh.COMPLETED,threeDsServerTransId:this.threeDsTransactionData.threeDSServerTransId,userChallenged:!0})}catch(e){this.handleError(e)}else this.configuration.callbacks.onComplete({status:qh.COMPLETED,threeDsServerTransId:this.threeDsTransactionData.threeDSServerTransId,userChallenged:this.userChallenged});else this.configuration.callbacks.onComplete({status:qh.ERROR,threeDsServerTransId:this.threeDsTransactionData.threeDSServerTransId,userChallenged:this.userChallenged})}handleError(e){this.configuration.callbacks.onComplete({status:qh.ERROR,threeDsServerTransId:this.threeDsTransactionData.threeDSServerTransId,userChallenged:this.userChallenged})}}class zh{constructor(e,t,r){this.callback=e,this.onError=r,this.called=!1,this.callback=e,this.timeout=window.setTimeout((()=>this.timedOut()),t),this.onError=r}invoke(...e){this.called?this.callback(...this.onError):(clearTimeout(this.timeout),this.called=!0,this.callback(...e))}timedOut(){this.invoke(...this.onError)}}function Yh(e){return"type"in e&&"message"in e}class $h{constructor(e,t,r,n){this.instanceId=e,this.applicationId=t,this.analyticsParameters=r,this.esLogger=n,this.instanceId=e,this.applicationId=t,this.analyticsParameters=r,this.esLogger=n,this.challengeUpdatesQueue=[],this.verificationUpdatePending=!1,this.userChallenged=!1,(()=>{this.pendingVerifyBuyerCall&&this.verifyBuyer(this.pendingVerifyBuyerCall.verificationId,this.pendingVerifyBuyerCall.source,this.pendingVerifyBuyerCall.details,this.pendingVerifyBuyerCall.callback,this.pendingVerifyBuyerCall.verifyBuyerCustomElement)})()}verifyBuyer(e,t,r,n,i){void 0===this.verifyBuyerCallback?(this.squareThreeds=new Vh(this.esLogger),this.verifyBuyerCallback=new zh(((e,t)=>{n(e,t),delete this.verifyBuyerCallback}),9e5,[Sh]),this.getVerification(e,t,r)):n(_h,null)}updateVerification(e,t){const r=t.some((e=>{if("SQUARE_THREEDS"===e.type){const t=e.square_threeds_verification?.status;return function(e){return"CANCELED"===e||"REJECTED"===e||"AUTHENTICATED"===e||"COMPLETED"===e}(t)||"ERROR"===t}return!1})),n={challengeUpdates:t,token:this.token},i={analyticsParameters:this.analyticsParameters,applicationId:this.applicationId,data:n,instanceId:this.instanceId,type:"requestVerificationUpdate",verificationId:e,version:2};!this.verificationUpdatePending||r?(kh.send(i),this.verificationUpdatePending=!r):this.challengeUpdatesQueue.push(t)}handleThreeDsAuthenticate(e,t){Yh(t)?this.threeDsAuthenticatePromiseReject(t):this.threeDsAuthenticatePromiseResolve(t)}handleChallenges(e,t){if(void 0===this.verifyBuyerCallback)return;const r=this.challengeUpdatesQueue.shift();if(void 0!==r?this.updateVerification(e,r):this.verificationUpdatePending=!1,Yh(t))return void this.verifyBuyerCallback.invoke(t,null);this.token=t.token;const n={token:this.token,userChallenged:this.userChallenged};switch(t.status){case"COMPLETED":this.verifyBuyerCallback.invoke(null,n);break;case"CANCELED":this.verifyBuyerCallback.invoke({...Eh,token:t.token},null);break;case"PENDING":for(const r of t.challenges)if("SQUARE_THREEDS"===r.type){if(this.squareThreedsConfiguration={callbacks:{onComplete:t=>{this.handleSquareThreeDsComplete(t,e)},postAuthenticate:t=>this.handlePostAuthenticate(t,e)}},!this.isValidSquareThreeDsChallenge(r))return;this.squareThreeDsTransactionData={directoryServerId:r.square_three_ds_verification.directory_server_id,messageVersion:r.square_three_ds_verification.message_version,threeDSServerTransId:r.square_three_ds_verification.three_ds_server_transaction_id,threeDsMethodNotificationUrl:r.square_three_ds_verification?.three_ds_method_notification_url,threeDsMethodUrl:r.square_three_ds_verification?.three_ds_method_url,verificationId:e,verificationToken:this.token},this.squareThreeds.execute3dsAuthentication(this.squareThreedsConfiguration,this.squareThreeDsTransactionData)}break;default:console.log(`Unknown status: ${t.status}`)}}isValidSquareThreeDsChallenge(e){return void 0!==e.square_three_ds_verification?.three_ds_server_transaction_id}getVerification(e,t,r){const n={analyticsParameters:this.analyticsParameters,applicationId:this.applicationId,data:{source:t,verificationDetails:r},instanceId:this.instanceId,type:"requestVerification",verificationId:e,version:2};kh.send(n)}handleSquareThreeDsComplete(e,t){this.userChallenged=e.userChallenged;const r={square_threeds_verification:{directory_server_id:this.squareThreeDsTransactionData.directoryServerId,message_version:this.squareThreeDsTransactionData.messageVersion,status:e.status===qh.COMPLETED?qh.COMPLETED:qh.ERROR,three_ds_server_transaction_id:e.threeDsServerTransId},type:"SQUARE_THREEDS"};this.updateVerification(t,[r])}handlePostAuthenticate(e,t){const r=new Promise(((e,t)=>{this.threeDsAuthenticatePromiseResolve=e,this.threeDsAuthenticatePromiseReject=t}));return kh.send({analyticsParameters:this.analyticsParameters,applicationId:this.applicationId,data:{...e,client_id:this.applicationId},instanceId:this.instanceId,type:"requestThreeDsAuthenticate",verificationId:t,version:3}),r}}function Kh(e,t){if(!e)throw Ih.missingFunctionCallbackError("IframeCustomElement",t);if("function"!=typeof e)throw Ih.invalidFunctionCallbackError("IframeCustomElement",t)}function Wh(e){if("object"!=typeof e||!e)return"";const t=[];return"string"==typeof e.familyName&&e.familyName&&t.push("familyName"),"string"==typeof e.givenName&&e.givenName&&t.push("givenName"),"string"==typeof e.email&&e.email&&t.push("email"),"string"==typeof e.country&&e.country&&t.push("country"),"string"==typeof e.countryName&&e.countryName&&t.push("countryName"),"string"==typeof e.region&&e.region&&t.push("region"),"string"==typeof e.city&&e.city&&t.push("city"),"object"==typeof e.addressLines&&e.addressLines.join()&&t.push("addressLines"),"string"==typeof e.postalCode&&e.postalCode&&t.push("postalCode"),"string"==typeof e.phone&&e.phone&&t.push("phone"),t.join(",")}class Qh{constructor(e,t,r){this.applicationId=e,this.esLogger=t,this.instanceId=`sq-analytics-${(new Date).getMilliseconds()}-${1e5*Math.random()}`,function(e,t){if(!e)throw Ih.missingArgumentError("applicationId");if("string"!=typeof e)throw Ih.invalidArgumentError("applicationId","string");if(t){const e="locationId"in t,r="accountId"in t;if(!e&&!r)throw Ih.noIdsError();if(e&&r)throw Ih.tooManyIdsError();if(e&&"string"!=typeof t.locationId)throw Ih.invalidArgumentError("analyticsParameters.locationId","string");if(r&&"string"!=typeof t.accountId)throw Ih.invalidArgumentError("analyticsParameters.accountId","string")}}(e,r),kh.listenFor(this.instanceId,this.messageReceived.bind(this)),r&&(this.verifier=new $h(this.instanceId,this.applicationId,r,this.esLogger),this.analyticsParameters=r)}getToken(e){if(void 0!==this.tokenCallback)return;this.tokenCallback=e;const t={applicationId:this.applicationId,instanceId:this.instanceId,type:"requestToken",version:1};kh.send(t)}verifyBuyer(e,t,r,n){const i=t,o=`verify-buyer-${(new Date).getMilliseconds()}-${1e5*Math.random()}`;this.esLogger.track({analyticsjs_event:"verify_buyer_invoked",analyticsjsverification_amount:i.amount,analyticsjsverification_contact_fields:Wh(i.billingContact),analyticsjsverification_currency:i.currencyCode,analyticsjsverification_custom_score:i.customScore,analyticsjsverification_id:o,analyticsjsverification_intent:i.intent,analyticsjsverification_source:e,analyticsjsverification_source_prefix:e.substr(0,5),analyticsjsverification_square_product:i.squareProduct});try{!function(e,t,r,n,i){const o="verifyBuyer";if(!e)throw Ih.analyticsParametersRequiredError();if(void 0===t)throw Ih.missingFunctionArgumentError(o,"source");if("string"!=typeof t)throw Ih.invalidFunctionArgumentError(o,"source","string");if(!r)throw Ih.missingFunctionArgumentError(o,"verificationDetails");if("object"!=typeof r)throw Ih.invalidFunctionArgumentError(o,"verificationDetails","object");if(function(e,t){const r="verificationDetails";if("object"!=typeof t.billingContact)throw Ih.invalidFunctionArgumentError(e,`${r}.billingContact`,"object");const{customScore:n}=t;if(void 0!==n){if("number"!=typeof n||Number.isNaN(n))throw Ih.invalidFunctionArgumentError(e,`${r}.customScore`,"integer");if(n<0||n>1e3)throw Ih.outOfRangeArgumentError(e,`${r}.customScore`,0,1e3,!0)}if("string"!=typeof t.intent)throw Ih.invalidFunctionArgumentError(e,`${r}.intent`,"string");if("CHARGE"===t.intent||"CHARGE_AND_STORE"===t.intent){if(!t.currencyCode)throw Ih.missingChargeVerificationArgumentError(e,`${r}.currencyCode`);if("string"!=typeof t.currencyCode)throw Ih.invalidFunctionArgumentError(e,`${r}.currencyCode`,"string");if(!t.amount)throw Ih.missingChargeVerificationArgumentError(e,`${r}.amount`);if("string"!=typeof t.amount)throw Ih.invalidFunctionArgumentError(e,`${r}.amount`,"string")}}(o,r),!n)throw Ih.missingFunctionCallbackError(o,"verifyBuyerCallback");if("function"!=typeof n)throw Ih.invalidFunctionCallbackError(o,"verifyBuyerCallback");void 0!==i&&(function(e){if("string"!=typeof e)throw Ih.invalidArgumentError("iframeElementSelector","string");const t=document.querySelector(e);if(null===t)throw Ih.missingElementError(e);if(null===t.getAttribute("name"))throw Ih.missingElementAttributeError(e,"name");if("iframe"!==t.tagName.toLowerCase()||null===t.contentDocument&&null===t.contentWindow)throw Ih.invalidElementTypeError(e,"IFrameElement")}(i.elementSelector),Kh(i.challengeDisplayedCallback,"elementVisibleCallback"),Kh(i.challengeHiddenCallback,"elementRemovedCallback"))}(this.analyticsParameters,e,i,r,n)}catch(t){throw this.esLogger.track({analyticsjs_event:"verify_buyer_completed",analyticsjsverification_error:t.message,analyticsjsverification_id:o,analyticsjsverification_source:e}),t}this.verifier.verifyBuyer(o,e,i,((t,n)=>{const i={analyticsjs_event:"verify_buyer_completed",analyticsjsverification_id:o,analyticsjsverification_source:e};t&&(i.analyticsjsverification_error=t.message),n&&(i.analyticsjsverification_verification_token=n.token),this.esLogger.track(i),r(t,n)}),n)}messageReceived(e){if("receiveToken"===e.type&&"function"==typeof this.tokenCallback)this.tokenCallback(e.token),delete this.tokenCallback;else if("receiveVerification"===e.type||"receiveVerificationUpdate"===e.type){const t="receiveVerification"===e.type?"receive_verification":"receive_verification_update";this.esLogger.track({analyticsjs_event:t,analyticsjsverification_id:e.verificationId,analyticsjsverification_verification_token:e.verificationId}),this.verifier.handleChallenges(e.verificationId,e.response)}else"receiveThreeDsAuthenticate"===e.type&&(this.esLogger.track({analyticsjs_event:"receive_three_ds_authenticate",analyticsjsverification_id:e.verificationId,analyticsjsverification_verification_token:e.verificationId}),this.verifier.handleThreeDsAuthenticate(e.verificationId,e.response))}}const Xh=(e,t,r)=>new Qh(e,t,r),Zh=/^https?:\/\//;function Jh(e){if(!e)return"";if(!Zh.test(e))return"[Not Parsable]";const t=new URL(e);return`${t.protocol}//${t.host}`}const ep={buyer_challenged:"analyticsjsverification",receive_three_ds_authenticate:"analyticsjsverification",receive_verification:"analyticsjsverification",receive_verification_update:"analyticsjsverification",verify_buyer_completed:"analyticsjsverification",verify_buyer_invoked:"analyticsjsverification"};class tp{constructor(e,t,r){const{locationId:n,avt:i}=r;this.es=e,this.baseEvent=function(e,t,r){return"accountId"in r?{anonymous_user_token:t,oauth_credential_account_id:r.accountId,oauth_credential_client_id:e}:{anonymous_user_token:t,oauth_credential_client_id:e,oauth_credential_location_id:r.locationId}}(t,i,{locationId:n??""})}track(e){try{const t={catalog_name:ep[e.analyticsjs_event],...this.baseEvent,...e,webpage_full_url:Jh(Ah()),webpage_path:"",webpage_referrer:Jh(window.document.referrer),webpage_referrer_path:"",webpage_referrer_search:"",webpage_search:""};this.es.trackV2WithDefaults(t)}catch(t){console.debug("[ANALYTICS] error logging event:",e.analyticsjs_event)}}trackTdsEvent(e){try{this.es.trackV2(e)}catch(t){console.debug("[ANALYTICS] error logging event:",e.catalog_name)}}}class rp{constructor(e){const{applicationName:t,environment:r}=e;console.log(`Launching eventstreamClient - ${t}, env ${r}`)}trackV2(e){console.log(`Tracking event ${JSON.stringify(e)}`)}trackV2WithDefaults(e){console.log(`Tracking event ${JSON.stringify(e)}`)}}const np={setupClient(e,t){const{locationId:r,connectApiUrl:n,environment:i}=t;kh.init(n);const o=new rp({applicationName:"payapi-analytics",environment:i}),s=new tp(o,e,t);return void 0===r?Xh(e,s):Xh(e,s,{locationId:r})}};function ip(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function op(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ip(Object(r),!0).forEach((function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ip(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function sp(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}var ap="".concat(l.ASSET_URL,"/square-threeds-modal.css");class cp{constructor(e,t,r,n){this.applicationId=e,this.locationId=t,this.debugLogger=r,this.numGenerateCalls=0,this.activeTokenPromise=null,this.avt=n}generateFreshToken(){var e,t=this;return(e=function*(){t.numGenerateCalls+=1;var e=t.numGenerateCalls;t.debugLogger.debug("spawning generate ".concat(e));var r=t.getAnalyticsClient(),n=yield t.getTokenPromise(r);return t.debugLogger.debug("done with getToken ".concat(e)),t.activeTokenPromise=null,n},function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){sp(o,n,i,s,a,"next",e)}function a(e){sp(o,n,i,s,a,"throw",e)}s(void 0)}))})()}verifyBuyer(e,t){var r=this.getAnalyticsClient(),n=op(op({},t),{},{billingContact:Bs(t.billingContact)});return this.verifyBuyerPromise(r,e,n)}captureException(e){}getAnalyticsClient(){if(this.analyticsClient)return this.analyticsClient;Au.addStyleElement(ap,"sq-threeds-modal-styles");var e=np.setupClient(this.applicationId,{avt:this.avt,connectApiUrl:l.CONNECT_API_URL,environment:l.env,locationId:this.locationId});return this.analyticsClient=e,e}getTokenPromise(e){return this.activeTokenPromise?this.debugLogger.debug("Reusing existing client.getToken call"):(this.debugLogger.debug("Calling client.getToken"),this.activeTokenPromise=new Promise((t=>{e.getToken((e=>{this.debugLogger.debug("Resolving callback from client.getToken"),t(e)}))}))),this.activeTokenPromise}verifyBuyerPromise(e,t,r){return new Promise(((n,i)=>{e.verifyBuyer(t,r,((e,t)=>{e?i(e):null!==t?n(t):i(new Gn("Received null verifyBuyer details without an error object"))}))}))}}function up(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function lp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?up(Object(r),!0).forEach((function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):up(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function dp(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function hp(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){dp(o,n,i,s,a,"next",e)}function a(e){dp(o,n,i,s,a,"throw",e)}s(void 0)}))}}var pp="".concat(l.API_PROTOCOL,"js.").concat(l.API_PUBLIC_HOST,"/payments/data.js");class fp{constructor(e,t,r){this.applicationId=t,this.locationId=r,this.errorLogger=e,this.activeTokenPromise=null}generateFreshToken(){var e=this;return hp((function*(){var t=yield e.getAnalyticsLibrary(),r=yield e.getTokenPromise(t);return e.activeTokenPromise=null,r}))()}verifyBuyer(e,t){var r=this;return hp((function*(){var n=yield r.getAnalyticsLibrary(),i=lp(lp({},t),{},{billingContact:Bs(t.billingContact)});return r.verifyBuyerPromise(n,e,i)}))()}captureException(e){e instanceof kn&&this.errorLogger.captureException(e)}getAnalyticsLibrary(){var e=this;return hp((function*(){if(e.library)return e.library;var t=yield ta.load("analytics-link",{src:pp,crossorigin:"anonymous"},"Square","Analytics");return e.library=new t(e.applicationId,{locationId:e.locationId}),e.library}))()}getTokenPromise(e){var t;return null!==(t=this.activeTokenPromise)&&void 0!==t||(this.activeTokenPromise=new Promise((t=>{e.getToken((e=>{t(e)}))}))),this.activeTokenPromise}verifyBuyerPromise(e,t,r){return new Promise(((n,i)=>{e.verifyBuyer(t,r,((e,t)=>{e?i(e):null!==t?n(t):i(new Gn("Received null verifyBuyer details without an error object"))}))}))}}function gp(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function mp(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){gp(o,n,i,s,a,"next",e)}function a(e){gp(o,n,i,s,a,"throw",e)}s(void 0)}))}}function vp(e,t){var{paymentMethodSupportDetail:r,metricsHandler:n}=t,i=t.getSession();if(!i.locationId||0===i.locationId.length)throw new Rn(Ps,"locationId");if(r&&r[e]&&!r[e].IsSupported){var{UnsupportedReasonType:o}=r[e],s=Ns;throw o&&o in Ts&&(s=Ds[o]),n.logEvent(eo.BuildError),new Rn(s)}}function yp(e,t){if(!(e instanceof fl))throw t.metricsHandler.logEvent(eo.BuildError),new pn([["paymentRequest","PaymentRequest"]])}class Ep{constructor(e,t,r){this.localeStrings=new Ro(navigator.language),this.paymentOptions=e,this.metrics=t,this.errorLogger=r,this.paymentRequestLockMap=new WeakMap}overrideStrings(e){var t=this;return mp((function*(){try{var r=yield t.getPaymentContext(co.App);if(!r.featureFlagHandler.isActive(Ii.CanUseOverrideStrings))throw new Tn("overrideStrings");r.metricsHandler.logEvent(ro.OverrideStrings,e),r.setTranslationOverrides(e)}catch(e){if(Ji(e))throw t.errorLogger.captureException(e),new Gn("overriding the strings");throw e}}))()}setLocale(e){var t=this;return mp((function*(){try{var r=yield t.getPaymentContext(co.App);return r.metricsHandler.logEvent(ro.SetLocale,e),r.setLocale(e)}catch(e){if(Ji(e))throw t.errorLogger.captureException(e),new Gn("setting the locale");throw e}}))()}verifyBuyer(e,t){var r=this;return mp((function*(){var n=[];if(r.paymentOptions.locationId&&0!==r.paymentOptions.locationId.length||n.push(new Ls("verifyBuyer","locationId","string")),e&&"string"==typeof e&&0!==e.length||n.push(new Ls("verifyBuyer","source","string")),t&&"object"==typeof t?n.push(...Xl.validateVerificationDetails(t,"verifyBuyer")):n.push(new Ls("verifyBuyer","details","object")),n.length>0)throw new xs(n);var i=yield r.getPaymentContext(co.App,!1);try{i.metricsHandler.logEvent(eo.VerificationStart);var o=yield i.analyticsManager.verifyBuyer(e,t);return i.metricsHandler.logEvent(eo.VerificationOK),o}catch(e){if(i.metricsHandler.logEvent(eo.VerificationError),e instanceof kn)throw r.errorLogger.captureException(e),e;throw new dn(e)}}))()}card(e){var t=this;return mp((function*(){var r=yield t.getPaymentContext(co.Card);r.metricsHandler.logEvent(eo.BuildStart);try{var n=new xu(r,e);return r.metricsHandler.logEvent(eo.BuildOK),n}catch(e){throw r.metricsHandler.logEvent(eo.BuildError),e}}))()}paymentRequest(e){var t=new jl,r=new fl(e,this.localeStrings,t);return this.paymentRequestLockMap.set(r,t),this.getPaymentContext(co.PaymentRequest).then((t=>{var{metricsHandler:n}=t;r.setMetricsHandler(n),n.logEvent(ro.Configured,e)})),r}googlePay(e){var t=this;return mp((function*(){var r=yield t.getPaymentContext(co.GooglePay);r.metricsHandler.logEvent(eo.BuildStart),vp(ps.GOOGLE_PAY,r),function(e){if("undefined"==typeof ShadowRoot)throw e.metricsHandler.logEvent(eo.BuildError),new Rn(Rs)}(r),yp(e,r);try{var n=t.getPaymentRequestLock(e),[i,o]=yield Ul(r),s=gh(i,e,r,o,n);return r.metricsHandler.logEvent(eo.BuildOK),s}catch(e){throw r.metricsHandler.logEvent(eo.BuildError),e}}))()}applePay(e){var t=this;return mp((function*(){var r=yield t.getPaymentContext(co.ApplePay);r.metricsHandler.logEvent(eo.BuildStart),vp(ps.APPLE_PAY,r),yp(e,r);try{var n=t.getPaymentRequestLock(e),i=ph(e,r,n);return r.metricsHandler.logEvent(eo.BuildOK),i}catch(e){throw r.metricsHandler.logEvent(eo.BuildError),e}}))()}ach(e){var t=this;return mp((function*(){var r=yield t.getPaymentContext(co.Ach);r.metricsHandler.logEvent(eo.BuildStart),vp(ps.ACH,r);try{var n=new ka(r,e);return yield n.initialize(),r.metricsHandler.logEvent(eo.BuildOK),n}catch(e){throw r.metricsHandler.logEvent(eo.BuildError),e}}))()}giftCard(e){var t=this;return mp((function*(){var r=yield t.getPaymentContext(co.GiftCard);r.metricsHandler.logEvent(eo.BuildStart);try{var n=new qu(r,e);return r.metricsHandler.logEvent(eo.BuildOK),n}catch(e){throw r.metricsHandler.logEvent(eo.BuildError),e}}))()}afterpayClearpay(e){var t=this;return mp((function*(){var r=yield t.getPaymentContext(co.Afterpay);r.metricsHandler.logEvent(eo.BuildStart),vp(ps.AFTERPAY,r),yp(e,r);try{var n=t.getPaymentRequestLock(e),[i,o]=yield th(r),s=hh(i,o,e,r,n);return yield s.internalSetCheckoutToken(),r.metricsHandler.logEvent(eo.BuildOK),s}catch(e){throw r.metricsHandler.logEvent(eo.BuildError),e}}))()}cashAppPay(e,t){var r=this;return mp((function*(){var n=yield r.getPaymentContext(co.CashAppPayV1);n.metricsHandler.logEvent(eo.BuildStart),vp(ps.CASH_APP_PAY_V1,n),yp(e,n);try{var i=r.getPaymentRequestLock(e),o=yield dh.initialize(n),s=fh(o,e,t,n,i);return n.metricsHandler.logEvent(eo.BuildOK),s}catch(e){throw n.metricsHandler.logEvent(eo.BuildError),e}}))()}getPaymentContext(e){var t=arguments,r=this;return mp((function*(){var n=!(t.length>1&&void 0!==t[1])||t[1],{featureFlagValues:i,messenger:o,session:s,paymentMethodSupportDetail:a,isTestMerchant:c}=yield r.initializePaymentMethod();s.avt&&r.errorLogger.setAvt(s.avt),s.sessionId&&r.errorLogger.setSessionId(s.sessionId),s.instanceId&&r.errorLogger.setInstanceId(s.instanceId);var u=Ms(),l=new Us(r.metrics,s,e,u),d=i[Ii.AnalyticsBackend];if(r.contextEventTarget||(r.contextEventTarget=new ks),void 0===r.analyticsManager){var h,p=function(e){return e[Ii.ClientLogLevel]===Ti.Debug?console:{debug(){},error(){}}}(i),f=new fp(r.errorLogger,s.applicationId,s.locationId);d===Ci.Inline&&(f=new cp(s.applicationId,s.locationId,p,null!==(h=s.avt)&&void 0!==h?h:"")),r.analyticsManager=vh.build(f),r.analyticsManager.setupAutoRefresh(Hs)}var g=new Cs(r.errorLogger,o,l,s,a,r.localeStrings,r.contextEventTarget,i,c,r.analyticsManager);return n&&r.analyticsManager.beginGenerateToken(),r.errorLogger.setFeatureFlagHandler(g.featureFlagHandler),g}))()}initializePaymentMethod(){return this.initializePaymentParamPromise||(this.initializePaymentParamPromise=Xl.initializePayment(this.paymentOptions,this.metrics,this.errorLogger,this.localeStrings)),this.initializePaymentParamPromise}getPaymentRequestLock(e){var t=this.paymentRequestLockMap.get(e);if(!t){var r=new Gn("PaymentRequestLockMap entry does not exist. This should never happen.");throw this.errorLogger.captureException(r),r}return t}}function _p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Sp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_p(Object(r),!0).forEach((function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ip=l.ENABLE_ERROR_LOGGING,Ap=l.env,Op=new Map;function Cp(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n="".concat(e,"-").concat(r);if(Op.has(n))return Op.get(n);if(!(t=a.windowLocation).hostname.endsWith("localhost")&&"https:"!==t.protocol)throw new wn;if(!a.isSupported())throw new bn;!function(e){if(!function(e){return!(e.length<22||e.length>37)&&ui.test(e)&&!li.test(e)}(e))throw new en;var t=e.match(/^[\w-]{22}$/),r=e.startsWith("sq0idp-"),n=e.startsWith("sandbox-sq0idb"),i=e.startsWith("sq0ids-");if(!(t||r||n||i))throw new en;if(r&&!hi())throw new tn(s.production,l.env);if(n&&!di(s.sandbox))throw new tn(s.sandbox,l.env)}(e);var i=new Ni({applicationId:e,applicationUrl:window.location.origin,enableErrorLogging:Ip,environment:Ap,sourceName:"web-payments-sdk-public",useGlobalHandlers:!1,version:l.VERSION}),o=a.windowLocation.hostname,c={applicationId:e,hostname:o,locationId:r,sourceUrl:a.windowLocation.origin},u=new ms(i,{applicationId:e,hostname:o,locationId:r});u.logEvent({event:eo.LoadOK,eventSource:co.App});var d=new Ep(c,u,i);return Op.set(n,d),d}window.Square?(window.Square.errors=window.Square.errors?Sp(Sp({},uo),window.Square.errors):uo,window.Square._buildWebSDKV1Payments=Cp):window.Square={errors:uo,_buildWebSDKV1Payments:Cp,payments:Cp}})()})();;
fbq('init', '153194283504427', {}, {
    "agent": "woocommerce-8.2.2-3.1.3"
});

				fbq( 'track', 'PageView', {
    "source": "woocommerce",
    "version": "8.2.2",
    "pluginVersion": "3.1.3"
} );

				document.addEventListener( 'DOMContentLoaded', function() {
					jQuery && jQuery( function( $ ) {
						// Insert placeholder for events injected when a product is added to the cart through AJAX.
						$( document.body ).append( '<div class=\"wc-facebook-pixel-event-placeholder\"></div>' );
					} );
				}, false );;
function showCheckoutWindow(e) {
      e.preventDefault();

      const url = document.getElementById('embedded-checkout-modal-checkout-button').getAttribute('data-url');
      const title = 'Square Online Checkout';

      // Some platforms embed in an iframe, so we want to top window to calculate sizes correctly
      const topWindow = window.top ? window.top : window;

      // Fixes dual-screen position                                Most browsers          Firefox
      const dualScreenLeft = topWindow.screenLeft !==  undefined ? topWindow.screenLeft : topWindow.screenX;
      const dualScreenTop = topWindow.screenTop !==  undefined   ? topWindow.screenTop  : topWindow.screenY;

      const width = topWindow.innerWidth ? topWindow.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : screen.width;
      const height = topWindow.innerHeight ? topWindow.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : screen.height;

      const h = height * .75;
      const w = 500;

      const systemZoom = width / topWindow.screen.availWidth;
      const left = (width - w) / 2 / systemZoom + dualScreenLeft;
      const top = (height - h) / 2 / systemZoom + dualScreenTop;
      const newWindow = window.open(url, title, `scrollbars=yes, width=${w / systemZoom}, height=${h / systemZoom}, top=${top}, left=${left}`);

      if (window.focus) newWindow.focus();
    }

    // This overrides the default checkout button click handler to show the embed modal
    // instead of opening a new tab with the given link url
    document.getElementById('embedded-checkout-modal-checkout-button').addEventListener('click', function (e) {
      showCheckoutWindow(e);
    });;
(function () {
			var c = document.body.className;
			c = c.replace(/woocommerce-no-js/, 'woocommerce-js');
			document.body.className = c;
		})();;
/*!
 * accounting.js v0.4.2
 * Copyright 2014 Open Exchange Rates
 *
 * Freely distributable under the MIT license.
 * Portions of accounting.js are inspired or borrowed from underscore.js
 *
 * Full details and documentation:
 * http://openexchangerates.github.io/accounting.js/
 */
!function(n,r){var e={version:"0.4.1",settings:{currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}}},t=Array.prototype.map,o=Array.isArray,a=Object.prototype.toString;function i(n){return!!(""===n||n&&n.charCodeAt&&n.substr)}function u(n){return o?o(n):"[object Array]"===a.call(n)}function c(n){return n&&"[object Object]"===a.call(n)}function s(n,r){var e;for(e in n=n||{},r=r||{})r.hasOwnProperty(e)&&null==n[e]&&(n[e]=r[e]);return n}function f(n,r,e){var o,a,i=[];if(!n)return i;if(t&&n.map===t)return n.map(r,e);for(o=0,a=n.length;o<a;o++)i[o]=r.call(e,n[o],o,n);return i}function p(n,r){return n=Math.round(Math.abs(n)),isNaN(n)?r:n}function l(n){var r=e.settings.currency.format;return"function"==typeof n&&(n=n()),i(n)&&n.match("%v")?{pos:n,neg:n.replace("-","").replace("%v","-%v"),zero:n}:n&&n.pos&&n.pos.match("%v")?n:i(r)?e.settings.currency.format={pos:r,neg:r.replace("%v","-%v"),zero:r}:r}var m,d=e.unformat=e.parse=function(n,r){if(u(n))return f(n,function(n){return d(n,r)});if("number"==typeof(n=n||0))return n;r=r||e.settings.number.decimal;var t=new RegExp("[^0-9-"+r+"]",["g"]),o=parseFloat((""+n).replace(/\((.*)\)/,"-$1").replace(t,"").replace(r,"."));return isNaN(o)?0:o},g=e.toFixed=function(n,r){r=p(r,e.settings.number.precision);var t=Math.pow(10,r);return(Math.round(e.unformat(n)*t)/t).toFixed(r)},h=e.formatNumber=e.format=function(n,r,t,o){if(u(n))return f(n,function(n){return h(n,r,t,o)});n=d(n);var a=s(c(r)?r:{precision:r,thousand:t,decimal:o},e.settings.number),i=p(a.precision),l=n<0?"-":"",m=parseInt(g(Math.abs(n||0),i),10)+"",y=m.length>3?m.length%3:0;return l+(y?m.substr(0,y)+a.thousand:"")+m.substr(y).replace(/(\d{3})(?=\d)/g,"$1"+a.thousand)+(i?a.decimal+g(Math.abs(n),i).split(".")[1]:"")},y=e.formatMoney=function(n,r,t,o,a,i){if(u(n))return f(n,function(n){return y(n,r,t,o,a,i)});n=d(n);var m=s(c(r)?r:{symbol:r,precision:t,thousand:o,decimal:a,format:i},e.settings.currency),g=l(m.format);return(n>0?g.pos:n<0?g.neg:g.zero).replace("%s",m.symbol).replace("%v",h(Math.abs(n),p(m.precision),m.thousand,m.decimal))};e.formatColumn=function(n,r,t,o,a,m){if(!n)return[];var g=s(c(r)?r:{symbol:r,precision:t,thousand:o,decimal:a,format:m},e.settings.currency),y=l(g.format),b=y.pos.indexOf("%s")<y.pos.indexOf("%v"),v=0;return f(f(n,function(n,r){if(u(n))return e.formatColumn(n,g);var t=((n=d(n))>0?y.pos:n<0?y.neg:y.zero).replace("%s",g.symbol).replace("%v",h(Math.abs(n),p(g.precision),g.thousand,g.decimal));return t.length>v&&(v=t.length),t}),function(n,r){return i(n)&&n.length<v?b?n.replace(g.symbol,g.symbol+new Array(v-n.length+1).join(" ")):new Array(v-n.length+1).join(" ")+n:n})},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=e),exports.accounting=e):"function"==typeof define&&define.amd?define([],function(){return e}):(e.noConflict=(m=n.accounting,function(){return n.accounting=m,e.noConflict=void 0,e}),n.accounting=e)}(this);;
/*!
 * jQuery blockUI plugin
 * Version 2.70.0-2014.11.23
 * Requires jQuery v1.7 or later
 *
 * Examples at: http://malsup.com/jquery/block/
 * Copyright (c) 2007-2013 M. Alsup
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 * Thanks to Amir-Hossein Sobhi for some excellent contributions!
 */
!function(){"use strict";function e(e){e.fn._fadeIn=e.fn.fadeIn;var t=e.noop||function(){},o=/MSIE/.test(navigator.userAgent),n=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent),i=(document.documentMode,"function"==typeof document.createElement("div").style.setExpression&&document.createElement("div").style.setExpression);e.blockUI=function(e){d(window,e)},e.unblockUI=function(e){a(window,e)},e.growlUI=function(t,o,n,i){var s=e('<div class="growlUI"></div>');t&&s.append("<h1>"+t+"</h1>"),o&&s.append("<h2>"+o+"</h2>"),n===undefined&&(n=3e3);var l=function(t){t=t||{},e.blockUI({message:s,fadeIn:"undefined"!=typeof t.fadeIn?t.fadeIn:700,fadeOut:"undefined"!=typeof t.fadeOut?t.fadeOut:1e3,timeout:"undefined"!=typeof t.timeout?t.timeout:n,centerY:!1,showOverlay:!1,onUnblock:i,css:e.blockUI.defaults.growlCSS})};l();s.css("opacity");s.on("mouseover",function(){l({fadeIn:0,timeout:3e4});var t=e(".blockMsg");t.stop(),t.fadeTo(300,1)}).on("mouseout",function(){e(".blockMsg").fadeOut(1e3)})},e.fn.block=function(t){if(this[0]===window)return e.blockUI(t),this;var o=e.extend({},e.blockUI.defaults,t||{});return this.each(function(){var t=e(this);o.ignoreIfBlocked&&t.data("blockUI.isBlocked")||t.unblock({fadeOut:0})}),this.each(function(){"static"==e.css(this,"position")&&(this.style.position="relative",e(this).data("blockUI.static",!0)),this.style.zoom=1,d(this,t)})},e.fn.unblock=function(t){return this[0]===window?(e.unblockUI(t),this):this.each(function(){a(this,t)})},e.blockUI.version=2.7,e.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1e3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1};var s=null,l=[];function d(d,c){var u,b,h=d==window,k=c&&c.message!==undefined?c.message:undefined;if(!(c=e.extend({},e.blockUI.defaults,c||{})).ignoreIfBlocked||!e(d).data("blockUI.isBlocked")){if(c.overlayCSS=e.extend({},e.blockUI.defaults.overlayCSS,c.overlayCSS||{}),u=e.extend({},e.blockUI.defaults.css,c.css||{}),c.onOverlayClick&&(c.overlayCSS.cursor="pointer"),b=e.extend({},e.blockUI.defaults.themedCSS,c.themedCSS||{}),k=k===undefined?c.message:k,h&&s&&a(window,{fadeOut:0}),k&&"string"!=typeof k&&(k.parentNode||k.jquery)){var y=k.jquery?k[0]:k,m={};e(d).data("blockUI.history",m),m.el=y,m.parent=y.parentNode,m.display=y.style.display,m.position=y.style.position,m.parent&&m.parent.removeChild(y)}e(d).data("blockUI.onUnblock",c.onUnblock);var g,v,I,w,U=c.baseZ;g=o||c.forceIframe?e('<iframe class="blockUI" style="z-index:'+U+++';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+c.iframeSrc+'"></iframe>'):e('<div class="blockUI" style="display:none"></div>'),v=c.theme?e('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+U+++';display:none"></div>'):e('<div class="blockUI blockOverlay" style="z-index:'+U+++';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>'),c.theme&&h?(w='<div class="blockUI '+c.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(U+10)+';display:none;position:fixed">',c.title&&(w+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(c.title||"&nbsp;")+"</div>"),w+='<div class="ui-widget-content ui-dialog-content"></div>',w+="</div>"):c.theme?(w='<div class="blockUI '+c.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(U+10)+';display:none;position:absolute">',c.title&&(w+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(c.title||"&nbsp;")+"</div>"),w+='<div class="ui-widget-content ui-dialog-content"></div>',w+="</div>"):w=h?'<div class="blockUI '+c.blockMsgClass+' blockPage" style="z-index:'+(U+10)+';display:none;position:fixed"></div>':'<div class="blockUI '+c.blockMsgClass+' blockElement" style="z-index:'+(U+10)+';display:none;position:absolute"></div>',I=e(w),k&&(c.theme?(I.css(b),I.addClass("ui-widget-content")):I.css(u)),c.theme||v.css(c.overlayCSS),v.css("position",h?"fixed":"absolute"),(o||c.forceIframe)&&g.css("opacity",0);var x=[g,v,I],C=e(h?"body":d);e.each(x,function(){this.appendTo(C)}),c.theme&&c.draggable&&e.fn.draggable&&I.draggable({handle:".ui-dialog-titlebar",cancel:"li"});var S=i&&(!e.support.boxModel||e("object,embed",h?null:d).length>0);if(n||S){if(h&&c.allowBodyStretch&&e.support.boxModel&&e("html,body").css("height","100%"),(n||!e.support.boxModel)&&!h)var E=p(d,"borderTopWidth"),O=p(d,"borderLeftWidth"),T=E?"(0 - "+E+")":0,M=O?"(0 - "+O+")":0;e.each(x,function(e,t){var o=t[0].style;if(o.position="absolute",e<2)h?o.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+c.quirksmodeOffsetHack+') + "px"'):o.setExpression("height",'this.parentNode.offsetHeight + "px"'),h?o.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):o.setExpression("width",'this.parentNode.offsetWidth + "px"'),M&&o.setExpression("left",M),T&&o.setExpression("top",T);else if(c.centerY)h&&o.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),o.marginTop=0;else if(!c.centerY&&h){var n="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+(c.css&&c.css.top?parseInt(c.css.top,10):0)+') + "px"';o.setExpression("top",n)}})}if(k&&(c.theme?I.find(".ui-widget-content").append(k):I.append(k),(k.jquery||k.nodeType)&&e(k).show()),(o||c.forceIframe)&&c.showOverlay&&g.show(),c.fadeIn){var B=c.onBlock?c.onBlock:t,j=c.showOverlay&&!k?B:t,H=k?B:t;c.showOverlay&&v._fadeIn(c.fadeIn,j),k&&I._fadeIn(c.fadeIn,H)}else c.showOverlay&&v.show(),k&&I.show(),c.onBlock&&c.onBlock.bind(I)();if(r(1,d,c),h?(s=I[0],l=e(c.focusableElements,s),c.focusInput&&setTimeout(f,20)):function(e,t,o){var n=e.parentNode,i=e.style,s=(n.offsetWidth-e.offsetWidth)/2-p(n,"borderLeftWidth"),l=(n.offsetHeight-e.offsetHeight)/2-p(n,"borderTopWidth");t&&(i.left=s>0?s+"px":"0");o&&(i.top=l>0?l+"px":"0")}(I[0],c.centerX,c.centerY),c.timeout){var z=setTimeout(function(){h?e.unblockUI(c):e(d).unblock(c)},c.timeout);e(d).data("blockUI.timeout",z)}}}function a(t,o){var n,i,d=t==window,a=e(t),u=a.data("blockUI.history"),f=a.data("blockUI.timeout");f&&(clearTimeout(f),a.removeData("blockUI.timeout")),o=e.extend({},e.blockUI.defaults,o||{}),r(0,t,o),null===o.onUnblock&&(o.onUnblock=a.data("blockUI.onUnblock"),a.removeData("blockUI.onUnblock")),i=d?e(document.body).children().filter(".blockUI").add("body > .blockUI"):a.find(">.blockUI"),o.cursorReset&&(i.length>1&&(i[1].style.cursor=o.cursorReset),i.length>2&&(i[2].style.cursor=o.cursorReset)),d&&(s=l=null),o.fadeOut?(n=i.length,i.stop().fadeOut(o.fadeOut,function(){0==--n&&c(i,u,o,t)})):c(i,u,o,t)}function c(t,o,n,i){var s=e(i);if(!s.data("blockUI.isBlocked")){t.each(function(e,t){this.parentNode&&this.parentNode.removeChild(this)}),o&&o.el&&(o.el.style.display=o.display,o.el.style.position=o.position,o.el.style.cursor="default",o.parent&&o.parent.appendChild(o.el),s.removeData("blockUI.history")),s.data("blockUI.static")&&s.css("position","static"),"function"==typeof n.onUnblock&&n.onUnblock(i,n);var l=e(document.body),d=l.width(),a=l[0].style.width;l.width(d-1).width(d),l[0].style.width=a}}function r(t,o,n){var i=o==window,l=e(o);if((t||(!i||s)&&(i||l.data("blockUI.isBlocked")))&&(l.data("blockUI.isBlocked",t),i&&n.bindEvents&&(!t||n.showOverlay))){var d="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";t?e(document).on(d,n,u):e(document).off(d,u)}}function u(t){if("keydown"===t.type&&t.keyCode&&9==t.keyCode&&s&&t.data.constrainTabKey){var o=l,n=!t.shiftKey&&t.target===o[o.length-1],i=t.shiftKey&&t.target===o[0];if(n||i)return setTimeout(function(){f(i)},10),!1}var d=t.data,a=e(t.target);return a.hasClass("blockOverlay")&&d.onOverlayClick&&d.onOverlayClick(t),a.parents("div."+d.blockMsgClass).length>0||0===a.parents().children().filter("div.blockUI").length}function f(e){if(l){var t=l[!0===e?l.length-1:0];t&&t.trigger("focus")}}function p(t,o){return parseInt(e.css(t,o),10)||0}}"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e(jQuery)}();;
!function(t,a,i,e){var r=function(t){var a=this;a.$form=t,a.$attributeFields=t.find(".variations select"),a.$singleVariation=t.find(".single_variation"),a.$singleVariationWrap=t.find(".single_variation_wrap"),a.$resetVariations=t.find(".reset_variations"),a.$product=t.closest(".product"),a.variationData=t.data("product_variations"),a.useAjax=!1===a.variationData,a.xhr=!1,a.loading=!0,a.$singleVariationWrap.show(),a.$form.off(".wc-variation-form"),a.getChosenAttributes=a.getChosenAttributes.bind(a),a.findMatchingVariations=a.findMatchingVariations.bind(a),a.isMatch=a.isMatch.bind(a),a.toggleResetLink=a.toggleResetLink.bind(a),t.on("click.wc-variation-form",".reset_variations",{variationForm:a},a.onReset),t.on("reload_product_variations",{variationForm:a},a.onReload),t.on("hide_variation",{variationForm:a},a.onHide),t.on("show_variation",{variationForm:a},a.onShow),t.on("click",".single_add_to_cart_button",{variationForm:a},a.onAddToCart),t.on("reset_data",{variationForm:a},a.onResetDisplayedVariation),t.on("reset_image",{variationForm:a},a.onResetImage),t.on("change.wc-variation-form",".variations select",{variationForm:a},a.onChange),t.on("found_variation.wc-variation-form",{variationForm:a},a.onFoundVariation),t.on("check_variations.wc-variation-form",{variationForm:a},a.onFindVariation),t.on("update_variation_values.wc-variation-form",{variationForm:a},a.onUpdateAttributes),setTimeout(function(){t.trigger("check_variations"),t.trigger("wc_variation_form",a),a.loading=!1},100)};r.prototype.onReset=function(t){t.preventDefault(),t.data.variationForm.$attributeFields.val("").trigger("change"),t.data.variationForm.$form.trigger("reset_data")},r.prototype.onReload=function(t){var a=t.data.variationForm;a.variationData=a.$form.data("product_variations"),a.useAjax=!1===a.variationData,a.$form.trigger("check_variations")},r.prototype.onHide=function(t){t.preventDefault(),t.data.variationForm.$form.find(".single_add_to_cart_button").removeClass("wc-variation-is-unavailable").addClass("disabled wc-variation-selection-needed"),t.data.variationForm.$form.find(".woocommerce-variation-add-to-cart").removeClass("woocommerce-variation-add-to-cart-enabled").addClass("woocommerce-variation-add-to-cart-disabled")},r.prototype.onShow=function(a,i,e){a.preventDefault(),e?(a.data.variationForm.$form.find(".single_add_to_cart_button").removeClass("disabled wc-variation-selection-needed wc-variation-is-unavailable"),a.data.variationForm.$form.find(".woocommerce-variation-add-to-cart").removeClass("woocommerce-variation-add-to-cart-disabled").addClass("woocommerce-variation-add-to-cart-enabled")):(a.data.variationForm.$form.find(".single_add_to_cart_button").removeClass("wc-variation-selection-needed").addClass("disabled wc-variation-is-unavailable"),a.data.variationForm.$form.find(".woocommerce-variation-add-to-cart").removeClass("woocommerce-variation-add-to-cart-enabled").addClass("woocommerce-variation-add-to-cart-disabled")),wp.mediaelement&&a.data.variationForm.$form.find(".wp-audio-shortcode, .wp-video-shortcode").not(".mejs-container").filter(function(){return!t(this).parent().hasClass("mejs-mediaelement")}).mediaelementplayer(wp.mediaelement.settings)},r.prototype.onAddToCart=function(i){t(this).is(".disabled")&&(i.preventDefault(),t(this).is(".wc-variation-is-unavailable")?a.alert(wc_add_to_cart_variation_params.i18n_unavailable_text):t(this).is(".wc-variation-selection-needed")&&a.alert(wc_add_to_cart_variation_params.i18n_make_a_selection_text))},r.prototype.onResetDisplayedVariation=function(t){var a=t.data.variationForm;a.$product.find(".product_meta").find(".sku").wc_reset_content(),a.$product.find(".product_weight, .woocommerce-product-attributes-item--weight .woocommerce-product-attributes-item__value").wc_reset_content(),a.$product.find(".product_dimensions, .woocommerce-product-attributes-item--dimensions .woocommerce-product-attributes-item__value").wc_reset_content(),a.$form.trigger("reset_image"),a.$singleVariation.slideUp(200).trigger("hide_variation")},r.prototype.onResetImage=function(t){t.data.variationForm.$form.wc_variations_image_update(!1)},r.prototype.onFindVariation=function(a,i){var e=a.data.variationForm,r=void 0!==i?i:e.getChosenAttributes(),o=r.data;if(r.count&&r.count===r.chosenCount)if(e.useAjax)e.xhr&&e.xhr.abort(),e.$form.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),o.product_id=parseInt(e.$form.data("product_id"),10),o.custom_data=e.$form.data("custom_data"),e.xhr=t.ajax({url:wc_add_to_cart_variation_params.wc_ajax_url.toString().replace("%%endpoint%%","get_variation"),type:"POST",data:o,success:function(t){t?e.$form.trigger("found_variation",[t]):(e.$form.trigger("reset_data"),r.chosenCount=0,e.loading||(e.$form.find(".single_variation").after('<p class="wc-no-matching-variations woocommerce-info">'+wc_add_to_cart_variation_params.i18n_no_matching_variations_text+"</p>"),e.$form.find(".wc-no-matching-variations").slideDown(200)))},complete:function(){e.$form.unblock()}});else{e.$form.trigger("update_variation_values");var n=e.findMatchingVariations(e.variationData,o).shift();n?e.$form.trigger("found_variation",[n]):(e.$form.trigger("reset_data"),r.chosenCount=0,e.loading||(e.$form.find(".single_variation").after('<p class="wc-no-matching-variations woocommerce-info">'+wc_add_to_cart_variation_params.i18n_no_matching_variations_text+"</p>"),e.$form.find(".wc-no-matching-variations").slideDown(200)))}else e.$form.trigger("update_variation_values"),e.$form.trigger("reset_data");e.toggleResetLink(r.chosenCount>0)},r.prototype.onFoundVariation=function(a,i){var e=a.data.variationForm,r=e.$product.find(".product_meta").find(".sku"),n=e.$product.find(".product_weight, .woocommerce-product-attributes-item--weight .woocommerce-product-attributes-item__value"),s=e.$product.find(".product_dimensions, .woocommerce-product-attributes-item--dimensions .woocommerce-product-attributes-item__value"),c=e.$singleVariationWrap.find('.quantity input.qty[name="quantity"]'),_=c.closest(".quantity"),d=!0,m=!1,v="";if(i.sku?r.wc_set_content(i.sku):r.wc_reset_content(),i.weight?n.wc_set_content(i.weight_html):n.wc_reset_content(),i.dimensions?s.wc_set_content(t.parseHTML(i.dimensions_html)[0].data):s.wc_reset_content(),e.$form.wc_variations_image_update(i),i.variation_is_visible?(m=o("variation-template"),i.variation_id):m=o("unavailable-variation-template"),v=(v=(v=m({variation:i})).replace("/*<![CDATA[*/","")).replace("/*]]>*/",""),e.$singleVariation.html(v),e.$form.find('input[name="variation_id"], input.variation_id').val(i.variation_id).trigger("change"),"yes"===i.is_sold_individually)c.val("1").attr("min","1").attr("max","").trigger("change"),_.hide();else{var l=parseFloat(c.val());l=isNaN(l)?i.min_qty:(l=l>parseFloat(i.max_qty)?i.max_qty:l)<parseFloat(i.min_qty)?i.min_qty:l,c.attr("min",i.min_qty).attr("max",i.max_qty).val(l).trigger("change"),_.show()}i.is_purchasable&&i.is_in_stock&&i.variation_is_visible||(d=!1),e.$singleVariation.text().trim()?e.$singleVariation.slideDown(200).trigger("show_variation",[i,d]):e.$singleVariation.show().trigger("show_variation",[i,d])},r.prototype.onChange=function(t){var a=t.data.variationForm;a.$form.find('input[name="variation_id"], input.variation_id').val("").trigger("change"),a.$form.find(".wc-no-matching-variations").remove(),a.useAjax?a.$form.trigger("check_variations"):(a.$form.trigger("woocommerce_variation_select_change"),a.$form.trigger("check_variations")),a.$form.trigger("woocommerce_variation_has_changed")},r.prototype.addSlashes=function(t){return t=(t=t.replace(/'/g,"\\'")).replace(/"/g,'\\"')},r.prototype.onUpdateAttributes=function(a){var i=a.data.variationForm,e=i.getChosenAttributes().data;i.useAjax||(i.$attributeFields.each(function(a,r){var o,n=t(r),s=n.data("attribute_name")||n.attr("name"),c=t(r).data("show_option_none"),_=":gt(0)",d=t("<select/>"),m=n.val()||"",v=!0;if(!n.data("attribute_html")){var l=n.clone();l.find("option").removeAttr("attached").prop("disabled",!1).prop("selected",!1),n.data("attribute_options",l.find("option"+_).get()),n.data("attribute_html",l.html())}d.html(n.data("attribute_html"));var g=t.extend(!0,{},e);g[s]="";var f=i.findMatchingVariations(i.variationData,g);for(var u in f)if("undefined"!=typeof f[u]){var h=f[u].attributes;for(var p in h)if(h.hasOwnProperty(p)){var w=h[p],b="";if(p===s)if(f[u].variation_is_active&&(b="enabled"),w){w=t("<div/>").html(w).text();var $=d.find("option");if($.length)for(var y=0,F=$.length;y<F;y++){var C=t($[y]);if(w===C.val()){C.addClass("attached "+b);break}}}else d.find("option:gt(0)").addClass("attached "+b)}}o=d.find("option.attached").length,m&&(v=!1,0!==o&&d.find("option.attached.enabled").each(function(){var a=t(this).val();if(m===a)return v=!0,!1})),o>0&&m&&v&&"no"===c&&(d.find("option:first").remove(),_=""),d.find("option"+_+":not(.attached)").remove(),n.html(d.html()),n.find("option"+_+":not(.enabled)").prop("disabled",!0),m?v?n.val(m):n.val("").trigger("change"):n.val("")}),i.$form.trigger("woocommerce_update_variation_values"))},r.prototype.getChosenAttributes=function(){var a={},i=0,e=0;return this.$attributeFields.each(function(){var r=t(this).data("attribute_name")||t(this).attr("name"),o=t(this).val()||"";o.length>0&&e++,i++,a[r]=o}),{count:i,chosenCount:e,data:a}},r.prototype.findMatchingVariations=function(t,a){for(var i=[],e=0;e<t.length;e++){var r=t[e];this.isMatch(r.attributes,a)&&i.push(r)}return i},r.prototype.isMatch=function(t,a){var i=!0;for(var e in t)if(t.hasOwnProperty(e)){var r=t[e],o=a[e];void 0!==r&&void 0!==o&&0!==r.length&&0!==o.length&&r!==o&&(i=!1)}return i},r.prototype.toggleResetLink=function(t){t?"hidden"===this.$resetVariations.css("visibility")&&this.$resetVariations.css("visibility","visible").hide().fadeIn():this.$resetVariations.css("visibility","hidden")},t.fn.wc_variation_form=function(){return new r(this),this},t.fn.wc_set_content=function(t){void 0===this.attr("data-o_content")&&this.attr("data-o_content",this.text()),this.text(t)},t.fn.wc_reset_content=function(){void 0!==this.attr("data-o_content")&&this.text(this.attr("data-o_content"))},t.fn.wc_set_variation_attr=function(t,a){void 0===this.attr("data-o_"+t)&&this.attr("data-o_"+t,this.attr(t)?this.attr(t):""),!1===a?this.removeAttr(t):this.attr(t,a)},t.fn.wc_reset_variation_attr=function(t){void 0!==this.attr("data-o_"+t)&&this.attr(t,this.attr("data-o_"+t))},t.fn.wc_maybe_trigger_slide_position_reset=function(a){var i=t(this),e=i.closest(".product").find(".images"),r=!1,o=a&&a.image_id?a.image_id:"";i.attr("current-image")!==o&&(r=!0),i.attr("current-image",o),r&&e.trigger("woocommerce_gallery_reset_slide_position")},t.fn.wc_variations_image_update=function(i){var e=this,r=e.closest(".product"),o=r.find(".images"),n=r.find(".flex-control-nav"),s=n.find("li:eq(0) img"),c=o.find(".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),_=c.find(".wp-post-image"),d=c.find("a").eq(0);if(i&&i.image&&i.image.src&&i.image.src.length>1){n.find('li img[data-o_src="'+i.image.gallery_thumbnail_src+'"]').length>0&&e.wc_variations_image_reset();var m=n.find('li img[src="'+i.image.gallery_thumbnail_src+'"]');if(m.length>0)return m.trigger("click"),e.attr("current-image",i.image_id),void a.setTimeout(function(){t(a).trigger("resize"),o.trigger("woocommerce_gallery_init_zoom")},20);_.wc_set_variation_attr("src",i.image.src),_.wc_set_variation_attr("height",i.image.src_h),_.wc_set_variation_attr("width",i.image.src_w),_.wc_set_variation_attr("srcset",i.image.srcset),_.wc_set_variation_attr("sizes",i.image.sizes),_.wc_set_variation_attr("title",i.image.title),_.wc_set_variation_attr("data-caption",i.image.caption),_.wc_set_variation_attr("alt",i.image.alt),_.wc_set_variation_attr("data-src",i.image.full_src),_.wc_set_variation_attr("data-large_image",i.image.full_src),_.wc_set_variation_attr("data-large_image_width",i.image.full_src_w),_.wc_set_variation_attr("data-large_image_height",i.image.full_src_h),c.wc_set_variation_attr("data-thumb",i.image.src),s.wc_set_variation_attr("src",i.image.gallery_thumbnail_src),d.wc_set_variation_attr("href",i.image.full_src)}else e.wc_variations_image_reset();a.setTimeout(function(){t(a).trigger("resize"),e.wc_maybe_trigger_slide_position_reset(i),o.trigger("woocommerce_gallery_init_zoom")},20)},t.fn.wc_variations_image_reset=function(){var t=this.closest(".product"),a=t.find(".images"),i=t.find(".flex-control-nav").find("li:eq(0) img"),e=a.find(".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),r=e.find(".wp-post-image"),o=e.find("a").eq(0);r.wc_reset_variation_attr("src"),r.wc_reset_variation_attr("width"),r.wc_reset_variation_attr("height"),r.wc_reset_variation_attr("srcset"),r.wc_reset_variation_attr("sizes"),r.wc_reset_variation_attr("title"),r.wc_reset_variation_attr("data-caption"),r.wc_reset_variation_attr("alt"),r.wc_reset_variation_attr("data-src"),r.wc_reset_variation_attr("data-large_image"),r.wc_reset_variation_attr("data-large_image_width"),r.wc_reset_variation_attr("data-large_image_height"),e.wc_reset_variation_attr("data-thumb"),i.wc_reset_variation_attr("src"),o.wc_reset_variation_attr("href")},t(function(){"undefined"!=typeof wc_add_to_cart_variation_params&&t(".variations_form").each(function(){t(this).wc_variation_form()})});var o=function(t){var e=i.getElementById("tmpl-"+t).textContent,r=!1;return(r=(r=(r=r||/<#\s?data\./.test(e))||/{{{?\s?data\.(?!variation\.).+}}}?/.test(e))||/{{{?\s?data\.variation\.[\w-]*[^\s}]/.test(e))?wp.template(t):function(t){var i=t.variation||{};return e.replace(/({{{?)\s?data\.variation\.([\w-]*)\s?(}}}?)/g,function(t,e,r,o){if(e.length!==o.length)return"";var n=i[r]||"";return 2===e.length?a.escape(n):n})}}}(jQuery,window,document);;
jQuery(function(t){if("undefined"==typeof wc_add_to_cart_params)return!1;var a=function(){this.requests=[],this.addRequest=this.addRequest.bind(this),this.run=this.run.bind(this),t(document.body).on("click",".add_to_cart_button",{addToCartHandler:this},this.onAddToCart).on("click",".remove_from_cart_button",{addToCartHandler:this},this.onRemoveFromCart).on("added_to_cart",this.updateButton).on("ajax_request_not_sent.adding_to_cart",this.updateButton).on("added_to_cart removed_from_cart",{addToCartHandler:this},this.updateFragments)};a.prototype.addRequest=function(t){this.requests.push(t),1===this.requests.length&&this.run()},a.prototype.run=function(){var a=this,e=a.requests[0].complete;a.requests[0].complete=function(){"function"==typeof e&&e(),a.requests.shift(),a.requests.length>0&&a.run()},t.ajax(this.requests[0])},a.prototype.onAddToCart=function(a){var e=t(this);if(e.is(".ajax_add_to_cart")){if(!e.attr("data-product_id"))return!0;if(a.preventDefault(),e.removeClass("added"),e.addClass("loading"),!1===t(document.body).triggerHandler("should_send_ajax_request.adding_to_cart",[e]))return t(document.body).trigger("ajax_request_not_sent.adding_to_cart",[!1,!1,e]),!0;var r={};t.each(e.data(),function(t,a){r[t]=a}),t.each(e[0].dataset,function(t,a){r[t]=a}),t(document.body).trigger("adding_to_cart",[e,r]),a.data.addToCartHandler.addRequest({type:"POST",url:wc_add_to_cart_params.wc_ajax_url.toString().replace("%%endpoint%%","add_to_cart"),data:r,success:function(a){a&&(a.error&&a.product_url?window.location=a.product_url:"yes"!==wc_add_to_cart_params.cart_redirect_after_add?t(document.body).trigger("added_to_cart",[a.fragments,a.cart_hash,e]):window.location=wc_add_to_cart_params.cart_url)},dataType:"json"})}},a.prototype.onRemoveFromCart=function(a){var e=t(this),r=e.closest(".woocommerce-mini-cart-item");a.preventDefault(),r.block({message:null,overlayCSS:{opacity:.6}}),a.data.addToCartHandler.addRequest({type:"POST",url:wc_add_to_cart_params.wc_ajax_url.toString().replace("%%endpoint%%","remove_from_cart"),data:{cart_item_key:e.data("cart_item_key")},success:function(a){a&&a.fragments?t(document.body).trigger("removed_from_cart",[a.fragments,a.cart_hash,e]):window.location=e.attr("href")},error:function(){window.location=e.attr("href")},dataType:"json"})},a.prototype.updateButton=function(a,e,r,d){(d=void 0!==d&&d)&&(d.removeClass("loading"),e&&d.addClass("added"),e&&!wc_add_to_cart_params.is_cart&&0===d.parent().find(".added_to_cart").length&&d.after('<a href="'+wc_add_to_cart_params.cart_url+'" class="added_to_cart wc-forward" title="'+wc_add_to_cart_params.i18n_view_cart+'">'+wc_add_to_cart_params.i18n_view_cart+"</a>"),t(document.body).trigger("wc_cart_button_updated",[d]))},a.prototype.updateFragments=function(a,e){e&&(t.each(e,function(a){t(a).addClass("updating").fadeTo("400","0.6").block({message:null,overlayCSS:{opacity:.6}})}),t.each(e,function(a,e){t(a).replaceWith(e),t(a).stop(!0).css("opacity","1").unblock()}),t(document.body).trigger("wc_fragments_loaded"))},new a});;
jQuery(function(t){if("undefined"==typeof wc_single_product_params)return!1;t("body").on("init",".wc-tabs-wrapper, .woocommerce-tabs",function(){t(this).find(".wc-tab, .woocommerce-tabs .panel:not(.panel .panel)").hide();var e=window.location.hash,i=window.location.href,o=t(this).find(".wc-tabs, ul.tabs").first();e.toLowerCase().indexOf("comment-")>=0||"#reviews"===e||"#tab-reviews"===e?o.find("li.reviews_tab a").trigger("click"):i.indexOf("comment-page-")>0||i.indexOf("cpage=")>0?o.find("li.reviews_tab a").trigger("click"):"#tab-additional_information"===e?o.find("li.additional_information_tab a").trigger("click"):o.find("li:first a").trigger("click")}).on("click",".wc-tabs li a, ul.tabs li a",function(e){e.preventDefault();var i=t(this),o=i.closest(".wc-tabs-wrapper, .woocommerce-tabs");o.find(".wc-tabs, ul.tabs").find("li").removeClass("active"),o.find(".wc-tab, .panel:not(.panel .panel)").hide(),i.closest("li").addClass("active"),o.find("#"+i.attr("href").split("#")[1]).show()}).on("click","a.woocommerce-review-link",function(){return t(".reviews_tab a").trigger("click"),!0}).on("init","#rating",function(){t("#rating").hide().before('<p class="stars">\t\t\t\t\t\t<span>\t\t\t\t\t\t\t<a class="star-1" href="#">1</a>\t\t\t\t\t\t\t<a class="star-2" href="#">2</a>\t\t\t\t\t\t\t<a class="star-3" href="#">3</a>\t\t\t\t\t\t\t<a class="star-4" href="#">4</a>\t\t\t\t\t\t\t<a class="star-5" href="#">5</a>\t\t\t\t\t\t</span>\t\t\t\t\t</p>')}).on("click","#respond p.stars a",function(){var e=t(this),i=t(this).closest("#respond").find("#rating"),o=t(this).closest(".stars");return i.val(e.text()),e.siblings("a").removeClass("active"),e.addClass("active"),o.addClass("selected"),!1}).on("click","#respond #submit",function(){var e=t(this).closest("#respond").find("#rating"),i=e.val();if(e.length>0&&!i&&"yes"===wc_single_product_params.review_rating_required)return window.alert(wc_single_product_params.i18n_required_rating_text),!1}),t(".wc-tabs-wrapper, .woocommerce-tabs, #rating").trigger("init");var e=function(e,i){this.$target=e,this.$images=t(".woocommerce-product-gallery__image",e),0!==this.$images.length?(e.data("product_gallery",this),this.flexslider_enabled="function"==typeof t.fn.flexslider&&wc_single_product_params.flexslider_enabled,this.zoom_enabled="function"==typeof t.fn.zoom&&wc_single_product_params.zoom_enabled,this.photoswipe_enabled="undefined"!=typeof PhotoSwipe&&wc_single_product_params.photoswipe_enabled,i&&(this.flexslider_enabled=!1!==i.flexslider_enabled&&this.flexslider_enabled,this.zoom_enabled=!1!==i.zoom_enabled&&this.zoom_enabled,this.photoswipe_enabled=!1!==i.photoswipe_enabled&&this.photoswipe_enabled),1===this.$images.length&&(this.flexslider_enabled=!1),this.initFlexslider=this.initFlexslider.bind(this),this.initZoom=this.initZoom.bind(this),this.initZoomForTarget=this.initZoomForTarget.bind(this),this.initPhotoswipe=this.initPhotoswipe.bind(this),this.onResetSlidePosition=this.onResetSlidePosition.bind(this),this.getGalleryItems=this.getGalleryItems.bind(this),this.openPhotoswipe=this.openPhotoswipe.bind(this),this.flexslider_enabled?(this.initFlexslider(i.flexslider),e.on("woocommerce_gallery_reset_slide_position",this.onResetSlidePosition)):this.$target.css("opacity",1),this.zoom_enabled&&(this.initZoom(),e.on("woocommerce_gallery_init_zoom",this.initZoom)),this.photoswipe_enabled&&this.initPhotoswipe()):this.$target.css("opacity",1)};e.prototype.initFlexslider=function(e){var i=this.$target,o=this,r=t.extend({selector:".woocommerce-product-gallery__wrapper > .woocommerce-product-gallery__image",start:function(){i.css("opacity",1)},after:function(t){o.initZoomForTarget(o.$images.eq(t.currentSlide))}},e);i.flexslider(r),t(".woocommerce-product-gallery__wrapper .woocommerce-product-gallery__image:eq(0) .wp-post-image").one("load",function(){var e=t(this);e&&setTimeout(function(){var t=e.closest(".woocommerce-product-gallery__image").height(),i=e.closest(".flex-viewport");t&&i&&i.height(t)},100)}).each(function(){this.complete&&t(this).trigger("load")})},e.prototype.initZoom=function(){this.initZoomForTarget(this.$images.first())},e.prototype.initZoomForTarget=function(e){if(!this.zoom_enabled)return!1;var i=this.$target.width(),o=!1;if(t(e).each(function(e,r){if(t(r).find("img").data("large_image_width")>i)return o=!0,!1}),o){var r=t.extend({touch:!1},wc_single_product_params.zoom_options);"ontouchstart"in document.documentElement&&(r.on="click"),e.trigger("zoom.destroy"),e.zoom(r),setTimeout(function(){e.find(":hover").length&&e.trigger("mouseover")},100)}},e.prototype.initPhotoswipe=function(){this.zoom_enabled&&this.$images.length>0?(this.$target.prepend('<a href="#" class="woocommerce-product-gallery__trigger">🔍</a>'),this.$target.on("click",".woocommerce-product-gallery__trigger",this.openPhotoswipe),this.$target.on("click",".woocommerce-product-gallery__image a",function(t){t.preventDefault()}),this.flexslider_enabled||this.$target.on("click",".woocommerce-product-gallery__image a",this.openPhotoswipe)):this.$target.on("click",".woocommerce-product-gallery__image a",this.openPhotoswipe)},e.prototype.onResetSlidePosition=function(){this.$target.flexslider(0)},e.prototype.getGalleryItems=function(){var e=this.$images,i=[];return e.length>0&&e.each(function(e,o){var r=t(o).find("img");if(r.length){var a=r.attr("data-large_image"),s=r.attr("data-large_image_width"),n=r.attr("data-large_image_height"),l={alt:r.attr("alt"),src:a,w:s,h:n,title:r.attr("data-caption")?r.attr("data-caption"):r.attr("title")};i.push(l)}}),i},e.prototype.openPhotoswipe=function(e){e.preventDefault();var i,o=t(".pswp")[0],r=this.getGalleryItems(),a=t(e.target);i=0<a.closest(".woocommerce-product-gallery__trigger").length?this.$target.find(".flex-active-slide"):a.closest(".woocommerce-product-gallery__image");var s=t.extend({index:t(i).index(),addCaptionHTMLFn:function(t,e){return t.title?(e.children[0].textContent=t.title,!0):(e.children[0].textContent="",!1)}},wc_single_product_params.photoswipe_options);new PhotoSwipe(o,PhotoSwipeUI_Default,r,s).init()},t.fn.wc_product_gallery=function(t){return new e(this,t||wc_single_product_params),this},t(".woocommerce-product-gallery").each(function(){t(this).trigger("wc-product-gallery-before-init",[this,wc_single_product_params]),t(this).wc_product_gallery(wc_single_product_params),t(this).trigger("wc-product-gallery-after-init",[this,wc_single_product_params])})});;
/*!
 * JavaScript Cookie v2.1.4
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */
!function(e){var n=!1;if("function"==typeof define&&define.amd&&(define(e),n=!0),"object"==typeof exports&&(module.exports=e(),n=!0),!n){var o=window.Cookies,t=window.Cookies=e();t.noConflict=function(){return window.Cookies=o,t}}}(function(){function e(){for(var e=0,n={};e<arguments.length;e++){var o=arguments[e];for(var t in o)n[t]=o[t]}return n}return function n(o){function t(n,r,i){var c;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(i=e({path:"/"},t.defaults,i)).expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*i.expires),i.expires=a}i.expires=i.expires?i.expires.toUTCString():"";try{c=JSON.stringify(r),/^[\{\[]/.test(c)&&(r=c)}catch(m){}r=o.write?o.write(r,n):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),n=(n=(n=encodeURIComponent(String(n))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var f="";for(var s in i)i[s]&&(f+="; "+s,!0!==i[s]&&(f+="="+i[s]));return document.cookie=n+"="+r+f}n||(c={});for(var p=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,u=0;u<p.length;u++){var l=p[u].split("="),C=l.slice(1).join("=");'"'===C.charAt(0)&&(C=C.slice(1,-1));try{var g=l[0].replace(d,decodeURIComponent);if(C=o.read?o.read(C,g):o(C,g)||C.replace(d,decodeURIComponent),this.json)try{C=JSON.parse(C)}catch(m){}if(n===g){c=C;break}n||(c[g]=C)}catch(m){}}return c}}return t.set=t,t.get=function(e){return t.call(t,e)},t.getJSON=function(){return t.apply({json:!0},[].slice.call(arguments))},t.defaults={},t.remove=function(n,o){t(n,"",e(o,{expires:-1}))},t.withConverter=n,t}(function(){})});;
jQuery(function(o){o(".woocommerce-ordering").on("change","select.orderby",function(){o(this).closest("form").trigger("submit")}),o("input.qty:not(.product-quantity input.qty)").each(function(){var e=parseFloat(o(this).attr("min"));e>=0&&parseFloat(o(this).val())<e&&o(this).val(e)});var e="store_notice"+(o(".woocommerce-store-notice").data("noticeId")||"");"hidden"===Cookies.get(e)?o(".woocommerce-store-notice").hide():o(".woocommerce-store-notice").show(),o(".woocommerce-store-notice__dismiss-link").on("click",function(s){Cookies.set(e,"hidden",{path:"/"}),o(".woocommerce-store-notice").hide(),s.preventDefault()}),o(".woocommerce-input-wrapper span.description").length&&o(document.body).on("click",function(){o(".woocommerce-input-wrapper span.description:visible").prop("aria-hidden",!0).slideUp(250)}),o(".woocommerce-input-wrapper").on("click",function(o){o.stopPropagation()}),o(".woocommerce-input-wrapper :input").on("keydown",function(e){var s=o(this).parent().find("span.description");if(27===e.which&&s.length&&s.is(":visible"))return s.prop("aria-hidden",!0).slideUp(250),e.preventDefault(),!1}).on("click focus",function(){var e=o(this).parent(),s=e.find("span.description");e.addClass("currentTarget"),o(".woocommerce-input-wrapper:not(.currentTarget) span.description:visible").prop("aria-hidden",!0).slideUp(250),s.length&&s.is(":hidden")&&s.prop("aria-hidden",!1).slideDown(250),e.removeClass("currentTarget")}),o.scroll_to_notices=function(e){e.length&&o("html, body").animate({scrollTop:e.offset().top-100},1e3)},o('.woocommerce form .woocommerce-Input[type="password"]').wrap('<span class="password-input"></span>'),o(".woocommerce form input").filter(":password").parent("span").addClass("password-input"),o(".password-input").append('<span class="show-password-input"></span>'),o(".show-password-input").on("click",function(){o(this).hasClass("display-password")?o(this).removeClass("display-password"):o(this).addClass("display-password"),o(this).hasClass("display-password")?o(this).siblings(['input[type="password"]']).prop("type","text"):o(this).siblings('input[type="text"]').prop("type","password")})});;
!function(t){t.fn.tipTip=function(e){var o=t.extend({activation:"hover",keepAlive:!1,maxWidth:"200px",edgeOffset:3,defaultPosition:"bottom",delay:400,fadeIn:200,fadeOut:200,attribute:"title",content:!1,enter:function(){},exit:function(){}},e);if(t("#tiptip_holder").length<=0){var n=t('<div id="tiptip_holder" style="max-width:'+o.maxWidth+';"></div>'),i=t('<div id="tiptip_content"></div>'),r=t('<div id="tiptip_arrow"></div>');t("body").append(n.html(i).prepend(r.html('<div id="tiptip_arrow_inner"></div>')))}else n=t("#tiptip_holder"),i=t("#tiptip_content"),r=t("#tiptip_arrow");return this.each(function(){var e=t(this);if(o.content)var a=o.content;else a=e.attr(o.attribute);if(""!=a){o.content||e.removeAttr(o.attribute);var f=!1;function d(){var d="function"==typeof o.content?o.content():a;if(d){o.enter.call(this),i.html(d),n.hide().css("margin","0"),n.removeAttr("class"),r.removeAttr("style");var u=parseInt(e.offset().top),p=parseInt(e.offset().left),s=parseInt(e.outerWidth()),l=parseInt(e.outerHeight()),c=n.outerWidth(),h=n.outerHeight(),_=Math.round((s-c)/2),m=Math.round((l-h)/2),v=Math.round(p+_),g=Math.round(u+l+o.edgeOffset),b="",M="",w=Math.round(c-12)/2;"bottom"==o.defaultPosition?b="_bottom":"top"==o.defaultPosition?b="_top":"left"==o.defaultPosition?b="_left":"right"==o.defaultPosition&&(b="_right");var O=_+p<parseInt(t(window).scrollLeft()),x=c+p>parseInt(t(window).width());O&&_<0||"_right"==b&&!x||"_left"==b&&p<c+o.edgeOffset+5?(b="_right",M=Math.round(h-13)/2,w=-12,v=Math.round(p+s+o.edgeOffset),g=Math.round(u+m)):(x&&_<0||"_left"==b&&!O)&&(b="_left",M=Math.round(h-13)/2,w=Math.round(c),v=Math.round(p-(c+o.edgeOffset+5)),g=Math.round(u+m));var I=u+l+o.edgeOffset+h+8>parseInt(t(window).height()+t(window).scrollTop()),A=u+l-(o.edgeOffset+h+8)<0;I||"_bottom"==b&&I||"_top"==b&&!A?("_top"==b||"_bottom"==b?b="_top":b+="_top",M=h,g=Math.round(u-(h+5+o.edgeOffset))):(A|("_top"==b&&A)||"_bottom"==b&&!I)&&("_top"==b||"_bottom"==b?b="_bottom":b+="_bottom",M=-12,g=Math.round(u+l+o.edgeOffset)),"_right_top"==b||"_left_top"==b?g+=5:"_right_bottom"!=b&&"_left_bottom"!=b||(g-=5),"_left_top"!=b&&"_left_bottom"!=b||(v+=5),r.css({"margin-left":w+"px","margin-top":M+"px"}),n.css({"margin-left":v+"px","margin-top":g+"px"}).attr("class","tip"+b),f&&clearTimeout(f),f=setTimeout(function(){n.stop(!0,!0).fadeIn(o.fadeIn)},o.delay)}}function u(){o.exit.call(this),f&&clearTimeout(f),n.fadeOut(o.fadeOut)}"hover"==o.activation?(e.on("mouseenter",function(){d()}).on("mouseleave",function(){o.keepAlive&&n.is(":hover")||u()}),o.keepAlive&&n.on("mouseenter",function(){}).on("mouseleave",function(){u()})):"focus"==o.activation?e.on("focus",function(){d()}).on("blur",function(){u()}):"click"==o.activation&&(e.on("click",function(){return d(),!1}).on("mouseenter",function(){}).on("mouseleave",function(){o.keepAlive||u()}),o.keepAlive&&n.on("mouseenter",function(){}).on("mouseleave",function(){u()}))}})}}(jQuery);;
jQuery(function(t){if("undefined"==typeof wc_country_select_params)return!1;if(t().selectWoo){var e=function(){t("select.country_select:visible, select.state_select:visible").each(function(){var e=t(this),n=t.extend({placeholder:e.attr("data-placeholder")||e.attr("placeholder")||"",label:e.attr("data-label")||null,width:"100%"},{language:{errorLoading:function(){return wc_country_select_params.i18n_searching},inputTooLong:function(t){var e=t.input.length-t.maximum;return 1===e?wc_country_select_params.i18n_input_too_long_1:wc_country_select_params.i18n_input_too_long_n.replace("%qty%",e)},inputTooShort:function(t){var e=t.minimum-t.input.length;return 1===e?wc_country_select_params.i18n_input_too_short_1:wc_country_select_params.i18n_input_too_short_n.replace("%qty%",e)},loadingMore:function(){return wc_country_select_params.i18n_load_more},maximumSelected:function(t){return 1===t.maximum?wc_country_select_params.i18n_selection_too_long_1:wc_country_select_params.i18n_selection_too_long_n.replace("%qty%",t.maximum)},noResults:function(){return wc_country_select_params.i18n_no_matches},searching:function(){return wc_country_select_params.i18n_searching}}});t(this).on("select2:select",function(){t(this).trigger("focus")}).selectWoo(n)})};e(),t(document.body).on("country_to_state_changed",function(){e()})}var n=wc_country_select_params.countries.replace(/&quot;/g,'"'),o=JSON.parse(n),a=".woocommerce-billing-fields,.woocommerce-shipping-fields,.woocommerce-address-fields,.woocommerce-shipping-calculator";t(document.body).on("change refresh","select.country_to_state, input.country_to_state",function(){var e=t(this).closest(a);e.length||(e=t(this).closest(".form-row").parent());var n,c=t(this).val(),r=e.find("#billing_state, #shipping_state, #calc_shipping_state"),i=r.closest(".form-row"),s=r.attr("name"),_=r.attr("id"),l=r.attr("data-input-classes"),p=r.val(),u=r.attr("placeholder")||r.attr("data-placeholder")||"";if(o[c])if(t.isEmptyObject(o[c]))n=t('<input type="hidden" />').prop("id",_).prop("name",s).prop("placeholder",u).attr("data-input-classes",l).addClass("hidden "+l),i.hide().find(".select2-container").remove(),r.replaceWith(n),t(document.body).trigger("country_to_state_changed",[c,e]);else{var d=o[c],h=t('<option value=""></option>').text(wc_country_select_params.i18n_select_state_text);u||(u=wc_country_select_params.i18n_select_state_text),i.show(),r.is("input")&&(n=t("<select></select>").prop("id",_).prop("name",s).data("placeholder",u).attr("data-input-classes",l).addClass("state_select "+l),r.replaceWith(n),r=e.find("#billing_state, #shipping_state, #calc_shipping_state")),r.empty().append(h),t.each(d,function(e){var n=t("<option></option>").prop("value",e).text(d[e]);r.append(n)}),r.val(p).trigger("change"),t(document.body).trigger("country_to_state_changed",[c,e])}else r.is('select, input[type="hidden"]')&&(n=t('<input type="text" />').prop("id",_).prop("name",s).prop("placeholder",u).attr("data-input-classes",l).addClass("input-text  "+l),i.show().find(".select2-container").remove(),r.replaceWith(n),t(document.body).trigger("country_to_state_changed",[c,e]));t(document.body).trigger("country_to_state_changing",[c,e])}),t(document.body).on("wc_address_i18n_ready",function(){t(a).each(function(){var e=t(this).find("#billing_country, #shipping_country, #calc_shipping_country");0!==e.length&&0!==e.val().length&&e.trigger("refresh")})})});;
!function(){var e=document.currentScript;function t(t){var n=document.createElement("script"),o=e||document.getElementsByTagName("script")[0];n.setAttribute("async",!0),n.setAttribute("src",t),o.parentNode.insertBefore(n,o)}function n(e,t){return Element.prototype.matches?e.matches(t):Element.prototype.msMatchesSelector?e.msMatchesSelector(t):void 0}function o(e,t){if(e.closest)return e.closest(t);var o=e;do{if(n(o,t))return o;o=o.parentElement||o.parentNode}while(null!==o&&1===o.nodeType);return null}function i(e,t){for(var n=0;n<e.length;n++)t(e[n],n,e)}var r=".sharing-hidden .inner",s="data-sharing-more-button-id";function a(e){this.button=e,this.pane=o(e,"div").querySelector(r),this.openedBy=null,this.recentlyOpenedByHover=!1,a.instances.push(this),this.pane.setAttribute(s,a.instances.length-1),this.attachHandlers()}if(a.instances=[],a.hoverOpenDelay=200,a.recentOpenDelay=400,a.hoverCloseDelay=300,a.instantiateOrReuse=function(e){var t=o(e,"div").querySelector(r),n=t&&t.getAttribute(s),i=a.instances[n];return i||new a(e)},a.getButtonInstanceFromPane=function(e){var t=e&&e.getAttribute(s);return a.instances[t]},a.closeAll=function(){for(var e=0;e<a.instances.length;e++)a.instances[e].close()},a.prototype.open=function(){var e,t,n=[0,0];function o(e){var t=e.getBoundingClientRect();return[t.left+(window.scrollX||window.pageXOffset||0),t.top+(window.scrollY||window.pageYOffset||0)]}function i(e,t){return parseInt(getComputedStyle(e).getPropertyValue(t)||0)}for(e=o(this.button),t=this.button.offsetParent||document.documentElement;t&&(t===document.body||t===document.documentElement)&&"static"===getComputedStyle(t).getPropertyValue("position");)t=t.parentNode;t&&t!==this.button&&1===t.nodeType&&(n=[(n=o(t))[0]+i(t,"border-left-width"),n[1]+i(t,"border-top-width")]);var r,s=e[0]-n[0]-i(this.button,"margin-left"),a=e[1]-n[1]-i(this.button,"margin-top");this.pane.style.left=s+"px",this.pane.style.top=a+this.button.offsetHeight+3+"px",(r=this.pane)&&r.style.removeProperty("display")},a.prototype.close=function(){var e;(e=this.pane)&&(e.style.display="none"),this.openedBy=null},a.prototype.toggle=function(){var e;(e=this.pane)&&"none"!==e.style.display?this.close():this.open()},a.prototype.nonHoverOpen=function(){clearTimeout(this.openTimer),clearTimeout(this.closeTimer),this.recentlyOpenedByHover?(this.recentlyOpenedByHover=!1,clearTimeout(this.hoverOpenTimer),this.open()):this.toggle()},a.prototype.resetCloseTimer=function(){clearTimeout(this.closeTimer),this.closeTimer=setTimeout(this.close.bind(this),a.hoverCloseDelay)},a.prototype.attachHandlers=function(){this.buttonClick=function(e){e.preventDefault(),e.stopPropagation(),this.openedBy="click",this.nonHoverOpen()}.bind(this),this.buttonKeydown=function(e){13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),e.stopPropagation(),this.openedBy="keydown",this.nonHoverOpen())}.bind(this),this.buttonEnter=function(){this.openedBy||(this.openTimer=setTimeout(function(){this.open(),this.openedBy="hover",this.recentlyOpenedByHover=!0,this.hoverOpenTimer=setTimeout(function(){this.recentlyOpenedByHover=!1}.bind(this),a.recentOpenDelay)}.bind(this),a.hoverOpenDelay)),clearTimeout(this.closeTimer)}.bind(this),this.buttonLeave=function(){"hover"===this.openedBy&&this.resetCloseTimer(),clearTimeout(this.openTimer)}.bind(this),this.paneEnter=function(){clearTimeout(this.closeTimer)}.bind(this),this.paneLeave=function(){"hover"===this.openedBy&&this.resetCloseTimer()}.bind(this),this.documentClick=function(){this.close()}.bind(this),this.button.addEventListener("click",this.buttonClick),this.button.addEventListener("keydown",this.buttonKeydown),document.addEventListener("click",this.documentClick),void 0===document.ontouchstart&&(this.button.addEventListener("mouseenter",this.buttonEnter),this.button.addEventListener("mouseleave",this.buttonLeave),this.pane.addEventListener("mouseenter",this.paneEnter),this.pane.addEventListener("mouseleave",this.paneLeave))},window.sharing_js_options&&window.sharing_js_options.counts){var c={done_urls:[],get_counts:function(){var e,n,o,i,r;if("undefined"!=typeof WPCOM_sharing_counts)for(e in WPCOM_sharing_counts)if(o=WPCOM_sharing_counts[e],void 0===c.done_urls[o]){for(i in n={pinterest:[window.location.protocol+"//api.pinterest.com/v1/urls/count.json?callback=WPCOMSharing.update_pinterest_count&url="+encodeURIComponent(e)]})if(document.querySelector("a[data-shared=sharing-"+i+"-"+o+"]")){for(;r=n[i].pop();)t(r);window.sharing_js_options.is_stats_active&&c.bump_sharing_count_stat(i)}c.done_urls[o]=!0}},update_pinterest_count:function(e){void 0!==e.count&&1*e.count>0&&c.inject_share_count("sharing-pinterest-"+WPCOM_sharing_counts[e.url],e.count)},inject_share_count:function(e,t){i(document.querySelectorAll("a[data-shared="+e+"] > span"),(function(e){var n,o=e.querySelector(".share-count");(n=o)&&n.parentNode&&n.parentNode.removeChild(n);var i=document.createElement("span");i.className="share-count",i.textContent=c.format_count(t),e.appendChild(i)}))},format_count:function(e){return e<1e3?e:e>=1e3&&e<1e4?String(e).substring(0,1)+"K+":"10K+"},bump_sharing_count_stat:function(e){(new Image).src=document.location.protocol+"//pixel.wp.com/g.gif?v=wpcom-no-pv&x_sharing-count-request="+e+"&r="+Math.random()}};window.WPCOMSharing=c}function u(e,t){e.setAttribute("jetpack-share-click-count",t)}function d(e){var t=e.getAttribute("jetpack-share-click-count");return null===t?0:parseInt(t,10)}function l(e,t){var n,o=new XMLHttpRequest;o.open("POST",e,!0),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),o.setRequestHeader("x-requested-with","XMLHttpRequest"),o.send((n=t,(encodeURIComponent("email-share-nonce")+"="+encodeURIComponent(n)).replace(/%20/g,"+")))}function h(){p()}function p(){window.WPCOMSharing&&window.WPCOMSharing.get_counts(),i(document.querySelectorAll(".sharedaddy a"),(function(e){var t=e.getAttribute("href");t&&-1!==t.indexOf("share=")&&-1===t.indexOf("&nb=1")&&e.setAttribute("href",t+"&nb=1")})),i(document.querySelectorAll(".sharedaddy a.sharing-anchor"),(function(e){a.instantiateOrReuse(e)})),void 0!==document.ontouchstart&&document.body.classList.add("jp-sharing-input-touch"),i(document.querySelectorAll(".sharedaddy ul"),(function(e){"true"!==e.getAttribute("data-sharing-events-added")&&(e.setAttribute("data-sharing-events-added","true"),i(e.querySelectorAll("a.share-print"),(function(e){e.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation();var n=e.getAttribute("href")||"",i=function(){if(-1===n.indexOf("#print")){var e=(new Date).getTime();t=e,o=n,(i=document.createElement("iframe")).setAttribute("style","position:fixed; top:100; left:100; height:1px; width:1px; border:none;"),i.setAttribute("id","printFrame-"+t),i.setAttribute("name",i.getAttribute("id")),i.setAttribute("src",o),i.setAttribute("onload",'frames["printFrame-'+t+'"].focus();frames["printFrame-'+t+'"].print();'),document.body.appendChild(i)}else window.print();var t,o,i},s=o(e,r);if(s){var c=a.getButtonInstanceFromPane(s);c&&(c.close(),i())}else i()}))})),i(e.querySelectorAll("a.share-press-this"),(function(e){e.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation();var n="";if(window.getSelection?n=window.getSelection():document.getSelection?n=document.getSelection():document.selection&&(n=document.selection.createRange().text),n){var o=e.getAttribute("href");e.setAttribute("href",o+"&sel="+encodeURI(n))}window.open(e.getAttribute("href"),"t","toolbar=0,resizable=1,scrollbars=1,status=1,width=720,height=570")||(document.location.href=e.getAttribute("href"))}))})),i(e.querySelectorAll("a.share-email"),(function(t){u(t,0);var n,o,r=t.getAttribute("data-email-share-nonce"),s=t.getAttribute("data-email-share-track-url");r&&s&&(n=s,o=window.location.protocol+"//"+window.location.hostname+"/",0===String(n).indexOf(o))&&t.addEventListener("click",(function(){var n;u(n=t,d(n)+1),d(t)>2&&function(e,t){var n=t.parentElement;if(n.classList.contains("sd-content")){i(n.querySelectorAll(".share-email-error"),(function(e){e.parentElement.removeChild(e)}));var o=document.createElement("div");o.className="share-email-error";var r=document.createElement("h6");r.className="share-email-error-title",r.innerText=e.getAttribute("data-email-share-error-title"),o.appendChild(r);var s=document.createElement("p");s.className="share-email-error-text",s.innerText=e.getAttribute("data-email-share-error-text"),o.appendChild(s),n.appendChild(o)}}(t,e),l(s,r)}))})))})),i(document.querySelectorAll("li.share-email, li.share-custom a.sharing-anchor"),(function(e){e.classList.add("share-service-visible")}))}"loading"!==document.readyState?h():document.addEventListener("DOMContentLoaded",h),document.body.addEventListener("is.post-load",p)}();